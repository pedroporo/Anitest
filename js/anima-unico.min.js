/*! anima-unico 02-03-2014 */
window.Modernizr=function(a,b,c){function d(a){t.cssText=a}function e(a,b){return d(x.join(a+";")+(b||""))}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&t[e]!==c)return"pfx"==b?e:!0}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+z.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+A.join(d+" ")+d).split(" "),i(e,b,c))}function k(){o.input=function(c){for(var d=0,e=c.length;e>d;d++)E[c[d]]=c[d]in u;return E.list&&(E.list=!!b.createElement("datalist")&&!!a.HTMLDataListElement),E}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),o.inputtypes=function(a){for(var d,e,f,g=0,h=a.length;h>g;g++)u.setAttribute("type",e=a[g]),d="text"!==u.type,d&&(u.value=v,u.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(e)&&u.style.WebkitAppearance!==c?(q.appendChild(u),f=b.defaultView,d=f.getComputedStyle&&"textfield"!==f.getComputedStyle(u,null).WebkitAppearance&&0!==u.offsetHeight,q.removeChild(u)):/^(search|tel)$/.test(e)||(d=/^(url|email)$/.test(e)?u.checkValidity&&u.checkValidity()===!1:u.value!=v)),D[a[g]]=!!d;return D}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var l,m,n="2.6.2",o={},p=!0,q=b.documentElement,r="modernizr",s=b.createElement(r),t=s.style,u=b.createElement("input"),v=":)",w={}.toString,x=" -webkit- -moz- -o- -ms- ".split(" "),y="Webkit Moz O ms",z=y.split(" "),A=y.toLowerCase().split(" "),B={svg:"http://www.w3.org/2000/svg"},C={},D={},E={},F=[],G=F.slice,H=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:r+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',r,'">',a,"</style>"].join(""),j.id=r,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=q.style.overflow,q.style.overflow="hidden",q.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),q.style.overflow=i),!!g},I=function(b){var c=a.matchMedia||a.msMatchMedia;if(c)return c(b).matches;var d;return H("@media "+b+" { #"+r+" { position: absolute; } }",function(b){d="absolute"==(a.getComputedStyle?getComputedStyle(b,null):b.currentStyle).position}),d},J=function(){function a(a,e){e=e||b.createElement(d[a]||"div"),a="on"+a;var g=a in e;return g||(e.setAttribute||(e=b.createElement("div")),e.setAttribute&&e.removeAttribute&&(e.setAttribute(a,""),g=f(e[a],"function"),f(e[a],"undefined")||(e[a]=c),e.removeAttribute(a))),e=null,g}var d={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return a}(),K={}.hasOwnProperty;m=f(K,"undefined")||f(K.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return K.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=G.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(G.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(G.call(arguments)))};return d}),C.flexbox=function(){return j("flexWrap")},C.canvas=function(){var a=b.createElement("canvas");return!!a.getContext&&!!a.getContext("2d")},C.canvastext=function(){return!!o.canvas&&!!f(b.createElement("canvas").getContext("2d").fillText,"function")},C.webgl=function(){return!!a.WebGLRenderingContext},C.touch=function(){var c;return"ontouchstart"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:H(["@media (",x.join("touch-enabled),("),r,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(a){c=9===a.offsetTop}),c},C.geolocation=function(){return"geolocation"in navigator},C.postmessage=function(){return!!a.postMessage},C.websqldatabase=function(){return!!a.openDatabase},C.indexedDB=function(){return!!j("indexedDB",a)},C.hashchange=function(){return J("hashchange",a)&&(b.documentMode===c||b.documentMode>7)},C.history=function(){return!!a.history&&!!history.pushState},C.draganddrop=function(){var a=b.createElement("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},C.websockets=function(){return"WebSocket"in a||"MozWebSocket"in a},C.rgba=function(){return d("background-color:rgba(150,255,150,.5)"),g(t.backgroundColor,"rgba")},C.hsla=function(){return d("background-color:hsla(120,40%,100%,.5)"),g(t.backgroundColor,"rgba")||g(t.backgroundColor,"hsla")},C.multiplebgs=function(){return d("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(t.background)},C.backgroundsize=function(){return j("backgroundSize")},C.borderimage=function(){return j("borderImage")},C.borderradius=function(){return j("borderRadius")},C.boxshadow=function(){return j("boxShadow")},C.textshadow=function(){return""===b.createElement("div").style.textShadow},C.opacity=function(){return e("opacity:.55"),/^0.55$/.test(t.opacity)},C.cssanimations=function(){return j("animationName")},C.csscolumns=function(){return j("columnCount")},C.cssgradients=function(){var a="background-image:",b="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return d((a+"-webkit- ".split(" ").join(b+a)+x.join(c+a)).slice(0,-a.length)),g(t.backgroundImage,"gradient")},C.cssreflections=function(){return j("boxReflect")},C.csstransforms=function(){return!!j("transform")},C.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in q.style&&H("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},C.csstransitions=function(){return j("transition")},C.fontface=function(){var a;return H('@font-face {font-family:"font";src:url("https://")}',function(c,d){var e=b.getElementById("smodernizr"),f=e.sheet||e.styleSheet,g=f?f.cssRules&&f.cssRules[0]?f.cssRules[0].cssText:f.cssText||"":"";a=/src/i.test(g)&&0===g.indexOf(d.split(" ")[0])}),a},C.generatedcontent=function(){var a;return H(["#",r,"{font:0/0 a}#",r,':after{content:"',v,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},C.video=function(){var a=b.createElement("video"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(d){}return c},C.audio=function(){var a=b.createElement("audio"),c=!1;try{(c=!!a.canPlayType)&&(c=new Boolean(c),c.ogg=a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=a.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=a.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(d){}return c},C.localstorage=function(){try{return localStorage.setItem(r,r),localStorage.removeItem(r),!0}catch(a){return!1}},C.sessionstorage=function(){try{return sessionStorage.setItem(r,r),sessionStorage.removeItem(r),!0}catch(a){return!1}},C.webworkers=function(){return!!a.Worker},C.applicationcache=function(){return!!a.applicationCache},C.svg=function(){return!!b.createElementNS&&!!b.createElementNS(B.svg,"svg").createSVGRect},C.inlinesvg=function(){var a=b.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==B.svg},C.smil=function(){return!!b.createElementNS&&/SVGAnimate/.test(w.call(b.createElementNS(B.svg,"animate")))},C.svgclippaths=function(){return!!b.createElementNS&&/SVGClipPath/.test(w.call(b.createElementNS(B.svg,"clipPath")))};for(var L in C)m(C,L)&&(l=L.toLowerCase(),o[l]=C[L](),F.push((o[l]?"":"no-")+l));return o.input||k(),o.addTest=function(a,b){if("object"==typeof a)for(var d in a)m(a,d)&&o.addTest(d,a[d]);else{if(a=a.toLowerCase(),o[a]!==c)return o;b="function"==typeof b?b():b,"undefined"!=typeof p&&p&&(q.className+=" "+(b?"":"no-")+a),o[a]=b}return o},d(""),s=u=null,function(a,b){function c(a,b){var c=a.createElement("p"),d=a.getElementsByTagName("head")[0]||a.documentElement;return c.innerHTML="x<style>"+b+"</style>",d.insertBefore(c.lastChild,d.firstChild)}function d(){var a=r.elements;return"string"==typeof a?a.split(" "):a}function e(a){var b=q[a[o]];return b||(b={},p++,a[o]=p,q[p]=b),b}function f(a,c,d){if(c||(c=b),k)return c.createElement(a);d||(d=e(c));var f;return f=d.cache[a]?d.cache[a].cloneNode():n.test(a)?(d.cache[a]=d.createElem(a)).cloneNode():d.createElem(a),f.canHaveChildren&&!m.test(a)?d.frag.appendChild(f):f}function g(a,c){if(a||(a=b),k)return a.createDocumentFragment();c=c||e(a);for(var f=c.frag.cloneNode(),g=0,h=d(),i=h.length;i>g;g++)f.createElement(h[g]);return f}function h(a,b){b.cache||(b.cache={},b.createElem=a.createElement,b.createFrag=a.createDocumentFragment,b.frag=b.createFrag()),a.createElement=function(c){return r.shivMethods?f(c,a,b):b.createElem(c)},a.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+d().join().replace(/\w+/g,function(a){return b.createElem(a),b.frag.createElement(a),'c("'+a+'")'})+");return n}")(r,b.frag)}function i(a){a||(a=b);var d=e(a);return r.shivCSS&&!j&&!d.hasCSS&&(d.hasCSS=!!c(a,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),k||h(a,d),a}var j,k,l=a.html5||{},m=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,n=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,o="_html5shiv",p=0,q={};!function(){try{var a=b.createElement("a");a.innerHTML="<xyz></xyz>",j="hidden"in a,k=1==a.childNodes.length||function(){b.createElement("a");var a=b.createDocumentFragment();return"undefined"==typeof a.cloneNode||"undefined"==typeof a.createDocumentFragment||"undefined"==typeof a.createElement}()}catch(c){j=!0,k=!0}}();var r={elements:l.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:l.shivCSS!==!1,supportsUnknownElements:k,shivMethods:l.shivMethods!==!1,type:"default",shivDocument:i,createElement:f,createDocumentFragment:g};a.html5=r,i(b)}(this,b),o._version=n,o._prefixes=x,o._domPrefixes=A,o._cssomPrefixes=z,o.mq=I,o.hasEvent=J,o.testProp=function(a){return h([a])},o.testAllProps=j,o.testStyles=H,o.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},q.className=q.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(p?" js "+F.join(" "):""),o}(this,this.document),function(a,b,c){function d(a){return"[object Function]"==q.call(a)}function e(a){return"string"==typeof a}function f(){}function g(a){return!a||"loaded"==a||"complete"==a||"uninitialized"==a}function h(){var a=r.shift();s=1,a?a.t?o(function(){("c"==a.t?m.injectCss:m.injectJs)(a.s,0,a.a,a.x,a.e,1)},0):(a(),h()):s=0}function i(a,c,d,e,f,i,j){function k(b){if(!n&&g(l.readyState)&&(t.r=n=1,!s&&h(),l.onload=l.onreadystatechange=null,b)){"img"!=a&&o(function(){v.removeChild(l)},50);for(var d in A[c])A[c].hasOwnProperty(d)&&A[c][d].onload()}}var j=j||m.errorTimeout,l=b.createElement(a),n=0,q=0,t={t:d,s:c,e:f,a:i,x:j};1===A[c]&&(q=1,A[c]=[]),"object"==a?l.data=c:(l.src=c,l.type=a),l.width=l.height="0",l.onerror=l.onload=l.onreadystatechange=function(){k.call(this,q)},r.splice(e,0,t),"img"!=a&&(q||2===A[c]?(v.insertBefore(l,u?null:p),o(k,j)):A[c].push(l))}function j(a,b,c,d,f){return s=0,b=b||"j",e(a)?i("c"==b?x:w,a,b,this.i++,c,d,f):(r.splice(this.i++,0,a),1==r.length&&h()),this}function k(){var a=m;return a.loader={load:j,i:0},a}var l,m,n=b.documentElement,o=a.setTimeout,p=b.getElementsByTagName("script")[0],q={}.toString,r=[],s=0,t="MozAppearance"in n.style,u=t&&!!b.createRange().compareNode,v=u?n:p.parentNode,n=a.opera&&"[object Opera]"==q.call(a.opera),n=!!b.attachEvent&&!n,w=t?"object":n?"script":"img",x=n?"script":w,y=Array.isArray||function(a){return"[object Array]"==q.call(a)},z=[],A={},B={timeout:function(a,b){return b.length&&(a.timeout=b[0]),a}};m=function(a){function b(a){var b,c,d,a=a.split("!"),e=z.length,f=a.pop(),g=a.length,f={url:f,origUrl:f,prefixes:a};for(c=0;g>c;c++)d=a[c].split("="),(b=B[d.shift()])&&(f=b(f,d));for(c=0;e>c;c++)f=z[c](f);return f}function g(a,e,f,g,h){var i=b(a),j=i.autoCallback;i.url.split(".").pop().split("?").shift(),i.bypass||(e&&(e=d(e)?e:e[a]||e[g]||e[a.split("/").pop().split("?")[0]]),i.instead?i.instead(a,e,f,g,h):(A[i.url]?i.noexec=!0:A[i.url]=1,f.load(i.url,i.forceCSS||!i.forceJS&&"css"==i.url.split(".").pop().split("?").shift()?"c":c,i.noexec,i.attrs,i.timeout),(d(e)||d(j))&&f.load(function(){k(),e&&e(i.origUrl,h,g),j&&j(i.origUrl,h,g),A[i.url]=2})))}function h(a,b){function c(a,c){if(a){if(e(a))c||(l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}),g(a,l,b,0,j);else if(Object(a)===a)for(i in h=function(){var b,c=0;for(b in a)a.hasOwnProperty(b)&&c++;return c}(),a)a.hasOwnProperty(i)&&(!c&&!--h&&(d(l)?l=function(){var a=[].slice.call(arguments);m.apply(this,a),n()}:l[i]=function(a){return function(){var b=[].slice.call(arguments);a&&a.apply(this,b),n()}}(m[i])),g(a[i],l,b,i,j))}else!c&&n()}var h,i,j=!!a.test,k=a.load||a.both,l=a.callback||f,m=l,n=a.complete||f;c(j?a.yep:a.nope,!!k),k&&c(k)}var i,j,l=this.yepnope.loader;if(e(a))g(a,0,l,0);else if(y(a))for(i=0;i<a.length;i++)j=a[i],e(j)?g(j,0,l,0):y(j)?m(j):Object(j)===j&&h(j,l);else Object(a)===a&&h(a,l)},m.addPrefix=function(a,b){B[a]=b},m.addFilter=function(a){z.push(a)},m.errorTimeout=1e4,null==b.readyState&&b.addEventListener&&(b.readyState="loading",b.addEventListener("DOMContentLoaded",l=function(){b.removeEventListener("DOMContentLoaded",l,0),b.readyState="complete"},0)),a.yepnope=k(),a.yepnope.executeStack=h,a.yepnope.injectJs=function(a,c,d,e,i,j){var k,l,n=b.createElement("script"),e=e||m.errorTimeout;n.src=a;for(l in d)n.setAttribute(l,d[l]);c=j?h:c||f,n.onreadystatechange=n.onload=function(){!k&&g(n.readyState)&&(k=1,c(),n.onload=n.onreadystatechange=null)},o(function(){k||(k=1,c(1))},e),i?n.onload():p.parentNode.insertBefore(n,p)},a.yepnope.injectCss=function(a,c,d,e,g,i){var j,e=b.createElement("link"),c=i?h:c||f;e.href=a,e.rel="stylesheet",e.type="text/css";for(j in d)e.setAttribute(j,d[j]);g||(p.parentNode.insertBefore(e,p),o(c,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:function(b){return function(c,d){return"number"==typeof c?this.each(function(){var b=this;setTimeout(function(){a(b).focus(),d&&d.call(b)},c)}):b.apply(this,arguments)}}(a.fn.focus),scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;e.length>d;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}})}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(c,d,e){var f,g,h,i,j={},k=c.split(".")[0];c=c.split(".")[1],f=k+"-"+c,e||(e=d,d=a.Widget),a.expr[":"][f.toLowerCase()]=function(b){return!!a.data(b,f)},a[k]=a[k]||{},g=a[k][c],h=a[k][c]=function(a,c){return this._createWidget?(arguments.length&&this._createWidget(a,c),b):new h(a,c)},a.extend(h,g,{version:e.version,_proto:a.extend({},e),_childConstructors:[]}),i=new d,i.options=a.widget.extend({},i.options),a.each(e,function(c,e){return a.isFunction(e)?(j[c]=function(){var a=function(){return d.prototype[c].apply(this,arguments)},b=function(a){return d.prototype[c].apply(this,a)};return function(){var c,d=this._super,f=this._superApply;return this._super=a,this._superApply=b,c=e.apply(this,arguments),this._super=d,this._superApply=f,c}}(),b):(j[c]=e,b)}),h.prototype=a.widget.extend(i,{widgetEventPrefix:g?i.widgetEventPrefix:c},j,{constructor:h,namespace:k,widgetName:c,widgetFullName:f}),g?(a.each(g._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,h,c._proto)}),delete g._childConstructors):d._childConstructors.push(h),a.widget.bridge(c,h)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(c[e]=a.isPlainObject(f)?a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,this.each(h?function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):b):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}:function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;e.length-1>g;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,d,e){var f,g=this;"boolean"!=typeof c&&(e=d,d=c,c=!1),e?(d=f=a(d),this.bindings=this.bindings.add(d)):(e=d,d=this.element,f=this.widget()),a.each(e,function(e,h){function i(){return c||g.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof h?g[h]:h).apply(g,arguments):b}"string"!=typeof h&&(i.guid=h.guid=h.guid||i.guid||a.guid++);var j=e.match(/^(\w+)\s*(.*)$/),k=j[1]+g.eventNamespace,l=j[2];l?f.delegate(l,k,i):d.bind(k,i)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a){var b=!1;a(document).mouseup(function(){b=!1}),a.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!b){this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var d=this,e=1===c.which,f="string"==typeof this.options.cancel&&c.target.nodeName?a(c.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(c)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=this._mouseStart(c)!==!1,!this._mouseStarted)?(c.preventDefault(),!0):(!0===a.data(c.target,this.widgetName+".preventClickEvent")&&a.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||9>document.documentMode)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){function c(a,b,c){return[parseFloat(a[0])*(n.test(a[0])?b/100:1),parseFloat(a[1])*(n.test(a[1])?c/100:1)]}function d(b,c){return parseInt(a.css(b,c),10)||0}function e(b){var c=b[0];return 9===c.nodeType?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:a.isWindow(c)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:c.preventDefault?{width:0,height:0,offset:{top:c.pageY,left:c.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}a.ui=a.ui||{};var f,g=Math.max,h=Math.abs,i=Math.round,j=/left|center|right/,k=/top|center|bottom/,l=/[\+\-]\d+(\.[\d]+)?%?/,m=/^\w+/,n=/%$/,o=a.fn.position;a.position={scrollbarWidth:function(){if(f!==b)return f;var c,d,e=a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=e.children()[0];return a("body").append(e),c=g.offsetWidth,e.css("overflow","scroll"),d=g.offsetWidth,c===d&&(d=e[0].clientWidth),e.remove(),f=c-d},getScrollInfo:function(b){var c=b.isWindow?"":b.element.css("overflow-x"),d=b.isWindow?"":b.element.css("overflow-y"),e="scroll"===c||"auto"===c&&b.width<b.element[0].scrollWidth,f="scroll"===d||"auto"===d&&b.height<b.element[0].scrollHeight;return{width:f?a.position.scrollbarWidth():0,height:e?a.position.scrollbarWidth():0}},getWithinInfo:function(b){var c=a(b||window),d=a.isWindow(c[0]);return{element:c,isWindow:d,offset:c.offset()||{left:0,top:0},scrollLeft:c.scrollLeft(),scrollTop:c.scrollTop(),width:d?c.width():c.outerWidth(),height:d?c.height():c.outerHeight()}}},a.fn.position=function(b){if(!b||!b.of)return o.apply(this,arguments);b=a.extend({},b);var f,n,p,q,r,s,t=a(b.of),u=a.position.getWithinInfo(b.within),v=a.position.getScrollInfo(u),w=(b.collision||"flip").split(" "),x={};return s=e(t),t[0].preventDefault&&(b.at="left top"),n=s.width,p=s.height,q=s.offset,r=a.extend({},q),a.each(["my","at"],function(){var a,c,d=(b[this]||"").split(" ");1===d.length&&(d=j.test(d[0])?d.concat(["center"]):k.test(d[0])?["center"].concat(d):["center","center"]),d[0]=j.test(d[0])?d[0]:"center",d[1]=k.test(d[1])?d[1]:"center",a=l.exec(d[0]),c=l.exec(d[1]),x[this]=[a?a[0]:0,c?c[0]:0],b[this]=[m.exec(d[0])[0],m.exec(d[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===b.at[0]?r.left+=n:"center"===b.at[0]&&(r.left+=n/2),"bottom"===b.at[1]?r.top+=p:"center"===b.at[1]&&(r.top+=p/2),f=c(x.at,n,p),r.left+=f[0],r.top+=f[1],this.each(function(){var e,j,k=a(this),l=k.outerWidth(),m=k.outerHeight(),o=d(this,"marginLeft"),s=d(this,"marginTop"),y=l+o+d(this,"marginRight")+v.width,z=m+s+d(this,"marginBottom")+v.height,A=a.extend({},r),B=c(x.my,k.outerWidth(),k.outerHeight());"right"===b.my[0]?A.left-=l:"center"===b.my[0]&&(A.left-=l/2),"bottom"===b.my[1]?A.top-=m:"center"===b.my[1]&&(A.top-=m/2),A.left+=B[0],A.top+=B[1],a.support.offsetFractions||(A.left=i(A.left),A.top=i(A.top)),e={marginLeft:o,marginTop:s},a.each(["left","top"],function(c,d){a.ui.position[w[c]]&&a.ui.position[w[c]][d](A,{targetWidth:n,targetHeight:p,elemWidth:l,elemHeight:m,collisionPosition:e,collisionWidth:y,collisionHeight:z,offset:[f[0]+B[0],f[1]+B[1]],my:b.my,at:b.at,within:u,elem:k})}),b.using&&(j=function(a){var c=q.left-A.left,d=c+n-l,e=q.top-A.top,f=e+p-m,i={target:{element:t,left:q.left,top:q.top,width:n,height:p},element:{element:k,left:A.left,top:A.top,width:l,height:m},horizontal:0>d?"left":c>0?"right":"center",vertical:0>f?"top":e>0?"bottom":"middle"};l>n&&n>h(c+d)&&(i.horizontal="center"),m>p&&p>h(e+f)&&(i.vertical="middle"),i.important=g(h(c),h(d))>g(h(e),h(f))?"horizontal":"vertical",b.using.call(this,a,i)}),k.offset(a.extend(A,{using:j}))})},a.ui.position={fit:{left:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollLeft:d.offset.left,f=d.width,h=a.left-b.collisionPosition.marginLeft,i=e-h,j=h+b.collisionWidth-f-e;
b.collisionWidth>f?i>0&&0>=j?(c=a.left+i+b.collisionWidth-f-e,a.left+=i-c):a.left=j>0&&0>=i?e:i>j?e+f-b.collisionWidth:e:i>0?a.left+=i:j>0?a.left-=j:a.left=g(a.left-h,a.left)},top:function(a,b){var c,d=b.within,e=d.isWindow?d.scrollTop:d.offset.top,f=b.within.height,h=a.top-b.collisionPosition.marginTop,i=e-h,j=h+b.collisionHeight-f-e;b.collisionHeight>f?i>0&&0>=j?(c=a.top+i+b.collisionHeight-f-e,a.top+=i-c):a.top=j>0&&0>=i?e:i>j?e+f-b.collisionHeight:e:i>0?a.top+=i:j>0?a.top-=j:a.top=g(a.top-h,a.top)}},flip:{left:function(a,b){var c,d,e=b.within,f=e.offset.left+e.scrollLeft,g=e.width,i=e.isWindow?e.scrollLeft:e.offset.left,j=a.left-b.collisionPosition.marginLeft,k=j-i,l=j+b.collisionWidth-g-i,m="left"===b.my[0]?-b.elemWidth:"right"===b.my[0]?b.elemWidth:0,n="left"===b.at[0]?b.targetWidth:"right"===b.at[0]?-b.targetWidth:0,o=-2*b.offset[0];0>k?(c=a.left+m+n+o+b.collisionWidth-g-f,(0>c||h(k)>c)&&(a.left+=m+n+o)):l>0&&(d=a.left-b.collisionPosition.marginLeft+m+n+o-i,(d>0||l>h(d))&&(a.left+=m+n+o))},top:function(a,b){var c,d,e=b.within,f=e.offset.top+e.scrollTop,g=e.height,i=e.isWindow?e.scrollTop:e.offset.top,j=a.top-b.collisionPosition.marginTop,k=j-i,l=j+b.collisionHeight-g-i,m="top"===b.my[1],n=m?-b.elemHeight:"bottom"===b.my[1]?b.elemHeight:0,o="top"===b.at[1]?b.targetHeight:"bottom"===b.at[1]?-b.targetHeight:0,p=-2*b.offset[1];0>k?(d=a.top+n+o+p+b.collisionHeight-g-f,a.top+n+o+p>k&&(0>d||h(k)>d)&&(a.top+=n+o+p)):l>0&&(c=a.top-b.collisionPosition.marginTop+n+o+p-i,a.top+n+o+p>l&&(c>0||l>h(c))&&(a.top+=n+o+p))}},flipfit:{left:function(){a.ui.position.flip.left.apply(this,arguments),a.ui.position.fit.left.apply(this,arguments)},top:function(){a.ui.position.flip.top.apply(this,arguments),a.ui.position.fit.top.apply(this,arguments)}}},function(){var b,c,d,e,f,g=document.getElementsByTagName("body")[0],h=document.createElement("div");b=document.createElement(g?"div":"body"),d={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},g&&a.extend(d,{position:"absolute",left:"-1000px",top:"-1000px"});for(f in d)b.style[f]=d[f];b.appendChild(h),c=g||document.documentElement,c.insertBefore(b,c.firstChild),h.style.cssText="position: absolute; left: 10.7432222px;",e=a(h).offset().left,a.support.offsetFractions=e>10&&11>e,b.innerHTML="",c.removeChild(b)}()}(jQuery),function(a){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c=this,d=!1;return a.ui.ddmanager&&!this.options.dropBehaviour&&(d=a.ui.ddmanager.drop(this,b)),this.dropped&&(d=this.dropped,this.dropped=!1),"original"!==this.options.helper||a.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!d||"valid"===this.options.revert&&d||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,d)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",b)!==!1&&c._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){return this.options.handle?!!a(b.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]===this.element[0]||/(fixed|absolute)/.test(d.css("position"))||d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;return e.containment?"window"===e.containment?void(this.containment=[a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,a(window).scrollLeft()+a(window).width()-this.helperProportions.width-this.margins.left,a(window).scrollTop()+(a(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===e.containment?void(this.containment=[0,0,a(document).width()-this.helperProportions.width-this.margins.left,(a(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):e.containment.constructor===Array?void(this.containment=e.containment):("parent"===e.containment&&(e.containment=this.helper[0].parentNode),c=a(e.containment),d=c[0],void(d&&(b="hidden"!==c.css("overflow"),this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c))):void(this.containment=null)},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:e.scrollTop(),left:e.scrollLeft()}),{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=b.pageX,j=b.pageY;return this.offset.scroll||(this.offset.scroll={top:h.scrollTop(),left:h.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(i=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(j=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(i=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(j=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((j-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,j=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((i-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,i=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:j-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:i-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,h-p>r||q>i+p||j-p>t||s>k+p||!a.contains(n.snapElements[l].item.ownerDocument,n.snapElements[l].item)?(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1):("inner"!==o.snapMode&&(d=p>=Math.abs(j-t),e=p>=Math.abs(k-s),f=p>=Math.abs(h-r),g=p>=Math.abs(i-q),d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=p>=Math.abs(j-s),e=p>=Math.abs(k-t),f=p>=Math.abs(h-q),g=p>=Math.abs(i-r),d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=this.data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(a(d[0]).css("zIndex"),10)||0,a(d).each(function(c){a(this).css("zIndex",b+c)}),this.css("zIndex",b+d.length))}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}a.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b=this.options,c=b.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];c.length>b;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,c,d){if(!c.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=g+a.helperProportions.width,i=(a.positionAbs||a.position.absolute).top,j=i+a.helperProportions.height,k=c.offset.left,l=k+c.proportions.width,m=c.offset.top,n=m+c.proportions.height;switch(d){case"fit":return g>=k&&l>=h&&i>=m&&n>=j;case"intersect":return g+a.helperProportions.width/2>k&&l>h-a.helperProportions.width/2&&i+a.helperProportions.height/2>m&&n>j-a.helperProportions.height/2;case"pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,b(f,m,c.proportions.height)&&b(e,k,c.proportions.width);case"touch":return(i>=m&&n>=i||j>=m&&n>=j||m>i&&j>n)&&(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;f.length>d;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;h.length>e;e++)if(h[e]===f[d].element[0]){f[d].proportions.height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions={width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each((a.ui.ddmanager.droppables[b.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=a.ui.intersect(b,this,this.options.tolerance),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(d=a.data(f[0],"ui-droppable"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery),function(a){function b(a){return parseInt(a,10)||0}function c(a){return!isNaN(parseInt(a,10))}a.widget("ui.resizable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var b,c,d,e,f,g=this,h=this.options;if(this.element.addClass("ui-resizable"),a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(a("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=h.handles||(a(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),b=this.handles.split(","),this.handles={},c=0;b.length>c;c++)d=a.trim(b[c]),f="ui-resizable-"+d,e=a("<div class='ui-resizable-handle "+f+"'></div>"),e.css({zIndex:h.zIndex}),"se"===d&&e.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[d]=".ui-resizable-"+d,this.element.append(e);this._renderAxis=function(b){var c,d,e,f;b=b||this.element;for(c in this.handles)this.handles[c].constructor===String&&(this.handles[c]=a(this.handles[c],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(d=a(this.handles[c],this.element),f=/sw|ne|nw|se|n|s/.test(c)?d.outerHeight():d.outerWidth(),e=["padding",/ne|nw|n/.test(c)?"Top":/se|sw|s/.test(c)?"Bottom":/^e$/.test(c)?"Right":"Left"].join(""),b.css(e,f),this._proportionallyResize()),a(this.handles[c]).length},this._renderAxis(this.element),this._handles=a(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){g.resizing||(this.className&&(e=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),g.axis=e&&e[1]?e[1]:"se")}),h.autoHide&&(this._handles.hide(),a(this.element).addClass("ui-resizable-autohide").mouseenter(function(){h.disabled||(a(this).removeClass("ui-resizable-autohide"),g._handles.show())}).mouseleave(function(){h.disabled||g.resizing||(a(this).addClass("ui-resizable-autohide"),g._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var b,c=function(b){a(b).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(c(this.element),b=this.element,this.originalElement.css({position:b.css("position"),width:b.outerWidth(),height:b.outerHeight(),top:b.css("top"),left:b.css("left")}).insertAfter(b),b.remove()),this.originalElement.css("resize",this.originalResizeStyle),c(this.originalElement),this},_mouseCapture:function(b){var c,d,e=!1;for(c in this.handles)d=a(this.handles[c])[0],(d===b.target||a.contains(d,b.target))&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(c){var d,e,f,g=this.options,h=this.element.position(),i=this.element;return this.resizing=!0,/absolute/.test(i.css("position"))?i.css({position:"absolute",top:i.css("top"),left:i.css("left")}):i.is(".ui-draggable")&&i.css({position:"absolute",top:h.top,left:h.left}),this._renderProxy(),d=b(this.helper.css("left")),e=b(this.helper.css("top")),g.containment&&(d+=a(g.containment).scrollLeft()||0,e+=a(g.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:d,top:e},this.size=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalSize=this._helper?{width:i.outerWidth(),height:i.outerHeight()}:{width:i.width(),height:i.height()},this.originalPosition={left:d,top:e},this.sizeDiff={width:i.outerWidth()-i.width(),height:i.outerHeight()-i.height()},this.originalMousePosition={left:c.pageX,top:c.pageY},this.aspectRatio="number"==typeof g.aspectRatio?g.aspectRatio:this.originalSize.width/this.originalSize.height||1,f=a(".ui-resizable-"+this.axis).css("cursor"),a("body").css("cursor","auto"===f?this.axis+"-resize":f),i.addClass("ui-resizable-resizing"),this._propagate("start",c),!0},_mouseDrag:function(b){var c,d=this.helper,e={},f=this.originalMousePosition,g=this.axis,h=this.position.top,i=this.position.left,j=this.size.width,k=this.size.height,l=b.pageX-f.left||0,m=b.pageY-f.top||0,n=this._change[g];
return n?(c=n.apply(this,[b,l,m]),this._updateVirtualBoundaries(b.shiftKey),(this._aspectRatio||b.shiftKey)&&(c=this._updateRatio(c,b)),c=this._respectSize(c,b),this._updateCache(c),this._propagate("resize",b),this.position.top!==h&&(e.top=this.position.top+"px"),this.position.left!==i&&(e.left=this.position.left+"px"),this.size.width!==j&&(e.width=this.size.width+"px"),this.size.height!==k&&(e.height=this.size.height+"px"),d.css(e),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),a.isEmptyObject(e)||this._trigger("resize",b,this.ui()),!1):!1},_mouseStop:function(b){this.resizing=!1;var c,d,e,f,g,h,i,j=this.options,k=this;return this._helper&&(c=this._proportionallyResizeElements,d=c.length&&/textarea/i.test(c[0].nodeName),e=d&&a.ui.hasScroll(c[0],"left")?0:k.sizeDiff.height,f=d?0:k.sizeDiff.width,g={width:k.helper.width()-f,height:k.helper.height()-e},h=parseInt(k.element.css("left"),10)+(k.position.left-k.originalPosition.left)||null,i=parseInt(k.element.css("top"),10)+(k.position.top-k.originalPosition.top)||null,j.animate||this.element.css(a.extend(g,{top:i,left:h})),k.helper.height(k.size.height),k.helper.width(k.size.width),this._helper&&!j.animate&&this._proportionallyResize()),a("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",b),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(a){var b,d,e,f,g,h=this.options;g={minWidth:c(h.minWidth)?h.minWidth:0,maxWidth:c(h.maxWidth)?h.maxWidth:1/0,minHeight:c(h.minHeight)?h.minHeight:0,maxHeight:c(h.maxHeight)?h.maxHeight:1/0},(this._aspectRatio||a)&&(b=g.minHeight*this.aspectRatio,e=g.minWidth/this.aspectRatio,d=g.maxHeight*this.aspectRatio,f=g.maxWidth/this.aspectRatio,b>g.minWidth&&(g.minWidth=b),e>g.minHeight&&(g.minHeight=e),g.maxWidth>d&&(g.maxWidth=d),g.maxHeight>f&&(g.maxHeight=f)),this._vBoundaries=g},_updateCache:function(a){this.offset=this.helper.offset(),c(a.left)&&(this.position.left=a.left),c(a.top)&&(this.position.top=a.top),c(a.height)&&(this.size.height=a.height),c(a.width)&&(this.size.width=a.width)},_updateRatio:function(a){var b=this.position,d=this.size,e=this.axis;return c(a.height)?a.width=a.height*this.aspectRatio:c(a.width)&&(a.height=a.width/this.aspectRatio),"sw"===e&&(a.left=b.left+(d.width-a.width),a.top=null),"nw"===e&&(a.top=b.top+(d.height-a.height),a.left=b.left+(d.width-a.width)),a},_respectSize:function(a){var b=this._vBoundaries,d=this.axis,e=c(a.width)&&b.maxWidth&&b.maxWidth<a.width,f=c(a.height)&&b.maxHeight&&b.maxHeight<a.height,g=c(a.width)&&b.minWidth&&b.minWidth>a.width,h=c(a.height)&&b.minHeight&&b.minHeight>a.height,i=this.originalPosition.left+this.originalSize.width,j=this.position.top+this.size.height,k=/sw|nw|w/.test(d),l=/nw|ne|n/.test(d);return g&&(a.width=b.minWidth),h&&(a.height=b.minHeight),e&&(a.width=b.maxWidth),f&&(a.height=b.maxHeight),g&&k&&(a.left=i-b.minWidth),e&&k&&(a.left=i-b.maxWidth),h&&l&&(a.top=j-b.minHeight),f&&l&&(a.top=j-b.maxHeight),a.width||a.height||a.left||!a.top?a.width||a.height||a.top||!a.left||(a.left=null):a.top=null,a},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var a,b,c,d,e,f=this.helper||this.element;for(a=0;this._proportionallyResizeElements.length>a;a++){if(e=this._proportionallyResizeElements[a],!this.borderDif)for(this.borderDif=[],c=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],d=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")],b=0;c.length>b;b++)this.borderDif[b]=(parseInt(c[b],10)||0)+(parseInt(d[b],10)||0);e.css({height:f.height()-this.borderDif[0]-this.borderDif[2]||0,width:f.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var b=this.element,c=this.options;this.elementOffset=b.offset(),this._helper?(this.helper=this.helper||a("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++c.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(a,b){return{width:this.originalSize.width+b}},w:function(a,b){var c=this.originalSize,d=this.originalPosition;return{left:d.left+b,width:c.width-b}},n:function(a,b,c){var d=this.originalSize,e=this.originalPosition;return{top:e.top+c,height:d.height-c}},s:function(a,b,c){return{height:this.originalSize.height+c}},se:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},sw:function(b,c,d){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[b,c,d]))},ne:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[b,c,d]))},nw:function(b,c,d){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[b,c,d]))}},_propagate:function(b,c){a.ui.plugin.call(this,b,[c,this.ui()]),"resize"!==b&&this._trigger(b,c,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),a.ui.plugin.add("resizable","animate",{stop:function(b){var c=a(this).data("ui-resizable"),d=c.options,e=c._proportionallyResizeElements,f=e.length&&/textarea/i.test(e[0].nodeName),g=f&&a.ui.hasScroll(e[0],"left")?0:c.sizeDiff.height,h=f?0:c.sizeDiff.width,i={width:c.size.width-h,height:c.size.height-g},j=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,k=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null;c.element.animate(a.extend(i,k&&j?{top:k,left:j}:{}),{duration:d.animateDuration,easing:d.animateEasing,step:function(){var d={width:parseInt(c.element.css("width"),10),height:parseInt(c.element.css("height"),10),top:parseInt(c.element.css("top"),10),left:parseInt(c.element.css("left"),10)};e&&e.length&&a(e[0]).css({width:d.width,height:d.height}),c._updateCache(d),c._propagate("resize",b)}})}}),a.ui.plugin.add("resizable","containment",{start:function(){var c,d,e,f,g,h,i,j=a(this).data("ui-resizable"),k=j.options,l=j.element,m=k.containment,n=m instanceof a?m.get(0):/parent/.test(m)?l.parent().get(0):m;n&&(j.containerElement=a(n),/document/.test(m)||m===document?(j.containerOffset={left:0,top:0},j.containerPosition={left:0,top:0},j.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}):(c=a(n),d=[],a(["Top","Right","Left","Bottom"]).each(function(a,e){d[a]=b(c.css("padding"+e))}),j.containerOffset=c.offset(),j.containerPosition=c.position(),j.containerSize={height:c.innerHeight()-d[3],width:c.innerWidth()-d[1]},e=j.containerOffset,f=j.containerSize.height,g=j.containerSize.width,h=a.ui.hasScroll(n,"left")?n.scrollWidth:g,i=a.ui.hasScroll(n)?n.scrollHeight:f,j.parentData={element:n,left:e.left,top:e.top,width:h,height:i}))},resize:function(b){var c,d,e,f,g=a(this).data("ui-resizable"),h=g.options,i=g.containerOffset,j=g.position,k=g._aspectRatio||b.shiftKey,l={top:0,left:0},m=g.containerElement;m[0]!==document&&/static/.test(m.css("position"))&&(l=i),j.left<(g._helper?i.left:0)&&(g.size.width=g.size.width+(g._helper?g.position.left-i.left:g.position.left-l.left),k&&(g.size.height=g.size.width/g.aspectRatio),g.position.left=h.helper?i.left:0),j.top<(g._helper?i.top:0)&&(g.size.height=g.size.height+(g._helper?g.position.top-i.top:g.position.top),k&&(g.size.width=g.size.height*g.aspectRatio),g.position.top=g._helper?i.top:0),g.offset.left=g.parentData.left+g.position.left,g.offset.top=g.parentData.top+g.position.top,c=Math.abs((g._helper?g.offset.left-l.left:g.offset.left-l.left)+g.sizeDiff.width),d=Math.abs((g._helper?g.offset.top-l.top:g.offset.top-i.top)+g.sizeDiff.height),e=g.containerElement.get(0)===g.element.parent().get(0),f=/relative|absolute/.test(g.containerElement.css("position")),e&&f&&(c-=g.parentData.left),c+g.size.width>=g.parentData.width&&(g.size.width=g.parentData.width-c,k&&(g.size.height=g.size.width/g.aspectRatio)),d+g.size.height>=g.parentData.height&&(g.size.height=g.parentData.height-d,k&&(g.size.width=g.size.height*g.aspectRatio))},stop:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.containerOffset,e=b.containerPosition,f=b.containerElement,g=a(b.helper),h=g.offset(),i=g.outerWidth()-b.sizeDiff.width,j=g.outerHeight()-b.sizeDiff.height;b._helper&&!c.animate&&/relative/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j}),b._helper&&!c.animate&&/static/.test(f.css("position"))&&a(this).css({left:h.left-e.left-d.left,width:i,height:j})}}),a.ui.plugin.add("resizable","alsoResize",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=function(b){a(b).each(function(){var b=a(this);b.data("ui-resizable-alsoresize",{width:parseInt(b.width(),10),height:parseInt(b.height(),10),left:parseInt(b.css("left"),10),top:parseInt(b.css("top"),10)})})};"object"!=typeof c.alsoResize||c.alsoResize.parentNode?d(c.alsoResize):c.alsoResize.length?(c.alsoResize=c.alsoResize[0],d(c.alsoResize)):a.each(c.alsoResize,function(a){d(a)})},resize:function(b,c){var d=a(this).data("ui-resizable"),e=d.options,f=d.originalSize,g=d.originalPosition,h={height:d.size.height-f.height||0,width:d.size.width-f.width||0,top:d.position.top-g.top||0,left:d.position.left-g.left||0},i=function(b,d){a(b).each(function(){var b=a(this),e=a(this).data("ui-resizable-alsoresize"),f={},g=d&&d.length?d:b.parents(c.originalElement[0]).length?["width","height"]:["width","height","top","left"];a.each(g,function(a,b){var c=(e[b]||0)+(h[b]||0);c&&c>=0&&(f[b]=c||null)}),b.css(f)})};"object"!=typeof e.alsoResize||e.alsoResize.nodeType?i(e.alsoResize):a.each(e.alsoResize,function(a,b){i(a,b)})},stop:function(){a(this).removeData("resizable-alsoresize")}}),a.ui.plugin.add("resizable","ghost",{start:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size;b.ghost=b.originalElement.clone(),b.ghost.css({opacity:.25,display:"block",position:"relative",height:d.height,width:d.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof c.ghost?c.ghost:""),b.ghost.appendTo(b.helper)},resize:function(){var b=a(this).data("ui-resizable");b.ghost&&b.ghost.css({position:"relative",height:b.size.height,width:b.size.width})},stop:function(){var b=a(this).data("ui-resizable");b.ghost&&b.helper&&b.helper.get(0).removeChild(b.ghost.get(0))}}),a.ui.plugin.add("resizable","grid",{resize:function(){var b=a(this).data("ui-resizable"),c=b.options,d=b.size,e=b.originalSize,f=b.originalPosition,g=b.axis,h="number"==typeof c.grid?[c.grid,c.grid]:c.grid,i=h[0]||1,j=h[1]||1,k=Math.round((d.width-e.width)/i)*i,l=Math.round((d.height-e.height)/j)*j,m=e.width+k,n=e.height+l,o=c.maxWidth&&m>c.maxWidth,p=c.maxHeight&&n>c.maxHeight,q=c.minWidth&&c.minWidth>m,r=c.minHeight&&c.minHeight>n;c.grid=h,q&&(m+=i),r&&(n+=j),o&&(m-=i),p&&(n-=j),/^(se|s|e)$/.test(g)?(b.size.width=m,b.size.height=n):/^(ne)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.top=f.top-l):/^(sw)$/.test(g)?(b.size.width=m,b.size.height=n,b.position.left=f.left-k):(b.size.width=m,b.size.height=n,b.position.top=f.top-l,b.position.left=f.left-k)}})}(jQuery),function(a){a.widget("ui.selectable",a.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var b,c=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){b=a(c.options.filter,c.element[0]),b.addClass("ui-selectee"),b.each(function(){var b=a(this),c=b.offset();a.data(this,"selectable-item",{element:this,$element:b,left:c.left,top:c.top,right:c.left+b.outerWidth(),bottom:c.top+b.outerHeight(),startselected:!1,selected:b.hasClass("ui-selected"),selecting:b.hasClass("ui-selecting"),unselecting:b.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=b.addClass("ui-selectee"),this._mouseInit(),this.helper=a("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(b){var c=this,d=this.options;this.opos=[b.pageX,b.pageY],this.options.disabled||(this.selectees=a(d.filter,this.element[0]),this._trigger("start",b),a(d.appendTo).append(this.helper),this.helper.css({left:b.pageX,top:b.pageY,width:0,height:0}),d.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var d=a.data(this,"selectable-item");d.startselected=!0,b.metaKey||b.ctrlKey||(d.$element.removeClass("ui-selected"),d.selected=!1,d.$element.addClass("ui-unselecting"),d.unselecting=!0,c._trigger("unselecting",b,{unselecting:d.element}))}),a(b.target).parents().addBack().each(function(){var d,e=a.data(this,"selectable-item");return e?(d=!b.metaKey&&!b.ctrlKey||!e.$element.hasClass("ui-selected"),e.$element.removeClass(d?"ui-unselecting":"ui-selected").addClass(d?"ui-selecting":"ui-unselecting"),e.unselecting=!d,e.selecting=d,e.selected=d,d?c._trigger("selecting",b,{selecting:e.element}):c._trigger("unselecting",b,{unselecting:e.element}),!1):void 0}))},_mouseDrag:function(b){if(this.dragged=!0,!this.options.disabled){var c,d=this,e=this.options,f=this.opos[0],g=this.opos[1],h=b.pageX,i=b.pageY;return f>h&&(c=h,h=f,f=c),g>i&&(c=i,i=g,g=c),this.helper.css({left:f,top:g,width:h-f,height:i-g}),this.selectees.each(function(){var c=a.data(this,"selectable-item"),j=!1;c&&c.element!==d.element[0]&&("touch"===e.tolerance?j=!(c.left>h||f>c.right||c.top>i||g>c.bottom):"fit"===e.tolerance&&(j=c.left>f&&h>c.right&&c.top>g&&i>c.bottom),j?(c.selected&&(c.$element.removeClass("ui-selected"),c.selected=!1),c.unselecting&&(c.$element.removeClass("ui-unselecting"),c.unselecting=!1),c.selecting||(c.$element.addClass("ui-selecting"),c.selecting=!0,d._trigger("selecting",b,{selecting:c.element}))):(c.selecting&&((b.metaKey||b.ctrlKey)&&c.startselected?(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.$element.addClass("ui-selected"),c.selected=!0):(c.$element.removeClass("ui-selecting"),c.selecting=!1,c.startselected&&(c.$element.addClass("ui-unselecting"),c.unselecting=!0),d._trigger("unselecting",b,{unselecting:c.element}))),c.selected&&(b.metaKey||b.ctrlKey||c.startselected||(c.$element.removeClass("ui-selected"),c.selected=!1,c.$element.addClass("ui-unselecting"),c.unselecting=!0,d._trigger("unselecting",b,{unselecting:c.element})))))}),!1}},_mouseStop:function(b){var c=this;return this.dragged=!1,a(".ui-unselecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-unselecting"),d.unselecting=!1,d.startselected=!1,c._trigger("unselected",b,{unselected:d.element})}),a(".ui-selecting",this.element[0]).each(function(){var d=a.data(this,"selectable-item");d.$element.removeClass("ui-selecting").addClass("ui-selected"),d.selecting=!1,d.selected=!0,d.startselected=!0,c._trigger("selected",b,{selected:d.element})}),this._trigger("stop",b),this.helper.remove(),!1}})}(jQuery),function(a){function b(a,b,c){return a>b&&b+c>a}function c(a){return/left|right/.test(a.css("float"))||/inline|table-cell/.test(a.css("display"))}a.widget("ui.sortable",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var a=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===a.axis||c(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var a=this.items.length-1;a>=0;a--)this.items[a].item.removeData(this.widgetName+"-item");return this},_setOption:function(b,c){"disabled"===b?(this.options[b]=c,this.widget().toggleClass("ui-sortable-disabled",!!c)):a.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(b,c){var d=null,e=!1,f=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(b),a(b.target).parents().each(function(){return a.data(this,f.widgetName+"-item")===f?(d=a(this),!1):void 0}),a.data(b.target,f.widgetName+"-item")===f&&(d=a(b.target)),d?!this.options.handle||c||(a(this.options.handle,d).find("*").addBack().each(function(){this===b.target&&(e=!0)}),e)?(this.currentItem=d,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(b,c,d){var e,f,g=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(b),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),g.containment&&this._setContainment(),g.cursor&&"auto"!==g.cursor&&(f=this.document.find("body"),this.storedCursor=f.css("cursor"),f.css("cursor",g.cursor),this.storedStylesheet=a("<style>*{ cursor: "+g.cursor+" !important; }</style>").appendTo(f)),g.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",g.opacity)),g.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",g.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",b,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!d)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));return a.ui.ddmanager&&(a.ui.ddmanager.current=this),a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(b),!0},_mouseDrag:function(b){var c,d,e,f,g=this.options,h=!1;for(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+g.scrollSpeed:b.pageY-this.overflowOffset.top<g.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-g.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+g.scrollSpeed:b.pageX-this.overflowOffset.left<g.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-g.scrollSpeed)):(b.pageY-a(document).scrollTop()<g.scrollSensitivity?h=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity&&(h=a(document).scrollTop(a(document).scrollTop()+g.scrollSpeed)),b.pageX-a(document).scrollLeft()<g.scrollSensitivity?h=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity&&(h=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed))),h!==!1&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),c=this.items.length-1;c>=0;c--)if(d=this.items[c],e=d.item[0],f=this._intersectsWithPointer(d),f&&d.instance===this.currentContainer&&e!==this.currentItem[0]&&this.placeholder[1===f?"next":"prev"]()[0]!==e&&!a.contains(this.placeholder[0],e)&&("semi-dynamic"===this.options.type?!a.contains(this.element[0],e):!0)){if(this.direction=1===f?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(d))break;this._rearrange(b,d),this._trigger("change",b,this._uiHash());break}return this._contactContainers(b),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),this._trigger("sort",b,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(b,c){if(b){if(a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b),this.options.revert){var d=this,e=this.placeholder.offset(),f=this.options.axis,g={};f&&"x"!==f||(g.left=e.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),f&&"y"!==f||(g.top=e.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,a(this.helper).animate(g,parseInt(this.options.revert,10)||500,function(){d._clear(b)})}else this._clear(b,c);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--)this.containers[b]._trigger("deactivate",null,this._uiHash(this)),this.containers[b].containerCache.over&&(this.containers[b]._trigger("out",null,this._uiHash(this)),this.containers[b].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),a.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):a(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},a(c).each(function(){var c=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[\-=_](.+)/);c&&d.push((b.key||c[1]+"[]")+"="+(b.key&&b.expression?c[1]:c[2]))}),!d.length&&b.key&&d.push(b.key+"="),d.join("&")},toArray:function(b){var c=this._getItemsAsjQuery(b&&b.connected),d=[];return b=b||{},c.each(function(){d.push(a(b.item||this).attr(b.attribute||"id")||"")}),d},_intersectsWith:function(a){var b=this.positionAbs.left,c=b+this.helperProportions.width,d=this.positionAbs.top,e=d+this.helperProportions.height,f=a.left,g=f+a.width,h=a.top,i=h+a.height,j=this.offset.click.top,k=this.offset.click.left,l="x"===this.options.axis||d+j>h&&i>d+j,m="y"===this.options.axis||b+k>f&&g>b+k,n=l&&m;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>a[this.floating?"width":"height"]?n:b+this.helperProportions.width/2>f&&g>c-this.helperProportions.width/2&&d+this.helperProportions.height/2>h&&i>e-this.helperProportions.height/2},_intersectsWithPointer:function(a){var c="x"===this.options.axis||b(this.positionAbs.top+this.offset.click.top,a.top,a.height),d="y"===this.options.axis||b(this.positionAbs.left+this.offset.click.left,a.left,a.width),e=c&&d,f=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();return e?this.floating?g&&"right"===g||"down"===f?2:1:f&&("down"===f?2:1):!1},_intersectsWithSides:function(a){var c=b(this.positionAbs.top+this.offset.click.top,a.top+a.height/2,a.height),d=b(this.positionAbs.left+this.offset.click.left,a.left+a.width/2,a.width),e=this._getDragVerticalDirection(),f=this._getDragHorizontalDirection();return this.floating&&f?"right"===f&&d||"left"===f&&!d:e&&("down"===e&&c||"up"===e&&!c)},_getDragVerticalDirection:function(){var a=this.positionAbs.top-this.lastPositionAbs.top;return 0!==a&&(a>0?"down":"up")},_getDragHorizontalDirection:function(){var a=this.positionAbs.left-this.lastPositionAbs.left;return 0!==a&&(a>0?"right":"left")},refresh:function(a){return this._refreshItems(a),this.refreshPositions(),this},_connectWith:function(){var a=this.options;return a.connectWith.constructor===String?[a.connectWith]:a.connectWith},_getItemsAsjQuery:function(b){var c,d,e,f,g=[],h=[],i=this._connectWith();if(i&&b)for(c=i.length-1;c>=0;c--)for(e=a(i[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&h.push([a.isFunction(f.options.items)?f.options.items.call(f.element):a(f.options.items,f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),f]);for(h.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),c=h.length-1;c>=0;c--)h[c][0].each(function(){g.push(this)});return a(g)},_removeCurrentsFromItems:function(){var b=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(a){for(var c=0;b.length>c;c++)if(b[c]===a.item[0])return!1;return!0})},_refreshItems:function(b){this.items=[],this.containers=[this];var c,d,e,f,g,h,i,j,k=this.items,l=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],m=this._connectWith();if(m&&this.ready)for(c=m.length-1;c>=0;c--)for(e=a(m[c]),d=e.length-1;d>=0;d--)f=a.data(e[d],this.widgetFullName),f&&f!==this&&!f.options.disabled&&(l.push([a.isFunction(f.options.items)?f.options.items.call(f.element[0],b,{item:this.currentItem}):a(f.options.items,f.element),f]),this.containers.push(f));for(c=l.length-1;c>=0;c--)for(g=l[c][1],h=l[c][0],d=0,j=h.length;j>d;d++)i=a(h[d]),i.data(this.widgetName+"-item",g),k.push({item:i,instance:g,width:0,height:0,left:0,top:0})},refreshPositions:function(b){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var c,d,e,f;for(c=this.items.length-1;c>=0;c--)d=this.items[c],d.instance!==this.currentContainer&&this.currentContainer&&d.item[0]!==this.currentItem[0]||(e=this.options.toleranceElement?a(this.options.toleranceElement,d.item):d.item,b||(d.width=e.outerWidth(),d.height=e.outerHeight()),f=e.offset(),d.left=f.left,d.top=f.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(c=this.containers.length-1;c>=0;c--)f=this.containers[c].element.offset(),this.containers[c].containerCache.left=f.left,this.containers[c].containerCache.top=f.top,this.containers[c].containerCache.width=this.containers[c].element.outerWidth(),this.containers[c].containerCache.height=this.containers[c].element.outerHeight();return this},_createPlaceholder:function(b){b=b||this;var c,d=b.options;d.placeholder&&d.placeholder.constructor!==String||(c=d.placeholder,d.placeholder={element:function(){var d=b.currentItem[0].nodeName.toLowerCase(),e=a("<"+d+">",b.document[0]).addClass(c||b.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===d?b.currentItem.children().each(function(){a("<td>&#160;</td>",b.document[0]).attr("colspan",a(this).attr("colspan")||1).appendTo(e)}):"img"===d&&e.attr("src",b.currentItem.attr("src")),c||e.css("visibility","hidden"),e},update:function(a,e){(!c||d.forcePlaceholderSize)&&(e.height()||e.height(b.currentItem.innerHeight()-parseInt(b.currentItem.css("paddingTop")||0,10)-parseInt(b.currentItem.css("paddingBottom")||0,10)),e.width()||e.width(b.currentItem.innerWidth()-parseInt(b.currentItem.css("paddingLeft")||0,10)-parseInt(b.currentItem.css("paddingRight")||0,10)))}}),b.placeholder=a(d.placeholder.element.call(b.element,b.currentItem)),b.currentItem.after(b.placeholder),d.placeholder.update(b,b.placeholder)},_contactContainers:function(d){var e,f,g,h,i,j,k,l,m,n,o=null,p=null;for(e=this.containers.length-1;e>=0;e--)if(!a.contains(this.currentItem[0],this.containers[e].element[0]))if(this._intersectsWith(this.containers[e].containerCache)){if(o&&a.contains(this.containers[e].element[0],o.element[0]))continue;o=this.containers[e],p=e}else this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",d,this._uiHash(this)),this.containers[e].containerCache.over=0);if(o)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(g=1e4,h=null,n=o.floating||c(this.currentItem),i=n?"left":"top",j=n?"width":"height",k=this.positionAbs[i]+this.offset.click[i],f=this.items.length-1;f>=0;f--)a.contains(this.containers[p].element[0],this.items[f].item[0])&&this.items[f].item[0]!==this.currentItem[0]&&(!n||b(this.positionAbs.top+this.offset.click.top,this.items[f].top,this.items[f].height))&&(l=this.items[f].item.offset()[i],m=!1,Math.abs(l-k)>Math.abs(l+this.items[f][j]-k)&&(m=!0,l+=this.items[f][j]),g>Math.abs(l-k)&&(g=Math.abs(l-k),h=this.items[f],this.direction=m?"up":"down"));if(!h&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return;h?this._rearrange(d,h,null,!0):this._rearrange(d,null,this.containers[p].element,!0),this._trigger("change",d,this._uiHash()),this.containers[p]._trigger("change",d,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",d,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b,this.currentItem])):"clone"===c.helper?this.currentItem.clone():this.currentItem;return d.parents("body").length||a("parent"!==c.appendTo?c.appendTo:this.currentItem[0].parentNode)[0].appendChild(d[0]),d[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!d[0].style.width||c.forceHelperSize)&&d.width(this.currentItem.width()),(!d[0].style.height||c.forceHelperSize)&&d.height(this.currentItem.height()),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}
},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.currentItem.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;"parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||(b=a(e.containment)[0],c=a(e.containment).offset(),d="hidden"!==a(b).css("overflow"),this.containment=[c.left+(parseInt(a(b).css("borderLeftWidth"),10)||0)+(parseInt(a(b).css("paddingLeft"),10)||0)-this.margins.left,c.top+(parseInt(a(b).css("borderTopWidth"),10)||0)+(parseInt(a(b).css("paddingTop"),10)||0)-this.margins.top,c.left+(d?Math.max(b.scrollWidth,b.offsetWidth):b.offsetWidth)-(parseInt(a(b).css("borderLeftWidth"),10)||0)-(parseInt(a(b).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,c.top+(d?Math.max(b.scrollHeight,b.offsetHeight):b.offsetHeight)-(parseInt(a(b).css("borderTopWidth"),10)||0)-(parseInt(a(b).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e=this.options,f=b.pageX,g=b.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(b.pageX-this.offset.click.left<this.containment[0]&&(f=this.containment[0]+this.offset.click.left),b.pageY-this.offset.click.top<this.containment[1]&&(g=this.containment[1]+this.offset.click.top),b.pageX-this.offset.click.left>this.containment[2]&&(f=this.containment[2]+this.offset.click.left),b.pageY-this.offset.click.top>this.containment[3]&&(g=this.containment[3]+this.offset.click.top)),e.grid&&(c=this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1],g=this.containment?c-this.offset.click.top>=this.containment[1]&&c-this.offset.click.top<=this.containment[3]?c:c-this.offset.click.top>=this.containment[1]?c-e.grid[1]:c+e.grid[1]:c,d=this.originalPageX+Math.round((f-this.originalPageX)/e.grid[0])*e.grid[0],f=this.containment?d-this.offset.click.left>=this.containment[0]&&d-this.offset.click.left<=this.containment[2]?d:d-this.offset.click.left>=this.containment[0]?d-e.grid[0]:d+e.grid[0]:d)),{top:g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_rearrange:function(a,b,c,d){c?c[0].appendChild(this.placeholder[0]):b.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?b.item[0]:b.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var e=this.counter;this._delay(function(){e===this.counter&&this.refreshPositions(!d)})},_clear:function(a,b){this.reverting=!1;var c,d=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(c in this._storedCSS)("auto"===this._storedCSS[c]||"static"===this._storedCSS[c])&&(this._storedCSS[c]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!b&&d.push(function(a){this._trigger("receive",a,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||b||d.push(function(a){this._trigger("update",a,this._uiHash())}),this!==this.currentContainer&&(b||(d.push(function(a){this._trigger("remove",a,this._uiHash())}),d.push(function(a){return function(b){a._trigger("receive",b,this._uiHash(this))}}.call(this,this.currentContainer)),d.push(function(a){return function(b){a._trigger("update",b,this._uiHash(this))}}.call(this,this.currentContainer)))),c=this.containers.length-1;c>=0;c--)b||d.push(function(a){return function(b){a._trigger("deactivate",b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over&&(d.push(function(a){return function(b){a._trigger("out",b,this._uiHash(this))}}.call(this,this.containers[c])),this.containers[c].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!b){for(this._trigger("beforeStop",a,this._uiHash()),c=0;d.length>c;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!1}if(b||this._trigger("beforeStop",a,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!b){for(c=0;d.length>c;c++)d[c].call(this,a);this._trigger("stop",a,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(b){var c=b||this;return{helper:c.helper,placeholder:c.placeholder||a([]),position:c.position,originalPosition:c.originalPosition,offset:c.positionAbs,item:c.currentItem,sender:b?b.element:null}}})}(jQuery),function(a){var b=0,c={},d={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide",d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="show",a.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var b=this.options;this.prevShow=this.prevHide=a(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),b.collapsible||b.active!==!1&&null!=b.active||(b.active=0),this._processPanels(),0>b.active&&(b.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():a(),content:this.active.length?this.active.next():a()}},_createIcons:function(){var b=this.options.icons;b&&(a("<span>").addClass("ui-accordion-header-icon ui-icon "+b.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(b.header).addClass(b.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var a;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),a=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&a.css("height","")},_setOption:function(a,b){return"active"===a?void this._activate(b):("event"===a&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(b)),this._super(a,b),"collapsible"!==a||b||this.options.active!==!1||this._activate(0),"icons"===a&&(this._destroyIcons(),b&&this._createIcons()),void("disabled"===a&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!b)))},_keydown:function(b){if(!b.altKey&&!b.ctrlKey){var c=a.ui.keyCode,d=this.headers.length,e=this.headers.index(b.target),f=!1;switch(b.keyCode){case c.RIGHT:case c.DOWN:f=this.headers[(e+1)%d];break;case c.LEFT:case c.UP:f=this.headers[(e-1+d)%d];break;case c.SPACE:case c.ENTER:this._eventHandler(b);break;case c.HOME:f=this.headers[0];break;case c.END:f=this.headers[d-1]}f&&(a(b.target).attr("tabIndex",-1),a(f).attr("tabIndex",0),f.focus(),b.preventDefault())}},_panelKeyDown:function(b){b.keyCode===a.ui.keyCode.UP&&b.ctrlKey&&a(b.currentTarget).prev().focus()},refresh:function(){var b=this.options;this._processPanels(),b.active===!1&&b.collapsible===!0||!this.headers.length?(b.active=!1,this.active=a()):b.active===!1?this._activate(0):this.active.length&&!a.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(b.active=!1,this.active=a()):this._activate(Math.max(0,b.active-1)):b.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var c,d=this.options,e=d.heightStyle,f=this.element.parent(),g=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b);this.active=this._findActive(d.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(b){var c=a(this),d=c.attr("id"),e=c.next(),f=e.attr("id");d||(d=g+"-header-"+b,c.attr("id",d)),f||(f=g+"-panel-"+b,e.attr("id",f)),c.attr("aria-controls",f),e.attr("aria-labelledby",d)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(d.event),"fill"===e?(c=f.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.headers.each(function(){c-=a(this).outerHeight(!0)}),this.headers.next().each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===e&&(c=0,this.headers.next().each(function(){c=Math.max(c,a(this).css("height","").height())}).height(c))},_activate:function(b){var c=this._findActive(b)[0];c!==this.active[0]&&(c=c||this.active[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return"number"==typeof b?this.headers.eq(b):a()},_setupEvents:function(b){var c={keydown:"_keydown"};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,c),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e[0]===d[0],g=f&&c.collapsible,h=g?a():e.next(),i=d.next(),j={oldHeader:d,oldPanel:i,newHeader:g?a():e,newPanel:h};b.preventDefault(),f&&!c.collapsible||this._trigger("beforeActivate",b,j)===!1||(c.active=g?!1:this.headers.index(e),this.active=f?a():e,this._toggle(j),d.removeClass("ui-accordion-header-active ui-state-active"),c.icons&&d.children(".ui-accordion-header-icon").removeClass(c.icons.activeHeader).addClass(c.icons.header),f||(e.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),c.icons&&e.children(".ui-accordion-header-icon").removeClass(c.icons.header).addClass(c.icons.activeHeader),e.next().addClass("ui-accordion-content-active")))},_toggle:function(b){var c=b.newPanel,d=this.prevShow.length?this.prevShow:b.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=c,this.prevHide=d,this.options.animate?this._animate(c,d,b):(d.hide(),c.show(),this._toggleComplete(b)),d.attr({"aria-expanded":"false","aria-hidden":"true"}),d.prev().attr("aria-selected","false"),c.length&&d.length?d.prev().attr("tabIndex",-1):c.length&&this.headers.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),c.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(a,b,e){var f,g,h,i=this,j=0,k=a.length&&(!b.length||a.index()<b.index()),l=this.options.animate||{},m=k&&l.down||l,n=function(){i._toggleComplete(e)};return"number"==typeof m&&(h=m),"string"==typeof m&&(g=m),g=g||m.easing||l.easing,h=h||m.duration||l.duration,b.length?a.length?(f=a.show().outerHeight(),b.animate(c,{duration:h,easing:g,step:function(a,b){b.now=Math.round(a)}}),void a.hide().animate(d,{duration:h,easing:g,complete:n,step:function(a,c){c.now=Math.round(a),"height"!==c.prop?j+=c.now:"content"!==i.options.heightStyle&&(c.now=Math.round(f-b.outerHeight()-j),j=0)}})):b.animate(c,h,g,n):a.animate(d,h,g,n)},_toggleComplete:function(a){var b=a.oldPanel;b.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),b.length&&(b.parent()[0].className=b.parent()[0].className),this._trigger("activate",null,a)}})}(jQuery),function(a){var b=0;a.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var b,c,d,e=this.element[0].nodeName.toLowerCase(),f="textarea"===e,g="input"===e;this.isMultiLine=f?!0:g?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[f||g?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))return b=!0,d=!0,void(c=!0);b=!1,d=!1,c=!1;var f=a.ui.keyCode;switch(e.keyCode){case f.PAGE_UP:b=!0,this._move("previousPage",e);break;case f.PAGE_DOWN:b=!0,this._move("nextPage",e);break;case f.UP:b=!0,this._keyEvent("previous",e);break;case f.DOWN:b=!0,this._keyEvent("next",e);break;case f.ENTER:case f.NUMPAD_ENTER:this.menu.active&&(b=!0,e.preventDefault(),this.menu.select(e));break;case f.TAB:this.menu.active&&this.menu.select(e);break;case f.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:c=!0,this._searchTimeout(e)}},keypress:function(d){if(b)return b=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&d.preventDefault());if(!c){var e=a.ui.keyCode;switch(d.keyCode){case e.PAGE_UP:this._move("previousPage",d);break;case e.PAGE_DOWN:this._move("nextPage",d);break;case e.UP:this._keyEvent("previous",d);break;case e.DOWN:this._keyEvent("next",d)}}},input:function(a){return d?(d=!1,void a.preventDefault()):void this._searchTimeout(a)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),void this._change(a))}}),this._initSource(),this.menu=a("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(b){b.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var c=this.menu.element[0];a(b.target).closest(".ui-menu-item").length||this._delay(function(){var b=this;this.document.one("mousedown",function(d){d.target===b.element[0]||d.target===c||a.contains(c,d.target)||b.close()})})},menufocus:function(b,c){if(this.isNewMenu&&(this.isNewMenu=!1,b.originalEvent&&/^mouse/.test(b.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){a(b.target).trigger(b.originalEvent)});var d=c.item.data("ui-autocomplete-item");!1!==this._trigger("focus",b,{item:d})?b.originalEvent&&/^key/.test(b.originalEvent.type)&&this._value(d.value):this.liveRegion.text(d.value)},menuselect:function(a,b){var c=b.item.data("ui-autocomplete-item"),d=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d,this.selectedItem=c})),!1!==this._trigger("select",a,{item:c})&&this._value(c.value),this.term=this._value(),this.close(a),this.selectedItem=c}}),this.liveRegion=a("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),"source"===a&&this._initSource(),"appendTo"===a&&this.menu.element.appendTo(this._appendTo()),"disabled"===a&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var b=this.options.appendTo;return b&&(b=b.jquery||b.nodeType?a(b):this.document.find(b).eq(0)),b||(b=this.element.closest(".ui-front")),b.length||(b=this.document[0].body),b},_initSource:function(){var b,c,d=this;a.isArray(this.options.source)?(b=this.options.source,this.source=function(c,d){d(a.ui.autocomplete.filter(b,c.term))}):"string"==typeof this.options.source?(c=this.options.source,this.source=function(b,e){d.xhr&&d.xhr.abort(),d.xhr=a.ajax({url:c,data:b,dataType:"json",success:function(a){e(a)},error:function(){e([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){return a=null!=a?a:this._value(),this.term=this._value(),a.length<this.options.minLength?this.close(b):this._trigger("search",b)!==!1?this._search(a):void 0},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=this,c=++b;return function(d){c===b&&a.__response(d),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(b){return b.length&&b[0].label&&b[0].value?b:a.map(b,function(b){return"string"==typeof b?{label:b,value:b}:a.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var c=this.menu.element.empty();this._renderMenu(c,b),this.isNewMenu=!0,this.menu.refresh(),c.show(),this._resizeMenu(),c.position(a.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(b,c){var d=this;a.each(c,function(a,c){d._renderItemData(b,c)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,c){return a("<li>").append(a("<a>").text(c.label)).appendTo(b)},_move:function(a,b){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)?(this._value(this.term),void this.menu.blur()):void this.menu[a](b):void this.search(null,b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(a,b),b.preventDefault())}}),a.extend(a.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(b,c){var d=RegExp(a.ui.autocomplete.escapeRegex(c),"i");return a.grep(b,function(a){return d.test(a.label||a.value||a)})}}),a.widget("ui.autocomplete",a.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments),this.options.disabled||this.cancelSearch||(b=a&&a.length?this.options.messages.results(a.length):this.options.messages.noResults,this.liveRegion.text(b))}})}(jQuery),function(a){var b,c,d,e,f="ui-button ui-widget ui-state-default ui-corner-all",g="ui-state-hover ui-state-active ",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",i=function(){var b=a(this);setTimeout(function(){b.find(":ui-button").button("refresh")},1)},j=function(b){var c=b.name,d=b.form,e=a([]);return c&&(c=c.replace(/'/g,"\\'"),e=d?a(d).find("[name='"+c+"']"):a("[name='"+c+"']",b.ownerDocument).filter(function(){return!this.form})),e};a.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,i),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var g=this,h=this.options,k="checkbox"===this.type||"radio"===this.type,l=k?"":"ui-state-active",m="ui-state-focus";null===h.label&&(h.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(f).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){h.disabled||this===b&&a(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){h.disabled||a(this).removeClass(l)}).bind("click"+this.eventNamespace,function(a){h.disabled&&(a.preventDefault(),a.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){g.buttonElement.addClass(m)}).bind("blur"+this.eventNamespace,function(){g.buttonElement.removeClass(m)}),k&&(this.element.bind("change"+this.eventNamespace,function(){e||g.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(a){h.disabled||(e=!1,c=a.pageX,d=a.pageY)}).bind("mouseup"+this.eventNamespace,function(a){h.disabled||(c!==a.pageX||d!==a.pageY)&&(e=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return h.disabled||e?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(h.disabled||e)return!1;a(this).addClass("ui-state-active"),g.buttonElement.attr("aria-pressed","true");var b=g.element[0];j(b).not(b).map(function(){return a(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return h.disabled?!1:(a(this).addClass("ui-state-active"),b=this,void g.document.one("mouseup",function(){b=null}))}).bind("mouseup"+this.eventNamespace,function(){return h.disabled?!1:void a(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(b){return h.disabled?!1:void((b.keyCode===a.ui.keyCode.SPACE||b.keyCode===a.ui.keyCode.ENTER)&&a(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){a(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(b){b.keyCode===a.ui.keyCode.SPACE&&a(this).click()})),this._setOption("disabled",h.disabled),this._resetButton()},_determineButtonType:function(){var a,b,c;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(a=this.element.parents().last(),b="label[for='"+this.element.attr("id")+"']",this.buttonElement=a.find(b),this.buttonElement.length||(a=a.length?a.siblings():this.element.siblings(),this.buttonElement=a.filter(b),this.buttonElement.length||(this.buttonElement=a.find(b))),this.element.addClass("ui-helper-hidden-accessible"),c=this.element.is(":checked"),c&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",c)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(f+" "+g+" "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(a,b){return this._super(a,b),"disabled"===a?void(b?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var b=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");b!==this.options.disabled&&this._setOption("disabled",b),"radio"===this.type?j(this.element[0]).each(function(){a(this).is(":checked")?a(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):a(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var b=this.buttonElement.removeClass(h),c=a("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(b.empty()).text(),d=this.options.icons,e=d.primary&&d.secondary,f=[];d.primary||d.secondary?(this.options.text&&f.push("ui-button-text-icon"+(e?"s":d.primary?"-primary":"-secondary")),d.primary&&b.prepend("<span class='ui-button-icon-primary ui-icon "+d.primary+"'></span>"),d.secondary&&b.append("<span class='ui-button-icon-secondary ui-icon "+d.secondary+"'></span>"),this.options.text||(f.push(e?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||b.attr("title",a.trim(c)))):f.push("ui-button-text-only"),b.addClass(f.join(" "))}}),a.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(a,b){"disabled"===a&&this.buttons.button("option",a,b),this._super(a,b)},refresh:function(){var b="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(b?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(b?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return a(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(a,b){function c(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},a.extend(this._defaults,this.regional[""]),this.dpDiv=d(a("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function d(b){var c="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return b.delegate(c,"mouseout",function(){a(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).removeClass("ui-datepicker-next-hover")
}).delegate(c,"mouseover",function(){a.datepicker._isDisabledDatepicker(f.inline?b.parent()[0]:f.input[0])||(a(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),a(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&a(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&a(this).addClass("ui-datepicker-next-hover"))})}function e(b,c){a.extend(b,c);for(var d in c)null==c[d]&&(b[d]=c[d]);return b}a.extend(a.ui,{datepicker:{version:"1.10.3"}});var f,g="datepicker";a.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return e(this._defaults,a||{}),this},_attachDatepicker:function(b,c){var d,e,f;d=b.nodeName.toLowerCase(),e="div"===d||"span"===d,b.id||(this.uuid+=1,b.id="dp"+this.uuid),f=this._newInst(a(b),e),f.settings=a.extend({},c||{}),"input"===d?this._connectDatepicker(b,f):e&&this._inlineDatepicker(b,f)},_newInst:function(b,c){var e=b[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:e,input:b,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:c,dpDiv:c?d(a("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(b,c){var d=a(b);c.append=a([]),c.trigger=a([]),d.hasClass(this.markerClassName)||(this._attachments(d,c),d.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(c),a.data(b,g,c),c.settings.disabled&&this._disableDatepicker(b))},_attachments:function(b,c){var d,e,f,g=this._get(c,"appendText"),h=this._get(c,"isRTL");c.append&&c.append.remove(),g&&(c.append=a("<span class='"+this._appendClass+"'>"+g+"</span>"),b[h?"before":"after"](c.append)),b.unbind("focus",this._showDatepicker),c.trigger&&c.trigger.remove(),d=this._get(c,"showOn"),("focus"===d||"both"===d)&&b.focus(this._showDatepicker),("button"===d||"both"===d)&&(e=this._get(c,"buttonText"),f=this._get(c,"buttonImage"),c.trigger=a(this._get(c,"buttonImageOnly")?a("<img/>").addClass(this._triggerClass).attr({src:f,alt:e,title:e}):a("<button type='button'></button>").addClass(this._triggerClass).html(f?a("<img/>").attr({src:f,alt:e,title:e}):e)),b[h?"before":"after"](c.trigger),c.trigger.click(function(){return a.datepicker._datepickerShowing&&a.datepicker._lastInput===b[0]?a.datepicker._hideDatepicker():a.datepicker._datepickerShowing&&a.datepicker._lastInput!==b[0]?(a.datepicker._hideDatepicker(),a.datepicker._showDatepicker(b[0])):a.datepicker._showDatepicker(b[0]),!1}))},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,c,d,e,f=new Date(2009,11,20),g=this._get(a,"dateFormat");g.match(/[DM]/)&&(b=function(a){for(c=0,d=0,e=0;a.length>e;e++)a[e].length>c&&(c=a[e].length,d=e);return d},f.setMonth(b(this._get(a,g.match(/MM/)?"monthNames":"monthNamesShort"))),f.setDate(b(this._get(a,g.match(/DD/)?"dayNames":"dayNamesShort"))+20-f.getDay())),a.input.attr("size",this._formatDate(a,f).length)}},_inlineDatepicker:function(b,c){var d=a(b);d.hasClass(this.markerClassName)||(d.addClass(this.markerClassName).append(c.dpDiv),a.data(b,g,c),this._setDate(c,this._getDefaultDate(c),!0),this._updateDatepicker(c),this._updateAlternate(c),c.settings.disabled&&this._disableDatepicker(b),c.dpDiv.css("display","block"))},_dialogDatepicker:function(b,c,d,f,h){var i,j,k,l,m,n=this._dialogInst;return n||(this.uuid+=1,i="dp"+this.uuid,this._dialogInput=a("<input type='text' id='"+i+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),a("body").append(this._dialogInput),n=this._dialogInst=this._newInst(this._dialogInput,!1),n.settings={},a.data(this._dialogInput[0],g,n)),e(n.settings,f||{}),c=c&&c.constructor===Date?this._formatDate(n,c):c,this._dialogInput.val(c),this._pos=h?h.length?h:[h.pageX,h.pageY]:null,this._pos||(j=document.documentElement.clientWidth,k=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,m=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[j/2-100+l,k/2-150+m]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),n.settings.onSelect=d,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),a.blockUI&&a.blockUI(this.dpDiv),a.data(this._dialogInput[0],g,n),this},_destroyDatepicker:function(b){var c,d=a(b),e=a.data(b,g);d.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),a.removeData(b,g),"input"===c?(e.append.remove(),e.trigger.remove(),d.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===c||"span"===c)&&d.removeClass(this.markerClassName).empty())},_enableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!1,f.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}))},_disableDatepicker:function(b){var c,d,e=a(b),f=a.data(b,g);e.hasClass(this.markerClassName)&&(c=b.nodeName.toLowerCase(),"input"===c?(b.disabled=!0,f.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===c||"span"===c)&&(d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=a.map(this._disabledInputs,function(a){return a===b?null:a}),this._disabledInputs[this._disabledInputs.length]=b)},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;this._disabledInputs.length>b;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(b){try{return a.data(b,g)}catch(c){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(c,d,f){var g,h,i,j,k=this._getInst(c);return 2===arguments.length&&"string"==typeof d?"defaults"===d?a.extend({},a.datepicker._defaults):k?"all"===d?a.extend({},k.settings):this._get(k,d):null:(g=d||{},"string"==typeof d&&(g={},g[d]=f),k&&(this._curInst===k&&this._hideDatepicker(),h=this._getDateDatepicker(c,!0),i=this._getMinMaxDate(k,"min"),j=this._getMinMaxDate(k,"max"),e(k.settings,g),null!==i&&g.dateFormat!==b&&g.minDate===b&&(k.settings.minDate=this._formatDate(k,i)),null!==j&&g.dateFormat!==b&&g.maxDate===b&&(k.settings.maxDate=this._formatDate(k,j)),"disabled"in g&&(g.disabled?this._disableDatepicker(c):this._enableDatepicker(c)),this._attachments(a(c),k),this._autoSize(k),this._setDate(k,h),this._updateAlternate(k),this._updateDatepicker(k)),b)},_changeDatepicker:function(a,b,c){this._optionDatepicker(a,b,c)},_refreshDatepicker:function(a){var b=this._getInst(a);b&&this._updateDatepicker(b)},_setDateDatepicker:function(a,b){var c=this._getInst(a);c&&(this._setDate(c,b),this._updateDatepicker(c),this._updateAlternate(c))},_getDateDatepicker:function(a,b){var c=this._getInst(a);return c&&!c.inline&&this._setDateFromField(c,b),c?this._getDate(c):null},_doKeyDown:function(b){var c,d,e,f=a.datepicker._getInst(b.target),g=!0,h=f.dpDiv.is(".ui-datepicker-rtl");if(f._keyEvent=!0,a.datepicker._datepickerShowing)switch(b.keyCode){case 9:a.datepicker._hideDatepicker(),g=!1;break;case 13:return e=a("td."+a.datepicker._dayOverClass+":not(."+a.datepicker._currentClass+")",f.dpDiv),e[0]&&a.datepicker._selectDay(b.target,f.selectedMonth,f.selectedYear,e[0]),c=a.datepicker._get(f,"onSelect"),c?(d=a.datepicker._formatDate(f),c.apply(f.input?f.input[0]:null,[d,f])):a.datepicker._hideDatepicker(),!1;case 27:a.datepicker._hideDatepicker();break;case 33:a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 34:a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 35:(b.ctrlKey||b.metaKey)&&a.datepicker._clearDate(b.target),g=b.ctrlKey||b.metaKey;break;case 36:(b.ctrlKey||b.metaKey)&&a.datepicker._gotoToday(b.target),g=b.ctrlKey||b.metaKey;break;case 37:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?1:-1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?-a.datepicker._get(f,"stepBigMonths"):-a.datepicker._get(f,"stepMonths"),"M");break;case 38:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,-7,"D"),g=b.ctrlKey||b.metaKey;break;case 39:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,h?-1:1,"D"),g=b.ctrlKey||b.metaKey,b.originalEvent.altKey&&a.datepicker._adjustDate(b.target,b.ctrlKey?+a.datepicker._get(f,"stepBigMonths"):+a.datepicker._get(f,"stepMonths"),"M");break;case 40:(b.ctrlKey||b.metaKey)&&a.datepicker._adjustDate(b.target,7,"D"),g=b.ctrlKey||b.metaKey;break;default:g=!1}else 36===b.keyCode&&b.ctrlKey?a.datepicker._showDatepicker(this):g=!1;g&&(b.preventDefault(),b.stopPropagation())},_doKeyPress:function(c){var d,e,f=a.datepicker._getInst(c.target);return a.datepicker._get(f,"constrainInput")?(d=a.datepicker._possibleChars(a.datepicker._get(f,"dateFormat")),e=String.fromCharCode(null==c.charCode?c.keyCode:c.charCode),c.ctrlKey||c.metaKey||" ">e||!d||d.indexOf(e)>-1):b},_doKeyUp:function(b){var c,d=a.datepicker._getInst(b.target);if(d.input.val()!==d.lastVal)try{c=a.datepicker.parseDate(a.datepicker._get(d,"dateFormat"),d.input?d.input.val():null,a.datepicker._getFormatConfig(d)),c&&(a.datepicker._setDateFromField(d),a.datepicker._updateAlternate(d),a.datepicker._updateDatepicker(d))}catch(e){}return!0},_showDatepicker:function(b){if(b=b.target||b,"input"!==b.nodeName.toLowerCase()&&(b=a("input",b.parentNode)[0]),!a.datepicker._isDisabledDatepicker(b)&&a.datepicker._lastInput!==b){var c,d,f,g,h,i,j;c=a.datepicker._getInst(b),a.datepicker._curInst&&a.datepicker._curInst!==c&&(a.datepicker._curInst.dpDiv.stop(!0,!0),c&&a.datepicker._datepickerShowing&&a.datepicker._hideDatepicker(a.datepicker._curInst.input[0])),d=a.datepicker._get(c,"beforeShow"),f=d?d.apply(b,[b,c]):{},f!==!1&&(e(c.settings,f),c.lastVal=null,a.datepicker._lastInput=b,a.datepicker._setDateFromField(c),a.datepicker._inDialog&&(b.value=""),a.datepicker._pos||(a.datepicker._pos=a.datepicker._findPos(b),a.datepicker._pos[1]+=b.offsetHeight),g=!1,a(b).parents().each(function(){return g|="fixed"===a(this).css("position"),!g}),h={left:a.datepicker._pos[0],top:a.datepicker._pos[1]},a.datepicker._pos=null,c.dpDiv.empty(),c.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),a.datepicker._updateDatepicker(c),h=a.datepicker._checkOffset(c,h,g),c.dpDiv.css({position:a.datepicker._inDialog&&a.blockUI?"static":g?"fixed":"absolute",display:"none",left:h.left+"px",top:h.top+"px"}),c.inline||(i=a.datepicker._get(c,"showAnim"),j=a.datepicker._get(c,"duration"),c.dpDiv.zIndex(a(b).zIndex()+1),a.datepicker._datepickerShowing=!0,a.effects&&a.effects.effect[i]?c.dpDiv.show(i,a.datepicker._get(c,"showOptions"),j):c.dpDiv[i||"show"](i?j:null),a.datepicker._shouldFocusInput(c)&&c.input.focus(),a.datepicker._curInst=c))}},_updateDatepicker:function(b){this.maxRows=4,f=b,b.dpDiv.empty().append(this._generateHTML(b)),this._attachHandlers(b),b.dpDiv.find("."+this._dayOverClass+" a").mouseover();var c,d=this._getNumberOfMonths(b),e=d[1],g=17;b.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),e>1&&b.dpDiv.addClass("ui-datepicker-multi-"+e).css("width",g*e+"em"),b.dpDiv[(1!==d[0]||1!==d[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),b.dpDiv[(this._get(b,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),b===a.datepicker._curInst&&a.datepicker._datepickerShowing&&a.datepicker._shouldFocusInput(b)&&b.input.focus(),b.yearshtml&&(c=b.yearshtml,setTimeout(function(){c===b.yearshtml&&b.yearshtml&&b.dpDiv.find("select.ui-datepicker-year:first").replaceWith(b.yearshtml),c=b.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(b,c,d){var e=b.dpDiv.outerWidth(),f=b.dpDiv.outerHeight(),g=b.input?b.input.outerWidth():0,h=b.input?b.input.outerHeight():0,i=document.documentElement.clientWidth+(d?0:a(document).scrollLeft()),j=document.documentElement.clientHeight+(d?0:a(document).scrollTop());return c.left-=this._get(b,"isRTL")?e-g:0,c.left-=d&&c.left===b.input.offset().left?a(document).scrollLeft():0,c.top-=d&&c.top===b.input.offset().top+h?a(document).scrollTop():0,c.left-=Math.min(c.left,c.left+e>i&&i>e?Math.abs(c.left+e-i):0),c.top-=Math.min(c.top,c.top+f>j&&j>f?Math.abs(f+h):0),c},_findPos:function(b){for(var c,d=this._getInst(b),e=this._get(d,"isRTL");b&&("hidden"===b.type||1!==b.nodeType||a.expr.filters.hidden(b));)b=b[e?"previousSibling":"nextSibling"];return c=a(b).offset(),[c.left,c.top]},_hideDatepicker:function(b){var c,d,e,f,h=this._curInst;!h||b&&h!==a.data(b,g)||this._datepickerShowing&&(c=this._get(h,"showAnim"),d=this._get(h,"duration"),e=function(){a.datepicker._tidyDialog(h)},a.effects&&(a.effects.effect[c]||a.effects[c])?h.dpDiv.hide(c,a.datepicker._get(h,"showOptions"),d,e):h.dpDiv["slideDown"===c?"slideUp":"fadeIn"===c?"fadeOut":"hide"](c?d:null,e),c||e(),this._datepickerShowing=!1,f=this._get(h,"onClose"),f&&f.apply(h.input?h.input[0]:null,[h.input?h.input.val():"",h]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),a.blockUI&&(a.unblockUI(),a("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(b){if(a.datepicker._curInst){var c=a(b.target),d=a.datepicker._getInst(c[0]);(c[0].id!==a.datepicker._mainDivId&&0===c.parents("#"+a.datepicker._mainDivId).length&&!c.hasClass(a.datepicker.markerClassName)&&!c.closest("."+a.datepicker._triggerClass).length&&a.datepicker._datepickerShowing&&(!a.datepicker._inDialog||!a.blockUI)||c.hasClass(a.datepicker.markerClassName)&&a.datepicker._curInst!==d)&&a.datepicker._hideDatepicker()}},_adjustDate:function(b,c,d){var e=a(b),f=this._getInst(e[0]);this._isDisabledDatepicker(e[0])||(this._adjustInstDate(f,c+("M"===d?this._get(f,"showCurrentAtPos"):0),d),this._updateDatepicker(f))},_gotoToday:function(b){var c,d=a(b),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear=e.currentYear):(c=new Date,e.selectedDay=c.getDate(),e.drawMonth=e.selectedMonth=c.getMonth(),e.drawYear=e.selectedYear=c.getFullYear()),this._notifyChange(e),this._adjustDate(d)},_selectMonthYear:function(b,c,d){var e=a(b),f=this._getInst(e[0]);f["selected"+("M"===d?"Month":"Year")]=f["draw"+("M"===d?"Month":"Year")]=parseInt(c.options[c.selectedIndex].value,10),this._notifyChange(f),this._adjustDate(e)},_selectDay:function(b,c,d,e){var f,g=a(b);a(e).hasClass(this._unselectableClass)||this._isDisabledDatepicker(g[0])||(f=this._getInst(g[0]),f.selectedDay=f.currentDay=a("a",e).html(),f.selectedMonth=f.currentMonth=c,f.selectedYear=f.currentYear=d,this._selectDate(b,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(b){var c=a(b);this._selectDate(c,"")},_selectDate:function(b,c){var d,e=a(b),f=this._getInst(e[0]);c=null!=c?c:this._formatDate(f),f.input&&f.input.val(c),this._updateAlternate(f),d=this._get(f,"onSelect"),d?d.apply(f.input?f.input[0]:null,[c,f]):f.input&&f.input.trigger("change"),f.inline?this._updateDatepicker(f):(this._hideDatepicker(),this._lastInput=f.input[0],"object"!=typeof f.input[0]&&f.input.focus(),this._lastInput=null)},_updateAlternate:function(b){var c,d,e,f=this._get(b,"altField");f&&(c=this._get(b,"altFormat")||this._get(b,"dateFormat"),d=this._getDate(b),e=this.formatDate(c,d,this._getFormatConfig(b)),a(f).each(function(){a(this).val(e)}))},noWeekends:function(a){var b=a.getDay();return[b>0&&6>b,""]},iso8601Week:function(a){var b,c=new Date(a.getTime());return c.setDate(c.getDate()+4-(c.getDay()||7)),b=c.getTime(),c.setMonth(0),c.setDate(1),Math.floor(Math.round((b-c)/864e5)/7)+1},parseDate:function(c,d,e){if(null==c||null==d)throw"Invalid arguments";if(d="object"==typeof d?""+d:d+"",""===d)return null;var f,g,h,i,j=0,k=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof k?k:(new Date).getFullYear()%100+parseInt(k,10),m=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,n=(e?e.dayNames:null)||this._defaults.dayNames,o=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,p=(e?e.monthNames:null)||this._defaults.monthNames,q=-1,r=-1,s=-1,t=-1,u=!1,v=function(a){var b=c.length>f+1&&c.charAt(f+1)===a;return b&&f++,b},w=function(a){var b=v(a),c="@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2,e=RegExp("^\\d{1,"+c+"}"),f=d.substring(j).match(e);if(!f)throw"Missing number at position "+j;return j+=f[0].length,parseInt(f[0],10)},x=function(c,e,f){var g=-1,h=a.map(v(c)?f:e,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)});if(a.each(h,function(a,c){var e=c[1];return d.substr(j,e.length).toLowerCase()===e.toLowerCase()?(g=c[0],j+=e.length,!1):b}),-1!==g)return g+1;throw"Unknown name at position "+j},y=function(){if(d.charAt(j)!==c.charAt(f))throw"Unexpected literal at position "+j;j++};for(f=0;c.length>f;f++)if(u)"'"!==c.charAt(f)||v("'")?y():u=!1;else switch(c.charAt(f)){case"d":s=w("d");break;case"D":x("D",m,n);break;case"o":t=w("o");break;case"m":r=w("m");break;case"M":r=x("M",o,p);break;case"y":q=w("y");break;case"@":i=new Date(w("@")),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"!":i=new Date((w("!")-this._ticksTo1970)/1e4),q=i.getFullYear(),r=i.getMonth()+1,s=i.getDate();break;case"'":v("'")?y():u=!0;break;default:y()}if(d.length>j&&(h=d.substr(j),!/^\s+/.test(h)))throw"Extra/unparsed characters found in date: "+h;if(-1===q?q=(new Date).getFullYear():100>q&&(q+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=q?0:-100)),t>-1)for(r=1,s=t;g=this._getDaysInMonth(q,r-1),!(g>=s);)r++,s-=g;if(i=this._daylightSavingAdjust(new Date(q,r-1,s)),i.getFullYear()!==q||i.getMonth()+1!==r||i.getDate()!==s)throw"Invalid date";return i},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,c){if(!b)return"";var d,e=(c?c.dayNamesShort:null)||this._defaults.dayNamesShort,f=(c?c.dayNames:null)||this._defaults.dayNames,g=(c?c.monthNamesShort:null)||this._defaults.monthNamesShort,h=(c?c.monthNames:null)||this._defaults.monthNames,i=function(b){var c=a.length>d+1&&a.charAt(d+1)===b;return c&&d++,c},j=function(a,b,c){var d=""+b;if(i(a))for(;c>d.length;)d="0"+d;return d},k=function(a,b,c,d){return i(a)?d[b]:c[b]},l="",m=!1;if(b)for(d=0;a.length>d;d++)if(m)"'"!==a.charAt(d)||i("'")?l+=a.charAt(d):m=!1;else switch(a.charAt(d)){case"d":l+=j("d",b.getDate(),2);break;case"D":l+=k("D",b.getDay(),e,f);break;case"o":l+=j("o",Math.round((new Date(b.getFullYear(),b.getMonth(),b.getDate()).getTime()-new Date(b.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=j("m",b.getMonth()+1,2);break;case"M":l+=k("M",b.getMonth(),g,h);break;case"y":l+=i("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case"@":l+=b.getTime();break;case"!":l+=1e4*b.getTime()+this._ticksTo1970;break;case"'":i("'")?l+="'":m=!0;break;default:l+=a.charAt(d)}return l},_possibleChars:function(a){var b,c="",d=!1,e=function(c){var d=a.length>b+1&&a.charAt(b+1)===c;return d&&b++,d};for(b=0;a.length>b;b++)if(d)"'"!==a.charAt(b)||e("'")?c+=a.charAt(b):d=!1;else switch(a.charAt(b)){case"d":case"m":case"y":case"@":c+="0123456789";break;case"D":case"M":return null;case"'":e("'")?c+="'":d=!0;break;default:c+=a.charAt(b)}return c},_get:function(a,c){return a.settings[c]!==b?a.settings[c]:this._defaults[c]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var c=this._get(a,"dateFormat"),d=a.lastVal=a.input?a.input.val():null,e=this._getDefaultDate(a),f=e,g=this._getFormatConfig(a);try{f=this.parseDate(c,d,g)||e}catch(h){d=b?"":d}a.selectedDay=f.getDate(),a.drawMonth=a.selectedMonth=f.getMonth(),a.drawYear=a.selectedYear=f.getFullYear(),a.currentDay=d?f.getDate():0,a.currentMonth=d?f.getMonth():0,a.currentYear=d?f.getFullYear():0,this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(b,c,d){var e=function(a){var b=new Date;return b.setDate(b.getDate()+a),b},f=function(c){try{return a.datepicker.parseDate(a.datepicker._get(b,"dateFormat"),c,a.datepicker._getFormatConfig(b))}catch(d){}for(var e=(c.toLowerCase().match(/^c/)?a.datepicker._getDate(b):null)||new Date,f=e.getFullYear(),g=e.getMonth(),h=e.getDate(),i=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,j=i.exec(c);j;){switch(j[2]||"d"){case"d":case"D":h+=parseInt(j[1],10);break;case"w":case"W":h+=7*parseInt(j[1],10);break;case"m":case"M":g+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g));break;case"y":case"Y":f+=parseInt(j[1],10),h=Math.min(h,a.datepicker._getDaysInMonth(f,g))}j=i.exec(c)}return new Date(f,g,h)},g=null==c||""===c?d:"string"==typeof c?f(c):"number"==typeof c?isNaN(c)?d:e(c):new Date(c.getTime());return g=g&&"Invalid Date"==""+g?d:g,g&&(g.setHours(0),g.setMinutes(0),g.setSeconds(0),g.setMilliseconds(0)),this._daylightSavingAdjust(g)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(a,b,c){var d=!b,e=a.selectedMonth,f=a.selectedYear,g=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=g.getDate(),a.drawMonth=a.selectedMonth=a.currentMonth=g.getMonth(),a.drawYear=a.selectedYear=a.currentYear=g.getFullYear(),e===a.selectedMonth&&f===a.selectedYear||c||this._notifyChange(a),this._adjustInstDate(a),a.input&&a.input.val(d?"":this._formatDate(a))},_getDate:function(a){var b=!a.currentYear||a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return b},_attachHandlers:function(b){var c=this._get(b,"stepMonths"),d="#"+b.id.replace(/\\\\/g,"\\");b.dpDiv.find("[data-handler]").map(function(){var b={prev:function(){a.datepicker._adjustDate(d,-c,"M")},next:function(){a.datepicker._adjustDate(d,+c,"M")},hide:function(){a.datepicker._hideDatepicker()},today:function(){a.datepicker._gotoToday(d)},selectDay:function(){return a.datepicker._selectDay(d,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return a.datepicker._selectMonthYear(d,this,"M"),!1},selectYear:function(){return a.datepicker._selectMonthYear(d,this,"Y"),!1}};a(this).bind(this.getAttribute("data-event"),b[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=new Date,P=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),Q=this._get(a,"isRTL"),R=this._get(a,"showButtonPanel"),S=this._get(a,"hideIfNoPrevNext"),T=this._get(a,"navigationAsDateFormat"),U=this._getNumberOfMonths(a),V=this._get(a,"showCurrentAtPos"),W=this._get(a,"stepMonths"),X=1!==U[0]||1!==U[1],Y=this._daylightSavingAdjust(a.currentDay?new Date(a.currentYear,a.currentMonth,a.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(a,"min"),$=this._getMinMaxDate(a,"max"),_=a.drawMonth-V,ab=a.drawYear;if(0>_&&(_+=12,ab--),$)for(b=this._daylightSavingAdjust(new Date($.getFullYear(),$.getMonth()-U[0]*U[1]+1,$.getDate())),b=Z&&Z>b?Z:b;this._daylightSavingAdjust(new Date(ab,_,1))>b;)_--,0>_&&(_=11,ab--);for(a.drawMonth=_,a.drawYear=ab,c=this._get(a,"prevText"),c=T?this.formatDate(c,this._daylightSavingAdjust(new Date(ab,_-W,1)),this._getFormatConfig(a)):c,d=this._canAdjustMonth(a,-1,ab,_)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>":S?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"e":"w")+"'>"+c+"</span></a>",e=this._get(a,"nextText"),e=T?this.formatDate(e,this._daylightSavingAdjust(new Date(ab,_+W,1)),this._getFormatConfig(a)):e,f=this._canAdjustMonth(a,1,ab,_)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>":S?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+e+"'><span class='ui-icon ui-icon-circle-triangle-"+(Q?"w":"e")+"'>"+e+"</span></a>",g=this._get(a,"currentText"),h=this._get(a,"gotoCurrent")&&a.currentDay?Y:P,g=T?this.formatDate(g,h,this._getFormatConfig(a)):g,i=a.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+"</button>",j=R?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Q?i:"")+(this._isInRange(a,h)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(Q?"":i)+"</div>":"",k=parseInt(this._get(a,"firstDay"),10),k=isNaN(k)?0:k,l=this._get(a,"showWeek"),m=this._get(a,"dayNames"),n=this._get(a,"dayNamesMin"),o=this._get(a,"monthNames"),p=this._get(a,"monthNamesShort"),q=this._get(a,"beforeShowDay"),r=this._get(a,"showOtherMonths"),s=this._get(a,"selectOtherMonths"),t=this._getDefaultDate(a),u="",w=0;U[0]>w;w++){for(x="",this.maxRows=4,y=0;U[1]>y;y++){if(z=this._daylightSavingAdjust(new Date(ab,_,a.selectedDay)),A=" ui-corner-all",B="",X){if(B+="<div class='ui-datepicker-group",U[1]>1)switch(y){case 0:B+=" ui-datepicker-group-first",A=" ui-corner-"+(Q?"right":"left");break;case U[1]-1:B+=" ui-datepicker-group-last",A=" ui-corner-"+(Q?"left":"right");break;default:B+=" ui-datepicker-group-middle",A=""}B+="'>"}for(B+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===w?Q?f:d:"")+(/all|right/.test(A)&&0===w?Q?d:f:"")+this._generateMonthYearHeader(a,_,ab,Z,$,w>0||y>0,o,p)+"</div><table class='ui-datepicker-calendar'><thead><tr>",C=l?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"",v=0;7>v;v++)D=(v+k)%7,C+="<th"+((v+k+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+m[D]+"'>"+n[D]+"</span></th>";for(B+=C+"</tr></thead><tbody>",E=this._getDaysInMonth(ab,_),ab===a.selectedYear&&_===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E)),F=(this._getFirstDayOfMonth(ab,_)-k+7)%7,G=Math.ceil((F+E)/7),H=X?this.maxRows>G?this.maxRows:G:G,this.maxRows=H,I=this._daylightSavingAdjust(new Date(ab,_,1-F)),J=0;H>J;J++){for(B+="<tr>",K=l?"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(I)+"</td>":"",v=0;7>v;v++)L=q?q.apply(a.input?a.input[0]:null,[I]):[!0,""],M=I.getMonth()!==_,N=M&&!s||!L[0]||Z&&Z>I||$&&I>$,K+="<td class='"+((v+k+6)%7>=5?" ui-datepicker-week-end":"")+(M?" ui-datepicker-other-month":"")+(I.getTime()===z.getTime()&&_===a.selectedMonth&&a._keyEvent||t.getTime()===I.getTime()&&t.getTime()===z.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(M&&!r?"":" "+L[1]+(I.getTime()===Y.getTime()?" "+this._currentClass:"")+(I.getTime()===P.getTime()?" ui-datepicker-today":""))+"'"+(M&&!r||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(M&&!r?"&#xa0;":N?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===P.getTime()?" ui-state-highlight":"")+(I.getTime()===Y.getTime()?" ui-state-active":"")+(M?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);B+=K+"</tr>"}_++,_>11&&(_=0,ab++),B+="</tbody></table>"+(X?"</div>"+(U[0]>0&&y===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=B}u+=x}return u+=j,a._keyEvent=!1,u},_generateMonthYearHeader:function(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q=this._get(a,"changeMonth"),r=this._get(a,"changeYear"),s=this._get(a,"showMonthAfterYear"),t="<div class='ui-datepicker-title'>",u="";if(f||!q)u+="<span class='ui-datepicker-month'>"+g[b]+"</span>";else{for(i=d&&d.getFullYear()===c,j=e&&e.getFullYear()===c,u+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",k=0;12>k;k++)(!i||k>=d.getMonth())&&(!j||e.getMonth()>=k)&&(u+="<option value='"+k+"'"+(k===b?" selected='selected'":"")+">"+h[k]+"</option>");u+="</select>"}if(s||(t+=u+(!f&&q&&r?"":"&#xa0;")),!a.yearshtml)if(a.yearshtml="",f||!r)t+="<span class='ui-datepicker-year'>"+c+"</span>";else{for(l=this._get(a,"yearRange").split(":"),m=(new Date).getFullYear(),n=function(a){var b=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?m+parseInt(a,10):parseInt(a,10);return isNaN(b)?m:b},o=n(l[0]),p=Math.max(o,n(l[1]||"")),o=d?Math.max(o,d.getFullYear()):o,p=e?Math.min(p,e.getFullYear()):p,a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p>=o;o++)a.yearshtml+="<option value='"+o+"'"+(o===c?" selected='selected'":"")+">"+o+"</option>";a.yearshtml+="</select>",t+=a.yearshtml,a.yearshtml=null}return t+=this._get(a,"yearSuffix"),s&&(t+=(!f&&q&&r?"":"&#xa0;")+u),t+="</div>"},_adjustInstDate:function(a,b,c){var d=a.drawYear+("Y"===c?b:0),e=a.drawMonth+("M"===c?b:0),f=Math.min(a.selectedDay,this._getDaysInMonth(d,e))+("D"===c?b:0),g=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(d,e,f)));a.selectedDay=g.getDate(),a.drawMonth=a.selectedMonth=g.getMonth(),a.drawYear=a.selectedYear=g.getFullYear(),("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),d=this._getMinMaxDate(a,"max"),e=c&&c>b?c:b;return d&&e>d?d:e},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){var b=this._get(a,"numberOfMonths");return null==b?[1,1]:"number"==typeof b?[1,b]:b},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return new Date(a,b,1).getDay()},_canAdjustMonth:function(a,b,c,d){var e=this._getNumberOfMonths(a),f=this._daylightSavingAdjust(new Date(c,d+(0>b?b:e[0]*e[1]),1));return 0>b&&f.setDate(this._getDaysInMonth(f.getFullYear(),f.getMonth())),this._isInRange(a,f)},_isInRange:function(a,b){var c,d,e=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),g=null,h=null,i=this._get(a,"yearRange");return i&&(c=i.split(":"),d=(new Date).getFullYear(),g=parseInt(c[0],10),h=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(g+=d),c[1].match(/[+\-].*/)&&(h+=d)),(!e||b.getTime()>=e.getTime())&&(!f||b.getTime()<=f.getTime())&&(!g||b.getFullYear()>=g)&&(!h||h>=b.getFullYear())},_getFormatConfig:function(a){var b=this._get(a,"shortYearCutoff");return b="string"!=typeof b?b:(new Date).getFullYear()%100+parseInt(b,10),{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}
},_formatDate:function(a,b,c,d){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);var e=b?"object"==typeof b?b:this._daylightSavingAdjust(new Date(d,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),e,this._getFormatConfig(a))}}),a.fn.datepicker=function(b){if(!this.length)return this;a.datepicker.initialized||(a(document).mousedown(a.datepicker._checkExternalClick),a.datepicker.initialized=!0),0===a("#"+a.datepicker._mainDivId).length&&a("body").append(a.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"!=typeof b||"isDisabled"!==b&&"getDate"!==b&&"widget"!==b?"option"===b&&2===arguments.length&&"string"==typeof arguments[1]?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c)):this.each(function(){"string"==typeof b?a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this].concat(c)):a.datepicker._attachDatepicker(this,b)}):a.datepicker["_"+b+"Datepicker"].apply(a.datepicker,[this[0]].concat(c))},a.datepicker=new c,a.datepicker.initialized=!1,a.datepicker.uuid=(new Date).getTime(),a.datepicker.version="1.10.3"}(jQuery),function(a){var b={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},c={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};a.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(b){var c=a(this).css(b).offset().top;0>c&&a(this).css("top",b.top-c)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&a.fn.draggable&&this._makeDraggable(),this.options.resizable&&a.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var b=this.options.appendTo;return b&&(b.jquery||b.nodeType)?a(b):this.document.find(b||"body").eq(0)},_destroy:function(){var a,b=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),a=b.parent.children().eq(b.index),a.length&&a[0]!==this.element[0]?a.before(this.element):b.parent.append(this.element)},widget:function(){return this.uiDialog},disable:a.noop,enable:a.noop,close:function(b){var c=this;this._isOpen&&this._trigger("beforeClose",b)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||a(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){c._trigger("close",b)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(a,b){var c=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return c&&!b&&this._trigger("focus",a),c},open:function(){var b=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=a(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){b._focusTabbable(),b._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var a=this.element.find("[autofocus]");a.length||(a=this.element.find(":tabbable")),a.length||(a=this.uiDialogButtonPane.find(":tabbable")),a.length||(a=this.uiDialogTitlebarClose.filter(":tabbable")),a.length||(a=this.uiDialog),a.eq(0).focus()},_keepFocus:function(b){function c(){var b=this.document[0].activeElement,c=this.uiDialog[0]===b||a.contains(this.uiDialog[0],b);c||this._focusTabbable()}b.preventDefault(),c.call(this),this._delay(c)},_createWrapper:function(){this.uiDialog=a("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialogMetodoCreacion"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(b){if(this.options.closeOnEscape&&!b.isDefaultPrevented()&&b.keyCode&&b.keyCode===a.ui.keyCode.ESCAPE)return b.preventDefault(),void this.close(b);if(b.keyCode===a.ui.keyCode.TAB){var c=this.uiDialog.find(":tabbable"),d=c.filter(":first"),e=c.filter(":last");b.target!==e[0]&&b.target!==this.uiDialog[0]||b.shiftKey?b.target!==d[0]&&b.target!==this.uiDialog[0]||!b.shiftKey||(e.focus(1),b.preventDefault()):(d.focus(1),b.preventDefault())}},mousedown:function(a){this._moveToTop(a)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var b;this.uiDialogTitlebar=a("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(b){a(b.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=a("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(a){a.preventDefault(),this.close(a)}}),b=a("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(b),this.uiDialog.attr({"aria-labelledby":b.attr("id")})},_title:function(a){this.options.title||a.html("&#160;"),a.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=a("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=a("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var b=this,c=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),a.isEmptyObject(c)||a.isArray(c)&&!c.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(a.each(c,function(c,d){var e,f;d=a.isFunction(d)?{click:d,text:c}:d,d=a.extend({type:"button"},d),e=d.click,d.click=function(){e.apply(b.element[0],arguments)},f={icons:d.icons,text:d.showText},delete d.icons,delete d.showText,a("<button></button>",d).button(f).appendTo(b.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function b(a){return{position:a.position,offset:a.offset}}var c=this,d=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(d,e){a(this).addClass("ui-dialog-dragging"),c._blockFrames(),c._trigger("dragStart",d,b(e))},drag:function(a,d){c._trigger("drag",a,b(d))},stop:function(e,f){d.position=[f.position.left-c.document.scrollLeft(),f.position.top-c.document.scrollTop()],a(this).removeClass("ui-dialog-dragging"),c._unblockFrames(),c._trigger("dragStop",e,b(f))}})},_makeResizable:function(){function b(a){return{originalPosition:a.originalPosition,originalSize:a.originalSize,position:a.position,size:a.size}}var c=this,d=this.options,e=d.resizable,f=this.uiDialog.css("position"),g="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:d.maxWidth,maxHeight:d.maxHeight,minWidth:d.minWidth,minHeight:this._minHeight(),handles:g,start:function(d,e){a(this).addClass("ui-dialog-resizing"),c._blockFrames(),c._trigger("resizeStart",d,b(e))},resize:function(a,d){c._trigger("resize",a,b(d))},stop:function(e,f){d.height=a(this).height(),d.width=a(this).width(),a(this).removeClass("ui-dialog-resizing"),c._unblockFrames(),c._trigger("resizeStop",e,b(f))}}).css("position",f)},_minHeight:function(){var a=this.options;return"auto"===a.height?a.minHeight:Math.min(a.minHeight,a.height)},_position:function(){var a=this.uiDialog.is(":visible");a||this.uiDialog.show(),this.uiDialog.position(this.options.position),a||this.uiDialog.hide()},_setOptions:function(d){var e=this,f=!1,g={};a.each(d,function(a,d){e._setOption(a,d),a in b&&(f=!0),a in c&&(g[a]=d)}),f&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",g)},_setOption:function(a,b){var c,d,e=this.uiDialog;"dialogClass"===a&&e.removeClass(this.options.dialogClass).addClass(b),"disabled"!==a&&(this._super(a,b),"appendTo"===a&&this.uiDialog.appendTo(this._appendTo()),"buttons"===a&&this._createButtons(),"closeText"===a&&this.uiDialogTitlebarClose.button({label:""+b}),"draggable"===a&&(c=e.is(":data(ui-draggable)"),c&&!b&&e.draggable("destroy"),!c&&b&&this._makeDraggable()),"position"===a&&this._position(),"resizable"===a&&(d=e.is(":data(ui-resizable)"),d&&!b&&e.resizable("destroy"),d&&"string"==typeof b&&e.resizable("option","handles",b),d||b===!1||this._makeResizable()),"title"===a&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var a,b,c,d=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),d.minWidth>d.width&&(d.width=d.minWidth),a=this.uiDialog.css({height:"auto",width:d.width}).outerHeight(),b=Math.max(0,d.minHeight-a),c="number"==typeof d.maxHeight?Math.max(0,d.maxHeight-a):"none","auto"===d.height?this.element.css({minHeight:b,maxHeight:c,height:"auto"}):this.element.height(Math.max(0,d.height-a)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var b=a(this);return a("<div>").css({position:"absolute",width:b.outerWidth(),height:b.outerHeight()}).appendTo(b.parent()).offset(b.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(b){return a(b.target).closest(".ui-dialog").length?!0:!!a(b.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var b=this,c=this.widgetFullName;a.ui.dialog.overlayInstances||this._delay(function(){a.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(d){b._allowInteraction(d)||(d.preventDefault(),a(".ui-dialog:visible:last .ui-dialog-content").data(c)._focusTabbable())})}),this.overlay=a("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),a.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(a.ui.dialog.overlayInstances--,a.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),a.ui.dialog.overlayInstances=0,a.uiBackCompat!==!1&&a.widget("ui.dialog",a.ui.dialog,{_position:function(){var b,c=this.options.position,d=[],e=[0,0];c?(("string"==typeof c||"object"==typeof c&&"0"in c)&&(d=c.split?c.split(" "):[c[0],c[1]],1===d.length&&(d[1]=d[0]),a.each(["left","top"],function(a,b){+d[a]===d[a]&&(e[a]=d[a],d[a]=b)}),c={my:d[0]+(0>e[0]?e[0]:"+"+e[0])+" "+d[1]+(0>e[1]?e[1]:"+"+e[1]),at:d.join(" ")}),c=a.extend({},a.ui.dialog.prototype.options.position,c)):c=a.ui.dialog.prototype.options.position,b=this.uiDialog.is(":visible"),b||this.uiDialog.show(),this.uiDialog.position(c),b||this.uiDialog.hide()}})}(jQuery),function(a){a.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,a.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var c=a(b.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(b),c.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var c=a(b.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(a,b){var c=this.active||this.element.children(".ui-menu-item").eq(0);b||this.focus(a,c)},blur:function(b){this._delay(function(){a.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(b)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(b){a(b.target).closest(".ui-menu").length||this.collapseAll(b),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var b=a(this);b.data("ui-menu-submenu-carat")&&b.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(b){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var d,e,f,g,h,i=!0;switch(b.keyCode){case a.ui.keyCode.PAGE_UP:this.previousPage(b);break;case a.ui.keyCode.PAGE_DOWN:this.nextPage(b);break;case a.ui.keyCode.HOME:this._move("first","first",b);break;case a.ui.keyCode.END:this._move("last","last",b);break;case a.ui.keyCode.UP:this.previous(b);break;case a.ui.keyCode.DOWN:this.next(b);break;case a.ui.keyCode.LEFT:this.collapse(b);break;case a.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(b);break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:this._activate(b);break;case a.ui.keyCode.ESCAPE:this.collapse(b);break;default:i=!1,e=this.previousFilter||"",f=String.fromCharCode(b.keyCode),g=!1,clearTimeout(this.filterTimer),f===e?g=!0:f=e+f,h=RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())}),d=g&&-1!==d.index(this.active.next())?this.active.nextAll(".ui-menu-item"):d,d.length||(f=String.fromCharCode(b.keyCode),h=RegExp("^"+c(f),"i"),d=this.activeMenu.children(".ui-menu-item").filter(function(){return h.test(a(this).children("a").text())})),d.length?(this.focus(b,d),d.length>1?(this.previousFilter=f,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}i&&b.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var b,c=this.options.icons.submenu,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var b=a(this),d=b.prev("a"),e=a("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);d.attr("aria-haspopup","true").prepend(e),b.attr("aria-labelledby",d.attr("id"))}),b=d.add(this.element),b.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),b.children(":not(.ui-menu-item)").each(function(){var b=a(this);/[^\-\u2014\u2013\s]/.test(b.text())||b.addClass("ui-widget-content ui-menu-divider")}),b.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!a.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){"icons"===a&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),this._super(a,b)},focus:function(a,b){var c,d;this.blur(a,a&&"focus"===a.type),this._scrollIntoView(b),this.active=b.first(),d=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",d.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),a&&"keydown"===a.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),c=b.children(".ui-menu"),c.length&&/^mouse/.test(a.type)&&this._startOpening(c),this.activeMenu=b.parent(),this._trigger("focus",a,{item:b})},_scrollIntoView:function(b){var c,d,e,f,g,h;this._hasScroll()&&(c=parseFloat(a.css(this.activeMenu[0],"borderTopWidth"))||0,d=parseFloat(a.css(this.activeMenu[0],"paddingTop"))||0,e=b.offset().top-this.activeMenu.offset().top-c-d,f=this.activeMenu.scrollTop(),g=this.activeMenu.height(),h=b.height(),0>e?this.activeMenu.scrollTop(f+e):e+h>g&&this.activeMenu.scrollTop(f+e-g+h))},blur:function(a,b){b||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active}))},_startOpening:function(a){clearTimeout(this.timer),"true"===a.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(a)},this.delay))},_open:function(b){var c=a.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(b,c){clearTimeout(this.timer),this.timer=this._delay(function(){var d=c?this.element:a(b&&b.target).closest(this.element.find(".ui-menu"));d.length||(d=this.element),this._close(d),this.blur(b),this.activeMenu=d},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(a,b,c){var d;this.active&&(d="first"===a||"last"===a?this.active["first"===a?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[a+"All"](".ui-menu-item").eq(0)),d&&d.length&&this.active||(d=this.activeMenu.children(".ui-menu-item")[b]()),this.focus(c,d)},nextPage:function(b){var c,d,e;return this.active?void(this.isLastItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return c=a(this),0>c.offset().top-d-e}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(b)},previousPage:function(b){var c,d,e;return this.active?void(this.isFirstItem()||(this._hasScroll()?(d=this.active.offset().top,e=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return c=a(this),c.offset().top-d+e>0}),this.focus(b,c)):this.focus(b,this.activeMenu.children(".ui-menu-item").first()))):void this.next(b)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||a(b.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,c)}})}(jQuery),function(a,b){a.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=a("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(a){return a===b?this.options.value:(this.options.value=this._constrainedValue(a),this._refreshValue(),b)},_constrainedValue:function(a){return a===b&&(a=this.options.value),this.indeterminate=a===!1,"number"!=typeof a&&(a=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,a))},_setOptions:function(a){var b=a.value;delete a.value,this._super(a),this.options.value=this._constrainedValue(b),this._refreshValue()},_setOption:function(a,b){"max"===a&&(b=Math.max(this.min,b)),this._super(a,b)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var b=this.options.value,c=this._percentage();this.valueDiv.toggle(this.indeterminate||b>this.min).toggleClass("ui-corner-right",b===this.options.max).width(c.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=a("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":b}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==b&&(this.oldValue=b,this._trigger("change")),b===this.options.max&&this._trigger("complete")}})}(jQuery),function(a){var b=5;a.widget("ui.slider",a.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var b,c,d=this.options,e=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),f="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",g=[];for(c=d.values&&d.values.length||1,e.length>c&&(e.slice(c).remove(),e=e.slice(0,c)),b=e.length;c>b;b++)g.push(f);this.handles=e.add(a(g.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(b){a(this).data("ui-slider-handle-index",b)})},_createRange:function(){var b=this.options,c="";b.range?(b.range===!0&&(b.values?b.values.length&&2!==b.values.length?b.values=[b.values[0],b.values[0]]:a.isArray(b.values)&&(b.values=b.values.slice(0)):b.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=a("<div></div>").appendTo(this.element),c="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(c+("min"===b.range||"max"===b.range?" ui-slider-range-"+b.range:""))):this.range=a([])},_setupEvents:function(){var a=this.handles.add(this.range).filter("a");this._off(a),this._on(a,this._handleEvents),this._hoverable(a),this._focusable(a)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(b){var c,d,e,f,g,h,i,j,k=this,l=this.options;return l.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),c={x:b.pageX,y:b.pageY},d=this._normValueFromMouse(c),e=this._valueMax()-this._valueMin()+1,this.handles.each(function(b){var c=Math.abs(d-k.values(b));(e>c||e===c&&(b===k._lastChangedValue||k.values(b)===l.min))&&(e=c,f=a(this),g=b)}),h=this._start(b,g),h===!1?!1:(this._mouseSliding=!0,this._handleIndex=g,f.addClass("ui-state-active").focus(),i=f.offset(),j=!a(b.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=j?{left:0,top:0}:{left:b.pageX-i.left-f.width()/2,top:b.pageY-i.top-f.height()/2-(parseInt(f.css("borderTopWidth"),10)||0)-(parseInt(f.css("borderBottomWidth"),10)||0)+(parseInt(f.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(b,g,d),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(a){var b={x:a.pageX,y:a.pageY},c=this._normValueFromMouse(b);return this._slide(a,this._handleIndex,c),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(a){var b,c,d,e,f;return"horizontal"===this.orientation?(b=this.elementSize.width,c=a.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(b=this.elementSize.height,c=a.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),d=c/b,d>1&&(d=1),0>d&&(d=0),"vertical"===this.orientation&&(d=1-d),e=this._valueMax()-this._valueMin(),f=this._valueMin()+d*e,this._trimAlignValue(f)},_start:function(a,b){var c={handle:this.handles[b],value:this.value()};return this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("start",a,c)},_slide:function(a,b,c){var d,e,f;this.options.values&&this.options.values.length?(d=this.values(b?0:1),2===this.options.values.length&&this.options.range===!0&&(0===b&&c>d||1===b&&d>c)&&(c=d),c!==this.values(b)&&(e=this.values(),e[b]=c,f=this._trigger("slide",a,{handle:this.handles[b],value:c,values:e}),d=this.values(b?0:1),f!==!1&&this.values(b,c,!0))):c!==this.value()&&(f=this._trigger("slide",a,{handle:this.handles[b],value:c}),f!==!1&&this.value(c))},_stop:function(a,b){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._trigger("stop",a,c)},_change:function(a,b){if(!this._keySliding&&!this._mouseSliding){var c={handle:this.handles[b],value:this.value()};this.options.values&&this.options.values.length&&(c.value=this.values(b),c.values=this.values()),this._lastChangedValue=b,this._trigger("change",a,c)}},value:function(a){return arguments.length?(this.options.value=this._trimAlignValue(a),this._refreshValue(),void this._change(null,0)):this._value()},values:function(b,c){var d,e,f;if(arguments.length>1)return this.options.values[b]=this._trimAlignValue(c),this._refreshValue(),void this._change(null,b);if(!arguments.length)return this._values();if(!a.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(b):this.value();for(d=this.options.values,e=arguments[0],f=0;d.length>f;f+=1)d[f]=this._trimAlignValue(e[f]),this._change(null,f);this._refreshValue()},_setOption:function(b,c){var d,e=0;switch("range"===b&&this.options.range===!0&&("min"===c?(this.options.value=this._values(0),this.options.values=null):"max"===c&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),a.isArray(this.options.values)&&(e=this.options.values.length),a.Widget.prototype._setOption.apply(this,arguments),b){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),d=0;e>d;d+=1)this._change(null,d);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a)},_values:function(a){var b,c,d;if(arguments.length)return b=this.options.values[a],b=this._trimAlignValue(b);if(this.options.values&&this.options.values.length){for(c=this.options.values.slice(),d=0;c.length>d;d+=1)c[d]=this._trimAlignValue(c[d]);return c}return[]},_trimAlignValue:function(a){if(this._valueMin()>=a)return this._valueMin();if(a>=this._valueMax())return this._valueMax();var b=this.options.step>0?this.options.step:1,c=(a-this._valueMin())%b,d=a-c;return 2*Math.abs(c)>=b&&(d+=c>0?b:-b),parseFloat(d.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var b,c,d,e,f,g=this.options.range,h=this.options,i=this,j=this._animateOff?!1:h.animate,k={};this.options.values&&this.options.values.length?this.handles.each(function(d){c=100*((i.values(d)-i._valueMin())/(i._valueMax()-i._valueMin())),k["horizontal"===i.orientation?"left":"bottom"]=c+"%",a(this).stop(1,1)[j?"animate":"css"](k,h.animate),i.options.range===!0&&("horizontal"===i.orientation?(0===d&&i.range.stop(1,1)[j?"animate":"css"]({left:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({width:c-b+"%"},{queue:!1,duration:h.animate})):(0===d&&i.range.stop(1,1)[j?"animate":"css"]({bottom:c+"%"},h.animate),1===d&&i.range[j?"animate":"css"]({height:c-b+"%"},{queue:!1,duration:h.animate}))),b=c}):(d=this.value(),e=this._valueMin(),f=this._valueMax(),c=f!==e?100*((d-e)/(f-e)):0,k["horizontal"===this.orientation?"left":"bottom"]=c+"%",this.handle.stop(1,1)[j?"animate":"css"](k,h.animate),"min"===g&&"horizontal"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({width:c+"%"},h.animate),"max"===g&&"horizontal"===this.orientation&&this.range[j?"animate":"css"]({width:100-c+"%"},{queue:!1,duration:h.animate}),"min"===g&&"vertical"===this.orientation&&this.range.stop(1,1)[j?"animate":"css"]({height:c+"%"},h.animate),"max"===g&&"vertical"===this.orientation&&this.range[j?"animate":"css"]({height:100-c+"%"},{queue:!1,duration:h.animate}))
},_handleEvents:{keydown:function(c){var d,e,f,g,h=a(c.target).data("ui-slider-handle-index");switch(c.keyCode){case a.ui.keyCode.HOME:case a.ui.keyCode.END:case a.ui.keyCode.PAGE_UP:case a.ui.keyCode.PAGE_DOWN:case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(c.preventDefault(),!this._keySliding&&(this._keySliding=!0,a(c.target).addClass("ui-state-active"),d=this._start(c,h),d===!1))return}switch(g=this.options.step,e=f=this.options.values&&this.options.values.length?this.values(h):this.value(),c.keyCode){case a.ui.keyCode.HOME:f=this._valueMin();break;case a.ui.keyCode.END:f=this._valueMax();break;case a.ui.keyCode.PAGE_UP:f=this._trimAlignValue(e+(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.PAGE_DOWN:f=this._trimAlignValue(e-(this._valueMax()-this._valueMin())/b);break;case a.ui.keyCode.UP:case a.ui.keyCode.RIGHT:if(e===this._valueMax())return;f=this._trimAlignValue(e+g);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.LEFT:if(e===this._valueMin())return;f=this._trimAlignValue(e-g)}this._slide(c,h,f)},click:function(a){a.preventDefault()},keyup:function(b){var c=a(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,c),this._change(b,c),a(b.target).removeClass("ui-state-active"))}}})}(jQuery),function(a){function b(a){return function(){var b=this.element.val();a.apply(this,arguments),this._refresh(),b!==this.element.val()&&this._trigger("change")}}a.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var b={},c=this.element;return a.each(["min","max","step"],function(a,d){var e=c.attr(d);void 0!==e&&e.length&&(b[d]=e)}),b},_events:{keydown:function(a){this._start(a)&&this._keydown(a)&&a.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(a){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",a)))},mousewheel:function(a,b){if(b){if(!this.spinning&&!this._start(a))return!1;this._spin((b>0?1:-1)*this.options.step,a),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(a)},100),a.preventDefault()}},"mousedown .ui-spinner-button":function(b){function c(){var a=this.element[0]===this.document[0].activeElement;a||(this.element.focus(),this.previous=d,this._delay(function(){this.previous=d}))}var d;d=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),b.preventDefault(),c.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,c.call(this)}),this._start(b)!==!1&&this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(b){return a(b.currentTarget).hasClass("ui-state-active")?this._start(b)===!1?!1:void this._repeat(null,a(b.currentTarget).hasClass("ui-spinner-up")?1:-1,b):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var a=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=a.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*a.height())&&a.height()>0&&a.height(a.height()),this.options.disabled&&this.disable()},_keydown:function(b){var c=this.options,d=a.ui.keyCode;switch(b.keyCode){case d.UP:return this._repeat(null,1,b),!0;case d.DOWN:return this._repeat(null,-1,b),!0;case d.PAGE_UP:return this._repeat(null,c.page,b),!0;case d.PAGE_DOWN:return this._repeat(null,-c.page,b),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(a){return this.spinning||this._trigger("start",a)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(a,b,c){a=a||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,b,c)},a),this._spin(b*this.options.step,c)},_spin:function(a,b){var c=this.value()||0;this.counter||(this.counter=1),c=this._adjustValue(c+a*this._increment(this.counter)),this.spinning&&this._trigger("spin",b,{value:c})===!1||(this._value(c),this.counter++)},_increment:function(b){var c=this.options.incremental;return c?a.isFunction(c)?c(b):Math.floor(b*b*b/5e4-b*b/500+17*b/200+1):1},_precision:function(){var a=this._precisionOf(this.options.step);return null!==this.options.min&&(a=Math.max(a,this._precisionOf(this.options.min))),a},_precisionOf:function(a){var b=""+a,c=b.indexOf(".");return-1===c?0:b.length-c-1},_adjustValue:function(a){var b,c,d=this.options;return b=null!==d.min?d.min:0,c=a-b,c=Math.round(c/d.step)*d.step,a=b+c,a=parseFloat(a.toFixed(this._precision())),null!==d.max&&a>d.max?d.max:null!==d.min&&d.min>a?d.min:a},_stop:function(a){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",a))},_setOption:function(a,b){if("culture"===a||"numberFormat"===a){var c=this._parse(this.element.val());return this.options[a]=b,void this.element.val(this._format(c))}("max"===a||"min"===a||"step"===a)&&"string"==typeof b&&(b=this._parse(b)),"icons"===a&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(b.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(b.down)),this._super(a,b),"disabled"===a&&(b?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:b(function(a){this._super(a),this._value(this.element.val())}),_parse:function(a){return"string"==typeof a&&""!==a&&(a=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(a,10,this.options.culture):+a),""===a||isNaN(a)?null:a},_format:function(a){return""===a?"":window.Globalize&&this.options.numberFormat?Globalize.format(a,this.options.numberFormat,this.options.culture):a},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(a,b){var c;""!==a&&(c=this._parse(a),null!==c&&(b||(c=this._adjustValue(c)),a=this._format(c))),this.element.val(a),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:b(function(a){this._stepUp(a)}),_stepUp:function(a){this._start()&&(this._spin((a||1)*this.options.step),this._stop())},stepDown:b(function(a){this._stepDown(a)}),_stepDown:function(a){this._start()&&(this._spin((a||1)*-this.options.step),this._stop())},pageUp:b(function(a){this._stepUp((a||1)*this.options.page)}),pageDown:b(function(a){this._stepDown((a||1)*this.options.page)}),value:function(a){return arguments.length?void b(this._value).call(this,a):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(a,b){function c(){return++e}function d(a){return a.hash.length>1&&decodeURIComponent(a.href.replace(f,""))===decodeURIComponent(location.href.replace(f,""))}var e=0,f=/#.*$/;a.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var b=this,c=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",c.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(b){a(this).is(".ui-state-disabled")&&b.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){a(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),c.active=this._initialActive(),a.isArray(c.disabled)&&(c.disabled=a.unique(c.disabled.concat(a.map(this.tabs.filter(".ui-state-disabled"),function(a){return b.tabs.index(a)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(c.active):a(),this._refresh(),this.active.length&&this.load(c.active)},_initialActive:function(){var c=this.options.active,d=this.options.collapsible,e=location.hash.substring(1);return null===c&&(e&&this.tabs.each(function(d,f){return a(f).attr("aria-controls")===e?(c=d,!1):b}),null===c&&(c=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===c||-1===c)&&(c=this.tabs.length?0:!1)),c!==!1&&(c=this.tabs.index(this.tabs.eq(c)),-1===c&&(c=d?!1:0)),!d&&c===!1&&this.anchors.length&&(c=0),c},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):a()}},_tabKeydown:function(c){var d=a(this.document[0].activeElement).closest("li"),e=this.tabs.index(d),f=!0;if(!this._handlePageNav(c)){switch(c.keyCode){case a.ui.keyCode.RIGHT:case a.ui.keyCode.DOWN:e++;break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:f=!1,e--;break;case a.ui.keyCode.END:e=this.anchors.length-1;break;case a.ui.keyCode.HOME:e=0;break;case a.ui.keyCode.SPACE:return c.preventDefault(),clearTimeout(this.activating),this._activate(e),b;case a.ui.keyCode.ENTER:return c.preventDefault(),clearTimeout(this.activating),this._activate(e===this.options.active?!1:e),b;default:return}c.preventDefault(),clearTimeout(this.activating),e=this._focusNextTab(e,f),c.ctrlKey||(d.attr("aria-selected","false"),this.tabs.eq(e).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",e)},this.delay))}},_panelKeydown:function(b){this._handlePageNav(b)||b.ctrlKey&&b.keyCode===a.ui.keyCode.UP&&(b.preventDefault(),this.active.focus())},_handlePageNav:function(c){return c.altKey&&c.keyCode===a.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):c.altKey&&c.keyCode===a.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):b},_findNextTab:function(b,c){function d(){return b>e&&(b=0),0>b&&(b=e),b}for(var e=this.tabs.length-1;-1!==a.inArray(d(),this.options.disabled);)b=c?b+1:b-1;return b},_focusNextTab:function(a,b){return a=this._findNextTab(a,b),this.tabs.eq(a).focus(),a},_setOption:function(a,c){return"active"===a?(this._activate(c),b):"disabled"===a?(this._setupDisabled(c),b):(this._super(a,c),"collapsible"===a&&(this.element.toggleClass("ui-tabs-collapsible",c),c||this.options.active!==!1||this._activate(0)),"event"===a&&this._setupEvents(c),"heightStyle"===a&&this._setupHeightStyle(c),b)},_tabId:function(a){return a.attr("aria-controls")||"ui-tabs-"+c()},_sanitizeSelector:function(a){return a?a.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var b=this.options,c=this.tablist.children(":has(a[href])");b.disabled=a.map(c.filter(".ui-state-disabled"),function(a){return c.index(a)}),this._processTabs(),b.active!==!1&&this.anchors.length?this.active.length&&!a.contains(this.tablist[0],this.active[0])?this.tabs.length===b.disabled.length?(b.active=!1,this.active=a()):this._activate(this._findNextTab(Math.max(0,b.active-1),!1)):b.active=this.tabs.index(this.active):(b.active=!1,this.active=a()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var b=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return a("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=a(),this.anchors.each(function(c,e){var f,g,h,i=a(e).uniqueId().attr("id"),j=a(e).closest("li"),k=j.attr("aria-controls");d(e)?(f=e.hash,g=b.element.find(b._sanitizeSelector(f))):(h=b._tabId(j),f="#"+h,g=b.element.find(f),g.length||(g=b._createPanel(h),g.insertAfter(b.panels[c-1]||b.tablist)),g.attr("aria-live","polite")),g.length&&(b.panels=b.panels.add(g)),k&&j.data("ui-tabs-aria-controls",k),j.attr({"aria-controls":f.substring(1),"aria-labelledby":i}),g.attr("aria-labelledby",i)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(b){return a("<div>").attr("id",b).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(b){a.isArray(b)&&(b.length?b.length===this.anchors.length&&(b=!0):b=!1);for(var c,d=0;c=this.tabs[d];d++)b===!0||-1!==a.inArray(d,b)?a(c).addClass("ui-state-disabled").attr("aria-disabled","true"):a(c).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=b},_setupEvents:function(b){var c={click:function(a){a.preventDefault()}};b&&a.each(b.split(" "),function(a,b){c[b]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,c),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(b){var c,d=this.element.parent();"fill"===b?(c=d.height(),c-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var b=a(this),d=b.css("position");"absolute"!==d&&"fixed"!==d&&(c-=b.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){c-=a(this).outerHeight(!0)}),this.panels.each(function(){a(this).height(Math.max(0,c-a(this).innerHeight()+a(this).height()))}).css("overflow","auto")):"auto"===b&&(c=0,this.panels.each(function(){c=Math.max(c,a(this).height("").height())}).height(c))},_eventHandler:function(b){var c=this.options,d=this.active,e=a(b.currentTarget),f=e.closest("li"),g=f[0]===d[0],h=g&&c.collapsible,i=h?a():this._getPanelForTab(f),j=d.length?this._getPanelForTab(d):a(),k={oldTab:d,oldPanel:j,newTab:h?a():f,newPanel:i};b.preventDefault(),f.hasClass("ui-state-disabled")||f.hasClass("ui-tabs-loading")||this.running||g&&!c.collapsible||this._trigger("beforeActivate",b,k)===!1||(c.active=h?!1:this.tabs.index(f),this.active=g?a():f,this.xhr&&this.xhr.abort(),j.length||i.length||a.error("jQuery UI Tabs: Mismatching fragment identifier."),i.length&&this.load(this.tabs.index(f),b),this._toggle(b,k))},_toggle:function(b,c){function d(){f.running=!1,f._trigger("activate",b,c)}function e(){c.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),g.length&&f.options.show?f._show(g,f.options.show,d):(g.show(),d())}var f=this,g=c.newPanel,h=c.oldPanel;this.running=!0,h.length&&this.options.hide?this._hide(h,this.options.hide,function(){c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),e()}):(c.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),h.hide(),e()),h.attr({"aria-expanded":"false","aria-hidden":"true"}),c.oldTab.attr("aria-selected","false"),g.length&&h.length?c.oldTab.attr("tabIndex",-1):g.length&&this.tabs.filter(function(){return 0===a(this).attr("tabIndex")}).attr("tabIndex",-1),g.attr({"aria-expanded":"true","aria-hidden":"false"}),c.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(b){var c,d=this._findActive(b);d[0]!==this.active[0]&&(d.length||(d=this.active),c=d.find(".ui-tabs-anchor")[0],this._eventHandler({target:c,currentTarget:c,preventDefault:a.noop}))},_findActive:function(b){return b===!1?a():this.tabs.eq(b)},_getIndex:function(a){return"string"==typeof a&&(a=this.anchors.index(this.anchors.filter("[href$='"+a+"']"))),a},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){a.data(this,"ui-tabs-destroy")?a(this).remove():a(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var b=a(this),c=b.data("ui-tabs-aria-controls");c?b.attr("aria-controls",c).removeData("ui-tabs-aria-controls"):b.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(c){var d=this.options.disabled;d!==!1&&(c===b?d=!1:(c=this._getIndex(c),d=a.isArray(d)?a.map(d,function(a){return a!==c?a:null}):a.map(this.tabs,function(a,b){return b!==c?b:null})),this._setupDisabled(d))},disable:function(c){var d=this.options.disabled;if(d!==!0){if(c===b)d=!0;else{if(c=this._getIndex(c),-1!==a.inArray(c,d))return;d=a.isArray(d)?a.merge([c],d).sort():[c]}this._setupDisabled(d)}},load:function(b,c){b=this._getIndex(b);var e=this,f=this.tabs.eq(b),g=f.find(".ui-tabs-anchor"),h=this._getPanelForTab(f),i={tab:f,panel:h};d(g[0])||(this.xhr=a.ajax(this._ajaxSettings(g,c,i)),this.xhr&&"canceled"!==this.xhr.statusText&&(f.addClass("ui-tabs-loading"),h.attr("aria-busy","true"),this.xhr.success(function(a){setTimeout(function(){h.html(a),e._trigger("load",c,i)},1)}).complete(function(a,b){setTimeout(function(){"abort"===b&&e.panels.stop(!1,!0),f.removeClass("ui-tabs-loading"),h.removeAttr("aria-busy"),a===e.xhr&&delete e.xhr},1)})))},_ajaxSettings:function(b,c,d){var e=this;return{url:b.attr("href"),beforeSend:function(b,f){return e._trigger("beforeLoad",c,a.extend({jqXHR:b,ajaxSettings:f},d))}}},_getPanelForTab:function(b){var c=a(b).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+c))}})}(jQuery),function(a){function b(b,c){var d=(b.attr("aria-describedby")||"").split(/\s+/);d.push(c),b.data("ui-tooltip-id",c).attr("aria-describedby",a.trim(d.join(" ")))}function c(b){var c=b.data("ui-tooltip-id"),d=(b.attr("aria-describedby")||"").split(/\s+/),e=a.inArray(c,d);-1!==e&&d.splice(e,1),b.removeData("ui-tooltip-id"),d=a.trim(d.join(" ")),d?b.attr("aria-describedby",d):b.removeAttr("aria-describedby")}var d=0;a.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var b=a(this).attr("title")||"";return a("<a>").text(b).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(b,c){var d=this;return"disabled"===b?(this[c?"_disable":"_enable"](),void(this.options[b]=c)):(this._super(b,c),void("content"===b&&a.each(this.tooltips,function(a,b){d._updateContent(b)})))},_disable:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0)}),this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.is("[title]")&&b.data("ui-tooltip-title",b.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var b=a(this);b.data("ui-tooltip-title")&&b.attr("title",b.data("ui-tooltip-title"))})},open:function(b){var c=this,d=a(b?b.target:this.element).closest(this.options.items);d.length&&!d.data("ui-tooltip-id")&&(d.attr("title")&&d.data("ui-tooltip-title",d.attr("title")),d.data("ui-tooltip-open",!0),b&&"mouseover"===b.type&&d.parents().each(function(){var b,d=a(this);d.data("ui-tooltip-open")&&(b=a.Event("blur"),b.target=b.currentTarget=this,c.close(b,!0)),d.attr("title")&&(d.uniqueId(),c.parents[this.id]={element:this,title:d.attr("title")},d.attr("title",""))}),this._updateContent(d,b))},_updateContent:function(a,b){var c,d=this.options.content,e=this,f=b?b.type:null;return"string"==typeof d?this._open(b,a,d):(c=d.call(a[0],function(c){a.data("ui-tooltip-open")&&e._delay(function(){b&&(b.type=f),this._open(b,a,c)})}),void(c&&this._open(b,a,c)))},_open:function(c,d,e){function f(a){j.of=a,g.is(":hidden")||g.position(j)}var g,h,i,j=a.extend({},this.options.position);if(e){if(g=this._find(d),g.length)return void g.find(".ui-tooltip-content").html(e);d.is("[title]")&&(c&&"mouseover"===c.type?d.attr("title",""):d.removeAttr("title")),g=this._tooltip(d),b(d,g.attr("id")),g.find(".ui-tooltip-content").html(e),this.options.track&&c&&/^mouse/.test(c.type)?(this._on(this.document,{mousemove:f}),f(c)):g.position(a.extend({of:d},this.options.position)),g.hide(),this._show(g,this.options.show),this.options.show&&this.options.show.delay&&(i=this.delayedShow=setInterval(function(){g.is(":visible")&&(f(j.of),clearInterval(i))},a.fx.interval)),this._trigger("open",c,{tooltip:g}),h={keyup:function(b){if(b.keyCode===a.ui.keyCode.ESCAPE){var c=a.Event(b);c.currentTarget=d[0],this.close(c,!0)}},remove:function(){this._removeTooltip(g)}},c&&"mouseover"!==c.type||(h.mouseleave="close"),c&&"focusin"!==c.type||(h.focusout="close"),this._on(!0,d,h)}},close:function(b){var d=this,e=a(b?b.currentTarget:this.element),f=this._find(e);this.closing||(clearInterval(this.delayedShow),e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title")),c(e),f.stop(!0),this._hide(f,this.options.hide,function(){d._removeTooltip(a(this))}),e.removeData("ui-tooltip-open"),this._off(e,"mouseleave focusout keyup"),e[0]!==this.element[0]&&this._off(e,"remove"),this._off(this.document,"mousemove"),b&&"mouseleave"===b.type&&a.each(this.parents,function(b,c){a(c.element).attr("title",c.title),delete d.parents[b]}),this.closing=!0,this._trigger("close",b,{tooltip:f}),this.closing=!1)},_tooltip:function(b){var c="ui-tooltip-"+d++,e=a("<div>").attr({id:c,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return a("<div>").addClass("ui-tooltip-content").appendTo(e),e.appendTo(this.document[0].body),this.tooltips[c]=b,e},_find:function(b){var c=b.data("ui-tooltip-id");return c?a("#"+c):a()},_removeTooltip:function(a){a.remove(),delete this.tooltips[a.attr("id")]},_destroy:function(){var b=this;a.each(this.tooltips,function(c,d){var e=a.Event("blur");e.target=e.currentTarget=d[0],b.close(e,!0),a("#"+c).remove(),d.data("ui-tooltip-title")&&(d.attr("title",d.data("ui-tooltip-title")),d.removeData("ui-tooltip-title"))})}})}(jQuery),function(a,b){var c="ui-effects-";a.effects={effect:{}},function(a,b){function c(a,b,c){var d=l[b.type]||{};return null==a?c||!b.def?null:b.def:(a=d.floor?~~a:parseFloat(a),isNaN(a)?b.def:d.mod?(a+d.mod)%d.mod:0>a?0:a>d.max?d.max:a)}function d(c){var d=j(),e=d._rgba=[];return c=c.toLowerCase(),o(i,function(a,f){var g,h=f.re.exec(c),i=h&&f.parse(h),j=f.space||"rgba";return i?(g=d[j](i),d[k[j].cache]=g[k[j].cache],e=d._rgba=g._rgba,!1):b}),e.length?("0,0,0,0"===e.join()&&a.extend(e,f.transparent),d):f[c]}function e(a,b,c){return c=(c+1)%1,1>6*c?a+6*(b-a)*c:1>2*c?b:2>3*c?a+6*(b-a)*(2/3-c):a}var f,g="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,i=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],j=a.Color=function(b,c,d,e){return new a.Color.fn.parse(b,c,d,e)},k={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},l={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},m=j.support={},n=a("<p>")[0],o=a.each;n.style.cssText="background-color:rgba(1,1,1,.5)",m.rgba=n.style.backgroundColor.indexOf("rgba")>-1,o(k,function(a,b){b.cache="_"+a,b.props.alpha={idx:3,type:"percent",def:1}}),j.fn=a.extend(j.prototype,{parse:function(e,g,h,i){if(e===b)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=a(e).css(g),g=b);var l=this,m=a.type(e),n=this._rgba=[];return g!==b&&(e=[e,g,h,i],m="array"),"string"===m?this.parse(d(e)||f._default):"array"===m?(o(k.rgba.props,function(a,b){n[b.idx]=c(e[b.idx],b)}),this):"object"===m?(e instanceof j?o(k,function(a,b){e[b.cache]&&(l[b.cache]=e[b.cache].slice())}):o(k,function(b,d){var f=d.cache;o(d.props,function(a,b){if(!l[f]&&d.to){if("alpha"===a||null==e[a])return;l[f]=d.to(l._rgba)}l[f][b.idx]=c(e[a],b,!0)}),l[f]&&0>a.inArray(null,l[f].slice(0,3))&&(l[f][3]=1,d.from&&(l._rgba=d.from(l[f])))}),this):b},is:function(a){var c=j(a),d=!0,e=this;return o(k,function(a,f){var g,h=c[f.cache];return h&&(g=e[f.cache]||f.to&&f.to(e._rgba)||[],o(f.props,function(a,c){return null!=h[c.idx]?d=h[c.idx]===g[c.idx]:b})),d}),d},_space:function(){var a=[],b=this;return o(k,function(c,d){b[d.cache]&&a.push(c)}),a.pop()},transition:function(a,b){var d=j(a),e=d._space(),f=k[e],g=0===this.alpha()?j("transparent"):this,h=g[f.cache]||f.to(g._rgba),i=h.slice();return d=d[f.cache],o(f.props,function(a,e){var f=e.idx,g=h[f],j=d[f],k=l[e.type]||{};null!==j&&(null===g?i[f]=j:(k.mod&&(j-g>k.mod/2?g+=k.mod:g-j>k.mod/2&&(g-=k.mod)),i[f]=c((j-g)*b+g,e)))}),this[e](i)},blend:function(b){if(1===this._rgba[3])return this;var c=this._rgba.slice(),d=c.pop(),e=j(b)._rgba;return j(a.map(c,function(a,b){return(1-d)*e[b]+d*a}))},toRgbaString:function(){var b="rgba(",c=a.map(this._rgba,function(a,b){return null==a?b>2?1:0:a});return 1===c[3]&&(c.pop(),b="rgb("),b+c.join()+")"},toHslaString:function(){var b="hsla(",c=a.map(this.hsla(),function(a,b){return null==a&&(a=b>2?1:0),b&&3>b&&(a=Math.round(100*a)+"%"),a});return 1===c[3]&&(c.pop(),b="hsl("),b+c.join()+")"},toHexString:function(b){var c=this._rgba.slice(),d=c.pop();return b&&c.push(~~(255*d)),"#"+a.map(c,function(a){return a=(a||0).toString(16),1===a.length?"0"+a:a}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),j.fn.parse.prototype=j.fn,k.hsla.to=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b,c,d=a[0]/255,e=a[1]/255,f=a[2]/255,g=a[3],h=Math.max(d,e,f),i=Math.min(d,e,f),j=h-i,k=h+i,l=.5*k;return b=i===h?0:d===h?60*(e-f)/j+360:e===h?60*(f-d)/j+120:60*(d-e)/j+240,c=0===j?0:.5>=l?j/k:j/(2-k),[Math.round(b)%360,c,l,null==g?1:g]},k.hsla.from=function(a){if(null==a[0]||null==a[1]||null==a[2])return[null,null,null,a[3]];var b=a[0]/360,c=a[1],d=a[2],f=a[3],g=.5>=d?d*(1+c):d+c-d*c,h=2*d-g;return[Math.round(255*e(h,g,b+1/3)),Math.round(255*e(h,g,b)),Math.round(255*e(h,g,b-1/3)),f]},o(k,function(d,e){var f=e.props,g=e.cache,i=e.to,k=e.from;j.fn[d]=function(d){if(i&&!this[g]&&(this[g]=i(this._rgba)),d===b)return this[g].slice();var e,h=a.type(d),l="array"===h||"object"===h?d:arguments,m=this[g].slice();return o(f,function(a,b){var d=l["object"===h?a:b.idx];null==d&&(d=m[b.idx]),m[b.idx]=c(d,b)}),k?(e=j(k(m)),e[g]=m,e):j(m)},o(f,function(b,c){j.fn[b]||(j.fn[b]=function(e){var f,g=a.type(e),i="alpha"===b?this._hsla?"hsla":"rgba":d,j=this[i](),k=j[c.idx];return"undefined"===g?k:("function"===g&&(e=e.call(this,k),g=a.type(e)),null==e&&c.empty?this:("string"===g&&(f=h.exec(e),f&&(e=k+parseFloat(f[2])*("+"===f[1]?1:-1))),j[c.idx]=e,this[i](j)))})})}),j.hook=function(b){var c=b.split(" ");o(c,function(b,c){a.cssHooks[c]={set:function(b,e){var f,g,h="";if("transparent"!==e&&("string"!==a.type(e)||(f=d(e)))){if(e=j(f||e),!m.rgba&&1!==e._rgba[3]){for(g="backgroundColor"===c?b.parentNode:b;(""===h||"transparent"===h)&&g&&g.style;)try{h=a.css(g,"backgroundColor"),g=g.parentNode}catch(i){}e=e.blend(h&&"transparent"!==h?h:"_default")}e=e.toRgbaString()}try{b.style[c]=e}catch(i){}}},a.fx.step[c]=function(b){b.colorInit||(b.start=j(b.elem,c),b.end=j(b.end),b.colorInit=!0),a.cssHooks[c].set(b.elem,b.start.transition(b.end,b.pos))}})},j.hook(g),a.cssHooks.borderColor={expand:function(a){var b={};return o(["Top","Right","Bottom","Left"],function(c,d){b["border"+d+"Color"]=a}),b}},f=a.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function c(b){var c,d,e=b.ownerDocument.defaultView?b.ownerDocument.defaultView.getComputedStyle(b,null):b.currentStyle,f={};if(e&&e.length&&e[0]&&e[e[0]])for(d=e.length;d--;)c=e[d],"string"==typeof e[c]&&(f[a.camelCase(c)]=e[c]);else for(c in e)"string"==typeof e[c]&&(f[c]=e[c]);return f}function d(b,c){var d,e,g={};for(d in c)e=c[d],b[d]!==e&&(f[d]||(a.fx.step[d]||!isNaN(parseFloat(e)))&&(g[d]=e));return g}var e=["add","remove","toggle"],f={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(b,c){a.fx.step[c]=function(a){("none"!==a.end&&!a.setAttr||1===a.pos&&!a.setAttr)&&(jQuery.style(a.elem,c,a.end),a.setAttr=!0)}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a.effects.animateClass=function(b,f,g,h){var i=a.speed(f,g,h);return this.queue(function(){var f,g=a(this),h=g.attr("class")||"",j=i.children?g.find("*").addBack():g;j=j.map(function(){var b=a(this);return{el:b,start:c(this)}}),f=function(){a.each(e,function(a,c){b[c]&&g[c+"Class"](b[c])})},f(),j=j.map(function(){return this.end=c(this.el[0]),this.diff=d(this.start,this.end),this}),g.attr("class",h),j=j.map(function(){var b=this,c=a.Deferred(),d=a.extend({},i,{queue:!1,complete:function(){c.resolve(b)
}});return this.el.animate(this.diff,d),c.promise()}),a.when.apply(a,j.get()).done(function(){f(),a.each(arguments,function(){var b=this.el;a.each(this.diff,function(a){b.css(a,"")})}),i.complete.call(g[0])})})},a.fn.extend({addClass:function(b){return function(c,d,e,f){return d?a.effects.animateClass.call(this,{add:c},d,e,f):b.apply(this,arguments)}}(a.fn.addClass),removeClass:function(b){return function(c,d,e,f){return arguments.length>1?a.effects.animateClass.call(this,{remove:c},d,e,f):b.apply(this,arguments)}}(a.fn.removeClass),toggleClass:function(c){return function(d,e,f,g,h){return"boolean"==typeof e||e===b?f?a.effects.animateClass.call(this,e?{add:d}:{remove:d},f,g,h):c.apply(this,arguments):a.effects.animateClass.call(this,{toggle:d},e,f,g)}}(a.fn.toggleClass),switchClass:function(b,c,d,e,f){return a.effects.animateClass.call(this,{add:c,remove:b},d,e,f)}})}(),function(){function d(b,c,d,e){return a.isPlainObject(b)&&(c=b,b=b.effect),b={effect:b},null==c&&(c={}),a.isFunction(c)&&(e=c,d=null,c={}),("number"==typeof c||a.fx.speeds[c])&&(e=d,d=c,c={}),a.isFunction(d)&&(e=d,d=null),c&&a.extend(b,c),d=d||c.duration,b.duration=a.fx.off?0:"number"==typeof d?d:d in a.fx.speeds?a.fx.speeds[d]:a.fx.speeds._default,b.complete=e||c.complete,b}function e(b){return!b||"number"==typeof b||a.fx.speeds[b]?!0:"string"!=typeof b||a.effects.effect[b]?a.isFunction(b)?!0:"object"!=typeof b||b.effect?!1:!0:!0}a.extend(a.effects,{version:"1.10.3",save:function(a,b){for(var d=0;b.length>d;d++)null!==b[d]&&a.data(c+b[d],a[0].style[b[d]])},restore:function(a,d){var e,f;for(f=0;d.length>f;f++)null!==d[f]&&(e=a.data(c+d[f]),e===b&&(e=""),a.css(d[f],e))},setMode:function(a,b){return"toggle"===b&&(b=a.is(":hidden")?"show":"hide"),b},getBaseline:function(a,b){var c,d;switch(a[0]){case"top":c=0;break;case"middle":c=.5;break;case"bottom":c=1;break;default:c=a[0]/b.height}switch(a[1]){case"left":d=0;break;case"center":d=.5;break;case"right":d=1;break;default:d=a[1]/b.width}return{x:d,y:c}},createWrapper:function(b){if(b.parent().is(".ui-effects-wrapper"))return b.parent();var c={width:b.outerWidth(!0),height:b.outerHeight(!0),"float":b.css("float")},d=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),e={width:b.width(),height:b.height()},f=document.activeElement;try{f.id}catch(g){f=document.body}return b.wrap(d),(b[0]===f||a.contains(b[0],f))&&a(f).focus(),d=b.parent(),"static"===b.css("position")?(d.css({position:"relative"}),b.css({position:"relative"})):(a.extend(c,{position:b.css("position"),zIndex:b.css("z-index")}),a.each(["top","left","bottom","right"],function(a,d){c[d]=b.css(d),isNaN(parseInt(c[d],10))&&(c[d]="auto")}),b.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),b.css(e),d.css(c).show()},removeWrapper:function(b){var c=document.activeElement;return b.parent().is(".ui-effects-wrapper")&&(b.parent().replaceWith(b),(b[0]===c||a.contains(b[0],c))&&a(c).focus()),b},setTransition:function(b,c,d,e){return e=e||{},a.each(c,function(a,c){var f=b.cssUnit(c);f[0]>0&&(e[c]=f[0]*d+f[1])}),e}}),a.fn.extend({effect:function(){function b(b){function d(){a.isFunction(f)&&f.call(e[0]),a.isFunction(b)&&b()}var e=a(this),f=c.complete,h=c.mode;(e.is(":hidden")?"hide"===h:"show"===h)?(e[h](),d()):g.call(e[0],c,d)}var c=d.apply(this,arguments),e=c.mode,f=c.queue,g=a.effects.effect[c.effect];return a.fx.off||!g?e?this[e](c.duration,c.complete):this.each(function(){c.complete&&c.complete.call(this)}):f===!1?this.each(b):this.queue(f||"fx",b)},show:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="show",this.effect.call(this,c)}}(a.fn.show),hide:function(a){return function(b){if(e(b))return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="hide",this.effect.call(this,c)}}(a.fn.hide),toggle:function(a){return function(b){if(e(b)||"boolean"==typeof b)return a.apply(this,arguments);var c=d.apply(this,arguments);return c.mode="toggle",this.effect.call(this,c)}}(a.fn.toggle),cssUnit:function(b){var c=this.css(b),d=[];return a.each(["em","px","%","pt"],function(a,b){c.indexOf(b)>0&&(d=[parseFloat(c),b])}),d}})}(),function(){var b={};a.each(["Quad","Cubic","Quart","Quint","Expo"],function(a,c){b[c]=function(b){return Math.pow(b,a+2)}}),a.extend(b,{Sine:function(a){return 1-Math.cos(a*Math.PI/2)},Circ:function(a){return 1-Math.sqrt(1-a*a)},Elastic:function(a){return 0===a||1===a?a:-Math.pow(2,8*(a-1))*Math.sin((80*(a-1)-7.5)*Math.PI/15)},Back:function(a){return a*a*(3*a-2)},Bounce:function(a){for(var b,c=4;((b=Math.pow(2,--c))-1)/11>a;);return 1/Math.pow(4,3-c)-7.5625*Math.pow((3*b-2)/22-a,2)}}),a.each(b,function(b,c){a.easing["easeIn"+b]=c,a.easing["easeOut"+b]=function(a){return 1-c(1-a)},a.easing["easeInOut"+b]=function(a){return.5>a?c(2*a)/2:1-c(-2*a+2)/2}})}()}(jQuery),function(a){var b=/up|down|vertical/,c=/up|left|vertical|horizontal/;a.effects.effect.blind=function(d,e){var f,g,h,i=a(this),j=["position","top","bottom","left","right","height","width"],k=a.effects.setMode(i,d.mode||"hide"),l=d.direction||"up",m=b.test(l),n=m?"height":"width",o=m?"top":"left",p=c.test(l),q={},r="show"===k;i.parent().is(".ui-effects-wrapper")?a.effects.save(i.parent(),j):a.effects.save(i,j),i.show(),f=a.effects.createWrapper(i).css({overflow:"hidden"}),g=f[n](),h=parseFloat(f.css(o))||0,q[n]=r?g:0,p||(i.css(m?"bottom":"right",0).css(m?"top":"left","auto").css({position:"absolute"}),q[o]=r?h:g+h),r&&(f.css(n,0),p||f.css(o,h+g)),f.animate(q,{duration:d.duration,easing:d.easing,queue:!1,complete:function(){"hide"===k&&i.hide(),a.effects.restore(i,j),a.effects.removeWrapper(i),e()}})}}(jQuery),function(a){a.effects.effect.bounce=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"effect"),j="hide"===i,k="show"===i,l=b.direction||"up",m=b.distance,n=b.times||5,o=2*n+(k||j?1:0),p=b.duration/o,q=b.easing,r="up"===l||"down"===l?"top":"left",s="up"===l||"left"===l,t=g.queue(),u=t.length;for((k||j)&&h.push("opacity"),a.effects.save(g,h),g.show(),a.effects.createWrapper(g),m||(m=g["top"===r?"outerHeight":"outerWidth"]()/3),k&&(f={opacity:1},f[r]=0,g.css("opacity",0).css(r,s?2*-m:2*m).animate(f,p,q)),j&&(m/=Math.pow(2,n-1)),f={},f[r]=0,d=0;n>d;d++)e={},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q).animate(f,p,q),m=j?2*m:m/2;j&&(e={opacity:0},e[r]=(s?"-=":"+=")+m,g.animate(e,p,q)),g.queue(function(){j&&g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}),u>1&&t.splice.apply(t,[1,0].concat(t.splice(u,o+1))),g.dequeue()}}(jQuery),function(a){a.effects.effect.clip=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","height","width"],i=a.effects.setMode(g,b.mode||"hide"),j="show"===i,k=b.direction||"vertical",l="vertical"===k,m=l?"height":"width",n=l?"top":"left",o={};a.effects.save(g,h),g.show(),d=a.effects.createWrapper(g).css({overflow:"hidden"}),e="IMG"===g[0].tagName?d:g,f=e[m](),j&&(e.css(m,0),e.css(n,f/2)),o[m]=j?f:0,o[n]=j?0:f/2,e.animate(o,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){j||g.hide(),a.effects.restore(g,h),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.drop=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","opacity","height","width"],g=a.effects.setMode(e,b.mode||"hide"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i?"pos":"neg",l={opacity:h?1:0};a.effects.save(e,f),e.show(),a.effects.createWrapper(e),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0)/2,h&&e.css("opacity",0).css(j,"pos"===k?-d:d),l[j]=(h?"pos"===k?"+=":"-=":"pos"===k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.explode=function(b,c){function d(){t.push(this),t.length===l*m&&e()}function e(){n.css({visibility:"visible"}),a(t).remove(),p||n.hide(),c()}var f,g,h,i,j,k,l=b.pieces?Math.round(Math.sqrt(b.pieces)):3,m=l,n=a(this),o=a.effects.setMode(n,b.mode||"hide"),p="show"===o,q=n.show().css("visibility","hidden").offset(),r=Math.ceil(n.outerWidth()/m),s=Math.ceil(n.outerHeight()/l),t=[];for(f=0;l>f;f++)for(i=q.top+f*s,k=f-(l-1)/2,g=0;m>g;g++)h=q.left+g*r,j=g-(m-1)/2,n.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-g*r,top:-f*s}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:r,height:s,left:h+(p?j*r:0),top:i+(p?k*s:0),opacity:p?0:1}).animate({left:h+(p?0:j*r),top:i+(p?0:k*s),opacity:p?1:0},b.duration||500,b.easing,d)}}(jQuery),function(a){a.effects.effect.fade=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"toggle");d.animate({opacity:e},{queue:!1,duration:b.duration,easing:b.easing,complete:c})}}(jQuery),function(a){a.effects.effect.fold=function(b,c){var d,e,f=a(this),g=["position","top","bottom","left","right","height","width"],h=a.effects.setMode(f,b.mode||"hide"),i="show"===h,j="hide"===h,k=b.size||15,l=/([0-9]+)%/.exec(k),m=!!b.horizFirst,n=i!==m,o=n?["width","height"]:["height","width"],p=b.duration/2,q={},r={};a.effects.save(f,g),f.show(),d=a.effects.createWrapper(f).css({overflow:"hidden"}),e=n?[d.width(),d.height()]:[d.height(),d.width()],l&&(k=parseInt(l[1],10)/100*e[j?0:1]),i&&d.css(m?{height:0,width:k}:{height:k,width:0}),q[o[0]]=i?e[0]:k,r[o[1]]=i?e[1]:0,d.animate(q,p,b.easing).animate(r,p,b.easing,function(){j&&f.hide(),a.effects.restore(f,g),a.effects.removeWrapper(f),c()})}}(jQuery),function(a){a.effects.effect.highlight=function(b,c){var d=a(this),e=["backgroundImage","backgroundColor","opacity"],f=a.effects.setMode(d,b.mode||"show"),g={backgroundColor:d.css("backgroundColor")};"hide"===f&&(g.opacity=0),a.effects.save(d,e),d.show().css({backgroundImage:"none",backgroundColor:b.color||"#ffff99"}).animate(g,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===f&&d.hide(),a.effects.restore(d,e),c()}})}}(jQuery),function(a){a.effects.effect.pulsate=function(b,c){var d,e=a(this),f=a.effects.setMode(e,b.mode||"show"),g="show"===f,h="hide"===f,i=g||"hide"===f,j=2*(b.times||5)+(i?1:0),k=b.duration/j,l=0,m=e.queue(),n=m.length;for((g||!e.is(":visible"))&&(e.css("opacity",0).show(),l=1),d=1;j>d;d++)e.animate({opacity:l},k,b.easing),l=1-l;e.animate({opacity:l},k,b.easing),e.queue(function(){h&&e.hide(),c()}),n>1&&m.splice.apply(m,[1,0].concat(m.splice(n,j+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.puff=function(b,c){var d=a(this),e=a.effects.setMode(d,b.mode||"hide"),f="hide"===e,g=parseInt(b.percent,10)||150,h=g/100,i={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()};a.extend(b,{effect:"scale",queue:!1,fade:!0,mode:e,complete:c,percent:f?g:100,from:f?i:{height:i.height*h,width:i.width*h,outerHeight:i.outerHeight*h,outerWidth:i.outerWidth*h}}),d.effect(b)},a.effects.effect.scale=function(b,c){var d=a(this),e=a.extend(!0,{},b),f=a.effects.setMode(d,b.mode||"effect"),g=parseInt(b.percent,10)||(0===parseInt(b.percent,10)?0:"hide"===f?0:100),h=b.direction||"both",i=b.origin,j={height:d.height(),width:d.width(),outerHeight:d.outerHeight(),outerWidth:d.outerWidth()},k={y:"horizontal"!==h?g/100:1,x:"vertical"!==h?g/100:1};e.effect="size",e.queue=!1,e.complete=c,"effect"!==f&&(e.origin=i||["middle","center"],e.restore=!0),e.from=b.from||("show"===f?{height:0,width:0,outerHeight:0,outerWidth:0}:j),e.to={height:j.height*k.y,width:j.width*k.x,outerHeight:j.outerHeight*k.y,outerWidth:j.outerWidth*k.x},e.fade&&("show"===f&&(e.from.opacity=0,e.to.opacity=1),"hide"===f&&(e.from.opacity=1,e.to.opacity=0)),d.effect(e)},a.effects.effect.size=function(b,c){var d,e,f,g=a(this),h=["position","top","bottom","left","right","width","height","overflow","opacity"],i=["position","top","bottom","left","right","overflow","opacity"],j=["width","height","overflow"],k=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],m=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],n=a.effects.setMode(g,b.mode||"effect"),o=b.restore||"effect"!==n,p=b.scale||"both",q=b.origin||["middle","center"],r=g.css("position"),s=o?h:i,t={height:0,width:0,outerHeight:0,outerWidth:0};"show"===n&&g.show(),d={height:g.height(),width:g.width(),outerHeight:g.outerHeight(),outerWidth:g.outerWidth()},"toggle"===b.mode&&"show"===n?(g.from=b.to||t,g.to=b.from||d):(g.from=b.from||("show"===n?t:d),g.to=b.to||("hide"===n?t:d)),f={from:{y:g.from.height/d.height,x:g.from.width/d.width},to:{y:g.to.height/d.height,x:g.to.width/d.width}},("box"===p||"both"===p)&&(f.from.y!==f.to.y&&(s=s.concat(l),g.from=a.effects.setTransition(g,l,f.from.y,g.from),g.to=a.effects.setTransition(g,l,f.to.y,g.to)),f.from.x!==f.to.x&&(s=s.concat(m),g.from=a.effects.setTransition(g,m,f.from.x,g.from),g.to=a.effects.setTransition(g,m,f.to.x,g.to))),("content"===p||"both"===p)&&f.from.y!==f.to.y&&(s=s.concat(k).concat(j),g.from=a.effects.setTransition(g,k,f.from.y,g.from),g.to=a.effects.setTransition(g,k,f.to.y,g.to)),a.effects.save(g,s),g.show(),a.effects.createWrapper(g),g.css("overflow","hidden").css(g.from),q&&(e=a.effects.getBaseline(q,d),g.from.top=(d.outerHeight-g.outerHeight())*e.y,g.from.left=(d.outerWidth-g.outerWidth())*e.x,g.to.top=(d.outerHeight-g.to.outerHeight)*e.y,g.to.left=(d.outerWidth-g.to.outerWidth)*e.x),g.css(g.from),("content"===p||"both"===p)&&(l=l.concat(["marginTop","marginBottom"]).concat(k),m=m.concat(["marginLeft","marginRight"]),j=h.concat(l).concat(m),g.find("*[width]").each(function(){var c=a(this),d={height:c.height(),width:c.width(),outerHeight:c.outerHeight(),outerWidth:c.outerWidth()};o&&a.effects.save(c,j),c.from={height:d.height*f.from.y,width:d.width*f.from.x,outerHeight:d.outerHeight*f.from.y,outerWidth:d.outerWidth*f.from.x},c.to={height:d.height*f.to.y,width:d.width*f.to.x,outerHeight:d.height*f.to.y,outerWidth:d.width*f.to.x},f.from.y!==f.to.y&&(c.from=a.effects.setTransition(c,l,f.from.y,c.from),c.to=a.effects.setTransition(c,l,f.to.y,c.to)),f.from.x!==f.to.x&&(c.from=a.effects.setTransition(c,m,f.from.x,c.from),c.to=a.effects.setTransition(c,m,f.to.x,c.to)),c.css(c.from),c.animate(c.to,b.duration,b.easing,function(){o&&a.effects.restore(c,j)})})),g.animate(g.to,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){0===g.to.opacity&&g.css("opacity",g.from.opacity),"hide"===n&&g.hide(),a.effects.restore(g,s),o||("static"===r?g.css({position:"relative",top:g.to.top,left:g.to.left}):a.each(["top","left"],function(a,b){g.css(b,function(b,c){var d=parseInt(c,10),e=a?g.to.left:g.to.top;return"auto"===c?e+"px":d+e+"px"})})),a.effects.removeWrapper(g),c()}})}}(jQuery),function(a){a.effects.effect.shake=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","height","width"],g=a.effects.setMode(e,b.mode||"effect"),h=b.direction||"left",i=b.distance||20,j=b.times||3,k=2*j+1,l=Math.round(b.duration/k),m="up"===h||"down"===h?"top":"left",n="up"===h||"left"===h,o={},p={},q={},r=e.queue(),s=r.length;for(a.effects.save(e,f),e.show(),a.effects.createWrapper(e),o[m]=(n?"-=":"+=")+i,p[m]=(n?"+=":"-=")+2*i,q[m]=(n?"-=":"+=")+2*i,e.animate(o,l,b.easing),d=1;j>d;d++)e.animate(p,l,b.easing).animate(q,l,b.easing);e.animate(p,l,b.easing).animate(o,l/2,b.easing).queue(function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}),s>1&&r.splice.apply(r,[1,0].concat(r.splice(s,k+1))),e.dequeue()}}(jQuery),function(a){a.effects.effect.slide=function(b,c){var d,e=a(this),f=["position","top","bottom","left","right","width","height"],g=a.effects.setMode(e,b.mode||"show"),h="show"===g,i=b.direction||"left",j="up"===i||"down"===i?"top":"left",k="up"===i||"left"===i,l={};a.effects.save(e,f),e.show(),d=b.distance||e["top"===j?"outerHeight":"outerWidth"](!0),a.effects.createWrapper(e).css({overflow:"hidden"}),h&&e.css(j,k?isNaN(d)?"-"+d:-d:d),l[j]=(h?k?"+=":"-=":k?"-=":"+=")+d,e.animate(l,{queue:!1,duration:b.duration,easing:b.easing,complete:function(){"hide"===g&&e.hide(),a.effects.restore(e,f),a.effects.removeWrapper(e),c()}})}}(jQuery),function(a){a.effects.effect.transfer=function(b,c){var d=a(this),e=a(b.to),f="fixed"===e.css("position"),g=a("body"),h=f?g.scrollTop():0,i=f?g.scrollLeft():0,j=e.offset(),k={top:j.top-h,left:j.left-i,height:e.innerHeight(),width:e.innerWidth()},l=d.offset(),m=a("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(b.className).css({top:l.top-h,left:l.left-i,height:d.innerHeight(),width:d.innerWidth(),position:f?"fixed":"absolute"}).animate(k,b.duration,b.easing,function(){m.remove(),c()})}}(jQuery),!function(a){"use strict";function b(){this.$dom=a(document),this.$html=this.$dom.find("html"),this.isOldie=!!this.$html.hasClass("oldie"),this.click="click",this.onReady=this.onOldie=this.onTouch=!1,this.autoInit="false"===a("script[gumby-init]").attr("gumby-init")?!1:!0,this.debugMode=Boolean(a("script[gumby-debug]").length),this.touchDevice=!!(Modernizr.touch||window.navigator.userAgent.indexOf("Windows Phone")>0),this.gumbyTouch=!1,this.touchEvents="js/libs",this.breakpoint=Number(a("script[gumby-breakpoint]").attr("gumby-breakpoint"))||768,this.touchEventsLoaded=!1,this.uiModulesReady=!1,this.uiModules={},this.inits={};var b=a("script[gumby-touch]").attr("gumby-touch"),c=a("script[gumby-path]").attr("gumby-path");"false"===b?this.touchEvents=!1:b?this.touchEvents=b:c&&(this.touchEvents=c),this.touchDevice&&(this.click+=" tap"),this.touchDevice&&a(window).width()<this.breakpoint?(this.$html.addClass("gumby-touch"),this.gumbyTouch=!0):this.$html.addClass("gumby-no-touch"),this.debugMode&&this.debug("Gumby is in debug mode")}b.prototype.init=function(a){var b=this,c=a?a:{};return this.$dom.ready(function(){c.debug&&(b.debugMode=!0),b.debug("Initializing Gumby");var a=c.uiModules?c.uiModules:!1;b.initUIModules(a),b.touchEventsLoaded||!b.touchDevice?b.helpers():b.uiModulesReady=!0}),this},b.prototype.helpers=function(){this.onReady&&this.onReady(),this.isOldie&&this.onOldie&&this.onOldie(),Modernizr.touch&&this.onTouch&&this.onTouch()},b.prototype.ready=function(a){return a&&"function"==typeof a&&(this.onReady=a),this},b.prototype.oldie=function(a){return a&&"function"==typeof a&&(this.onOldie=a),this},b.prototype.touch=function(a){return a&&"function"==typeof a&&(this.onTouch=a),this},b.prototype.console=function(a,b){this.debugMode&&window.console&&console[console[a]?a:"log"](b.length>1?Array.prototype.slice.call(b):b[0])},b.prototype.log=function(){this.console("log",arguments)},b.prototype.debug=function(){this.console("debug",arguments)},b.prototype.warn=function(){this.console("warn",arguments)},b.prototype.error=function(){this.console("error",arguments)},b.prototype.dump=function(){return{$dom:this.$dom,isOldie:this.isOldie,touchEvents:this.touchEvents,debugMode:this.debugMode,autoInit:this.autoInit,uiModules:this.uiModules,click:this.click}},b.prototype.selectAttr=function(){for(var a=0;a<arguments.length;a++){var b=arguments[a],c="data-"+arguments[a],d="gumby-"+arguments[a];if(this.is("["+c+"]"))return this.attr(c)?this.attr(c):!0;if(this.is("["+d+"]"))return this.attr(d)?this.attr(d):!0;if(this.is("["+b+"]"))return this.attr(b)?this.attr(b):!0}return!1},b.prototype.addInitalisation=function(a,b){this.inits[a]=b},b.prototype.initialize=function(a,b){if("object"==typeof a){var c=0;for(c;c<a.length;c++)this.inits[a[c]]&&"function"==typeof this.inits[a[c]]?this.inits[a[c]](b):this.error("Error initializing module: "+a[c])}else this.inits[a]&&"function"==typeof this.inits[a]?this.inits[a](b):this.error("Error initializing module: "+a);return this},b.prototype.UIModule=function(a){var b=a.module;this.uiModules[b]=a},b.prototype.initUIModules=function(a){var b,c,d=this.uiModules;a&&(d=a);for(b in d)c=a?d[b]:b,this.uiModules[c].init()},window.Gumby=new b}(jQuery),!function(a){"use strict";function b(a){Gumby.debug("Initializing Checkbox",a),this.$el=a,this.$input=this.$el.find("input[type=checkbox]");var b=this;this.$el.on(Gumby.click,function(a){a.preventDefault(),b.$input.is("[disabled]")||b.update(b.$el.hasClass("checked")?!1:!0)}).on("gumby.check",function(){Gumby.debug("Check event triggered",b.$el),b.update(!0)}).on("gumby.uncheck",function(){Gumby.debug("Uncheck event triggered",b.$el),b.update(!1)}),(this.$input.prop("checked")||this.$el.hasClass("checked"))&&b.update(!0)}b.prototype.update=function(a){var b=this.$el.find("span");a?(Gumby.debug("Checking Checkbox",this.$el),b.append('<i class="icon-check" />'),this.$input.prop("checked",!0),Gumby.debug("Triggering onCheck event",this.$el),Gumby.debug("Triggering onChange event",this.$el),this.$el.addClass("checked").trigger("gumby.onCheck").trigger("gumby.onChange")):(Gumby.debug("Unchecking Checkbox",this.$el),this.$input.prop("checked",!1),b.find("i").remove(),Gumby.debug("Triggering onUncheck event",this.$el),Gumby.debug("Triggering onChange event",this.$el),this.$el.removeClass("checked").trigger("gumby.onUncheck").trigger("gumby.onChange"))},Gumby.addInitalisation("checkbox",function(){a(".checkbox").each(function(){var c=a(this);return c.data("isCheckbox")?!0:(c.data("isCheckbox",!0),void new b(c))})}),Gumby.UIModule({module:"checkbox",events:["onCheck","onUncheck","onChange","check","uncheck"],init:function(){Gumby.initialize("checkbox")}})}(jQuery),!function(a){"use strict";function b(b){Gumby.debug("Initializing Fixed Position",b),this.$el=b,this.fixedPoint="",this.pinPoint=!1,this.offset=0,this.pinOffset=0,this.top=0,this.constrainEl=!0,this.state=!1,this.measurements={left:0,width:0},this.setup();var c=this;a(window).on("scroll load",function(){c.monitorScroll()}),this.$el.on("gumby.initialize",function(){Gumby.debug("Re-initializing Fixed Position",b),c.setup(),c.monitorScroll()})}b.prototype.setup=function(){var b=this;this.fixedPoint=this.parseAttrValue(Gumby.selectAttr.apply(this.$el,["fixed"])),this.pinPoint=Gumby.selectAttr.apply(this.$el,["pin"])||!1,this.offset=Number(Gumby.selectAttr.apply(this.$el,["offset"]))||0,this.pinOffset=Number(Gumby.selectAttr.apply(this.$el,["pinoffset"]))||0,this.top=Number(Gumby.selectAttr.apply(this.$el,["top"]))||0,this.constrainEl=Gumby.selectAttr.apply(this.$el,["constrain"])||!0,"false"===this.constrainEl&&(this.constrainEl=!1),this.$parent=this.$el.parents(".columns, .column, .row"),this.$parent=this.$parent.length?this.$parent.first():!1,this.parentRow=this.$parent?!!this.$parent.hasClass("row"):!1,this.pinPoint&&(this.pinPoint=this.parseAttrValue(this.pinPoint)),this.$parent&&this.constrainEl&&(this.measure(),a(window).resize(function(){b.state&&(b.measure(),b.constrain())}))},b.prototype.monitorScroll=function(){var b=a(window).scrollTop(),c=this.fixedPoint instanceof jQuery?this.fixedPoint.offset().top:this.fixedPoint,d=!1;this.pinPoint&&(d=this.pinPoint instanceof jQuery?this.pinPoint.offset().top:this.pinPoint),this.offset&&(c-=this.offset),this.pinOffset&&(d-=this.pinOffset),b>=c&&"fixed"!==this.state?(!d||d>b)&&this.fix():c>b&&"fixed"===this.state?this.unfix():d&&b>=d&&"pinned"!==this.state&&this.pin()},b.prototype.fix=function(){Gumby.debug("Element has been fixed",this.$el),Gumby.debug("Triggering onFixed event",this.$el),this.state="fixed",this.$el.css({top:0+this.top}).addClass("fixed").removeClass("unfixed pinned").trigger("gumby.onFixed"),this.$parent&&this.constrain()},b.prototype.unfix=function(){Gumby.debug("Element has been unfixed",this.$el),Gumby.debug("Triggering onUnfixed event",this.$el),this.state="unfixed",this.$el.addClass("unfixed").removeClass("fixed pinned").trigger("gumby.onUnfixed")},b.prototype.pin=function(){Gumby.debug("Element has been pinned",this.$el),Gumby.debug("Triggering onPinned event",this.$el),this.state="pinned",this.$el.css({top:this.$el.offset().top}).addClass("pinned fixed").removeClass("unfixed").trigger("gumby.onPinned")},b.prototype.constrain=function(){Gumby.debug("Constraining element",this.$el),this.$el.css({left:this.measurements.left,width:this.measurements.width})},b.prototype.measure=function(){var a,b=this.$parent.offset();this.measurements.left=b.left,this.measurements.width=this.$parent.width(),this.parentRow&&(a=Number(this.$parent.css("paddingLeft").replace(/px/,"")),a&&(this.measurements.left+=a))},b.prototype.parseAttrValue=function(b){if(a.isNumeric(b))return Number(b);if("top"===b)return this.$el.offset().top;var c=a(b);return c.length?c:(Gumby.error("Cannot find Fixed target: "+b),!1)},Gumby.addInitalisation("fixed",function(c){a("[data-fixed],[gumby-fixed],[fixed]").each(function(){var d=a(this);return d.data("isFixed")&&!c?!0:d.data("isFixed")&&c?(d.trigger("gumby.initialize"),!0):(d.data("isFixed",!0),void new b(d))})}),Gumby.UIModule({module:"fixed",events:["initialize","onFixed","onUnfixed"],init:function(){Gumby.initialize("fixed")}})}(jQuery),!function(a){"use strict";function b(a){Gumby.debug("Initializing Navbar",a),this.$el=a,this.$dropDowns=this.$el.find("li:has(.dropdown)"),this.$dropDowns.on(Gumby.click,this.toggleDropdown).on("swiperight",this.openLink),"#"!==this.$dropDowns.children("a").attr("href")&&this.$dropDowns.children("a").append('<i class="icon-popup"></i>').children("i").on(Gumby.click,this.openLink),this.$dropDowns.find(".dropdown li:not(:has(.dropdown)) a[href]").on(Gumby.click,this.openLink)}Gumby.gumbyTouch&&(b.prototype.toggleDropdown=function(b){b.preventDefault();var c=a(this);c.hasClass("active")?c.removeClass("active"):c.addClass("active")},b.prototype.openLink=function(b){b.preventDefault();var c,d=a(this),e=d;d.is("i")?e=d.parent("a"):d.is("li")&&(e=d.children("a")),c=e.attr("href"),"blank"==e.attr("target")?window.open(c):window.location=c},Gumby.addInitalisation("navbar",function(){a(".navbar").each(function(){var c=a(this);return c.data("isNavbar")?!0:(c.data("isNavbar",!0),void new b(c))})}),Gumby.UIModule({module:"navbar",events:[],init:function(){Gumby.initialize("navbar")}}))}(jQuery),!function(a){"use strict";function b(a){Gumby.debug("Initializing Radio Button",a),this.$el=a,this.$input=this.$el.find("input[type=radio]");var b=this;this.$el.on(Gumby.click,function(a){a.preventDefault(),b.$input.is("[disabled]")||b.update()}).on("gumby.check",function(){Gumby.debug("Check event triggered",b.$el),b.update()}),(this.$input.prop("checked")||this.$el.hasClass("checked"))&&b.update(!0)}b.prototype.update=function(){if(!(this.$el.hasClass("checked")&&this.$input.prop("checked")&&this.$el.find("i.icon-dot").length)){Gumby.debug("Updating Radio Button group",this.$el);var b=this.$el.find("span"),c='input[name="'+this.$input.attr("name")+'"]';a(".radio").has(c).removeClass("checked").find("input").prop("checked",!1).end().find("i").remove(),this.$input.prop("checked",!0),b.append('<i class="icon-dot" />'),Gumby.debug("Triggering onCheck event",this.$el),this.$el.addClass("checked").trigger("gumby.onCheck")}},Gumby.addInitalisation("radiobtn",function(){a(".radio").each(function(){var c=a(this);return c.data("isRadioBtn")?!0:(c.data("isRadioBtn",!0),void new b(c))})}),Gumby.UIModule({module:"radiobtn",events:["onCheck","check"],init:function(){Gumby.initialize("radiobtn")}})}(jQuery),!function(a){"use strict";function b(b){Gumby.debug("Initializing Retina",b),this.$el=b,this.imageSrc=this.$el.attr("src"),this.retinaSrc=this.fetchRetinaImage(),this.$retinaImg=a(new Image);var c=this;return this.retinaSrc?void this.$retinaImg.attr("src",this.retinaSrc).load(function(){c.retinaImageLoaded()}).error(function(){Gumby.error("Couln't load retina image: "+c.retinaSrc)}):!1}b.prototype.fetchRetinaImage=function(){var a=this.imageSrc,b=this.imageSrc.search(/(\.|\/)(gif|jpe?g|png)$/i);return 0>b?!1:a.substr(0,b)+"@2x"+a.substr(b,a.length)},b.prototype.retinaImageLoaded=function(){Gumby.debug("Swapping image for retina version",this.$el),Gumby.debug("Triggering onRetina event",this.$el),this.$el.attr("src",this.$retinaImg.attr("src")).trigger("gumby.onRetina")},Gumby.addInitalisation("retina",function(){!window.devicePixelRatio||window.devicePixelRatio<=1||a("img[data-retina],img[gumby-retina],img[retina]").each(function(){var c=a(this);return c.data("isRetina")?!0:(c.data("isRetina",!0),void new b(c))})}),Gumby.UIModule({module:"retina",events:["onRetina"],init:function(){Gumby.initialize("retina")}})}(jQuery),!function(a){"use strict";function b(a){Gumby.debug("Initializing Skiplink",a),this.$el=a,this.targetPos=0,this.duration=0,this.offset=!1,this.easing="",this.update=!1,this.setup();var b=this;this.$el.on(Gumby.click+" gumby.skip",function(a){a.preventDefault(),"skip"===a.namespace&&Gumby.debug("Skip event triggered",b.$el),b.update?b.calculateTarget(b.skipTo):b.skipTo()}).on("gumby.initialize",function(){Gumby.debug("Re-initializing Skiplink",b.$el),b.setup()})}b.prototype.setup=function(){this.duration=Number(Gumby.selectAttr.apply(this.$el,["duration"]))||200,this.offset=Gumby.selectAttr.apply(this.$el,["offset"])||!1,this.easing=Gumby.selectAttr.apply(this.$el,["easing"])||"swing",this.update=Gumby.selectAttr.apply(this.$el,["update"])?!0:!1,this.calculateTarget()},b.prototype.calculateTarget=function(b){var c,d=Gumby.selectAttr.apply(this.$el,["goto"]);if("top"==d)this.targetPos=0;else if(a.isNumeric(d))this.targetPos=Number(d);else{if(c=a(d),!c.length)return Gumby.error("Cannot find skiplink target: "+d),!1;this.targetPos=c.offset().top}b&&b.apply(this)},b.prototype.skipTo=function(){Gumby.debug("Skipping to target",this.$el);var b=this;a("html,body").animate({scrollTop:this.calculateOffset()},this.duration,this.easing).promise().done(function(){Gumby.debug("Triggering onComplete event",b.$el),b.$el.trigger("gumby.onComplete")})},b.prototype.calculateOffset=function(){if(!this.offset)return this.targetPos;var a=this.offset.substr(0,1),b=Number(this.offset.substr(1,this.offset.length));return"-"===a?this.targetPos-b:"+"===a?this.targetPos+b:void 0},Gumby.addInitalisation("skiplink",function(c){a(".skiplink > a, .skip").each(function(){var d=a(this);return d.data("isSkipLink")&&!c?!0:d.data("isSkipLink")&&c?(d.trigger("gumby.initialize"),!0):(d.data("isSkipLink",!0),void new b(d))})}),Gumby.UIModule({module:"skiplink",events:["initialize","onComplete","skip"],init:function(){Gumby.initialize("skiplink")}})}(jQuery),!function(a){"use strict";function b(b){Gumby.debug("Initializing Tabs",b),this.$el=b,this.$nav=this.$el.find("ul.tab-nav > li"),this.$content=this.$el.find(".tab-content");var c=this;this.$nav.children("a").on(Gumby.click,function(b){b.preventDefault(),c.click(a(this))}),this.$el.on("gumby.set",function(a,b){Gumby.debug("Set event triggered",c.$el),c.set(a,b)})}b.prototype.click=function(a){var b=a.parent().index();this.$nav.eq(b).add(this.$content.eq(b)).hasClass("active")||(Gumby.debug("Setting active tab to "+b,this.$el),this.$nav.add(this.$content).removeClass("active"),this.$nav.eq(b).add(this.$content.eq(b)).addClass("active"),Gumby.debug("Triggering onChange event",this.$el),this.$el.trigger("gumby.onChange",b))},b.prototype.set=function(a,b){this.$nav.eq(b).find("a").trigger(Gumby.click)},Gumby.addInitalisation("tabs",function(){a(".tabs").each(function(){var c=a(this);return c.data("isTabs")?!0:(c.data("isTabs",!0),void new b(c))})}),Gumby.UIModule({module:"tabs",events:["onChange","set"],init:function(){Gumby.initialize("tabs")}})}(jQuery),!function(a){"use strict";function b(b){this.$el=a(b),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Toggle",b),this.init())}function c(b){this.$el=a(b),this.targets=[],this.on="",this.className="",this.self=!1,this.$el.length&&(Gumby.debug("Initializing Switch",b),this.init())}b.prototype.init=function(){var a=this;this.setup(),this.$el.on(this.on,function(b){b.preventDefault(),a.trigger(a.triggered)}).on("gumby.trigger",function(){Gumby.debug("Trigger event triggered",a.$el),a.trigger(a.triggered)}).on("gumby.initialize",function(){Gumby.debug("Re-initializing "+a.constructor,$el),a.setup()
})},b.prototype.setup=function(){this.targets=this.parseTargets(),this.on=Gumby.selectAttr.apply(this.$el,["on"])||Gumby.click,this.className=Gumby.selectAttr.apply(this.$el,["classname"])||"active",this.self="false"===Gumby.selectAttr.apply(this.$el,["self"])},b.prototype.parseTargets=function(){var b=Gumby.selectAttr.apply(this.$el,["trigger"]),c=0,d=[];return b?(c=b.indexOf("|"),-1===c?this.checkTargets([b])?[a(b)]:!1:(d=b.split("|"),this.checkTargets(d)?d.length>1?[a(d[0]),a(d[1])]:[a(d[0])]:!1)):!1},b.prototype.checkTargets=function(b){var c=0;for(c;c<b.length;c++)if(b[c]&&!a(b[c]).length)return Gumby.error("Cannot find "+this.constructor.name+" target: "+b[c]),!1;return!0},b.prototype.triggered=function(){Gumby.debug("Triggering onTrigger event",this.$el),this.$el.trigger("gumby.onTrigger",[this.$el.hasClass(this.className)])},c.prototype=new b,c.prototype.constructor=c,b.prototype.trigger=function(a){Gumby.debug("Triggering Toggle",this.$el);var b;this.targets?1==this.targets.length?this.$el.add(this.targets[0]).toggleClass(this.className):this.targets.length>1&&(this.targets[0].hasClass(this.className)?(b=this.targets[0],this.self||(b=b.add(this.$el)),b.removeClass(this.className),this.targets[1].addClass(this.className)):(b=this.targets[0],this.self||(b=b.add(this.$el)),b.addClass(this.className),this.targets[1].removeClass(this.className))):this.$el.toggleClass(this.className),a&&"function"==typeof a&&a.apply(this)},c.prototype.trigger=function(a){Gumby.debug("Triggering Switch",this.$el);var b;this.targets?1==this.targets.length?(b=this.targets[0],this.self||(b=b.add(this.$el)),b.addClass(this.className)):this.targets.length>1&&(b=this.targets[0],this.self||(b=b.add(this.$el)),b.addClass(this.className),this.targets[1].removeClass(this.className)):this.$el.addClass(this.className),a&&"function"==typeof a&&a.apply(this)},Gumby.addInitalisation("toggles",function(c){a(".toggle").each(function(){var d=a(this);return d.data("isToggle")&&!c?!0:(d.data("isToggle")&&c&&d.trigger("gumby.initialize"),d.data("isToggle",!0),void new b(d))})}),Gumby.addInitalisation("switches",function(b){a(".switch").each(function(){var d=a(this);return d.data("isSwitch")&&!b?!0:d.data("isSwitch")&&b?(d.trigger("gumby.initialize"),!0):(d.data("isSwitch",!0),void new c(d))})}),Gumby.UIModule({module:"toggleswitch",events:["initialize","trigger","onTrigger"],init:function(){Gumby.initialize("switches"),Gumby.initialize("toggles")}})}(jQuery),!function(a){"use strict";function b(a,b){Gumby&&Gumby.debug("Initializing Validation",a),this.$this=a,this.$field=this.$this.parents(".field"),this.req=b||function(){return!!this.$this.val().length};var c=this;this.$this.is("[type=checkbox], [type=radio]")?(this.$field=this.$this.parent("label"),this.$field.on("gumby.onChange",function(){c.validate()})):this.$this.is("select")?(this.$field=this.$this.parents(".picker"),this.$field.on("change",function(){c.validate()})):this.$this.on("blur",function(a){9!==a.which&&c.validate()})}b.prototype.validate=function(){var a=this.req(this.$this);return a?this.$field.removeClass("danger").addClass("success"):this.$field.removeClass("success").addClass("danger"),a},a.fn.validation=function(c){var d=a.extend({submit:!1,fail:!1,required:[]},c),e=[];return this.each(function(){if(!d.required.length)return!1;var c,f=a(this),g=d.required.length;for(c=0;g>c;c++)e.push(new b(f.find('[name="'+d.required[c].name+'"]'),d.required[c].validate||!1));f.on("submit",function(a){var b=!1;if(!f.data("passed")){a.preventDefault();var c,g=e.length;for(c=0;g>c;c++)e[c].validate()||(b=!0);if(b){if(d.fail&&"function"==typeof d.fail)return void d.fail()}else{if(d.submit&&"function"==typeof d.submit)return void d.submit(f.serializeArray());f.data("passed",!0).submit()}}})})}}(jQuery),!function(a){"use strict";Gumby.touchDevice&&Gumby.touchEvents||!Gumby.autoInit?Gumby.touchEvents&&Gumby.touchDevice&&(Gumby.debug("Loading jQuery mobile touch events"),yepnope.errorTimeout=2e3,Modernizr.load({test:Modernizr.touch,yep:Gumby.touchEvents+"/jquery.mobile.custom.min.js",callback:function(){a.mobile||Gumby.error("Error loading jQuery mobile touch events"),Gumby.touchEventsLoaded=!0,Gumby.autoInit?window.Gumby.init():Gumby.uiModulesReady&&Gumby.helpers()}})):window.Gumby.init(),"function"==typeof define&&define.amd&&define(window.Gumby)}(jQuery),function(a,b,c){function d(a){var b={},d=/^jQuery\d+$/;return c.each(a.attributes,function(a,c){c.specified&&!d.test(c.name)&&(b[c.name]=c.value)}),b}function e(a,d){var e=this,f=c(e);if(e.value==f.attr("placeholder")&&f.hasClass("placeholder"))if(f.data("placeholder-password")){if(f=f.hide().next().show().attr("id",f.removeAttr("id").data("placeholder-id")),a===!0)return f[0].value=d;f.focus()}else e.value="",f.removeClass("placeholder"),e==b.activeElement&&e.select()}function f(){var a,b=this,f=c(b),g=this.id;if(""==b.value){if("password"==b.type){if(!f.data("placeholder-textinput")){try{a=f.clone().attr({type:"text"})}catch(h){a=c("<input>").attr(c.extend(d(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":!0,"placeholder-id":g}).bind("focus.placeholder",e),f.data({"placeholder-textinput":a,"placeholder-id":g}).before(a)}f=f.removeAttr("id").hide().prev().attr("id",g).show()}f.addClass("placeholder"),f[0].value=f.attr("placeholder")}else f.removeClass("placeholder")}var g,h,i="placeholder"in b.createElement("input"),j="placeholder"in b.createElement("textarea"),k=c.fn,l=c.valHooks;i&&j?(h=k.placeholder=function(){return this},h.input=h.textarea=!0):(h=k.placeholder=function(){var a=this;return a.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":e,"blur.placeholder":f}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},h.input=i,h.textarea=j,g={get:function(a){var b=c(a);return b.data("placeholder-enabled")&&b.hasClass("placeholder")?"":a.value},set:function(a,d){var g=c(a);return g.data("placeholder-enabled")?(""==d?(a.value=d,a!=b.activeElement&&f.call(a)):g.hasClass("placeholder")?e.call(a,!0,d)||(a.value=d):a.value=d,g):a.value=d}},i||(l.input=g),j||(l.textarea=g),c(function(){c(b).delegate("form","submit.placeholder",function(){var a=c(".placeholder",this).each(e);setTimeout(function(){a.each(f)},10)})}),c(a).bind("beforeunload.placeholder",function(){c(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery),Gumby.ready(function(){Gumby.log("Gumby is ready to go...",Gumby.dump()),(Gumby.isOldie||Gumby.$dom.find("html").hasClass("ie9"))&&$("input, textarea").placeholder(),$("#skip-switch").on("gumby.onComplete",function(){$(this).trigger("gumby.trigger")})}).oldie(function(){Gumby.warn("This is an oldie browser...")}).touch(function(){Gumby.log("This is a touch enabled device...")}),function(a,b,c){function d(a){if(a==Ek)return Xk;if(a==Fk)return Wk;if(a==Gk)return Uk;if(a==Hk)return Vk;if(a==Ik)return Yk;if(a==Kk)return _k;if(a==Jk)return $k;if(a==Lk)return Zk;throw cl+": "+a}function e(a){return bl[d(a)]}function f(a){if(1==a)return-30;if(2==a)return-20;if(3==a)return-10;if(4==a)return-5;if(5==a)return 0;if(6==a||7==a)return 5;if(8==a||9==a)return 10;if(10==a)return 15;if(11==a||12==a)return 20;if(13==a||14==a)return 25;if(15==a)return 30;if(16==a||17==a)return 35;if(18==a||19==a)return 40;if(20==a)return 45;throw dl}function g(a,b,c){this.esMixto=a,this.arquetipo1=b,a&&(this.arquetipo2=c)}function h(){return Math.floor(10*Math.random())+1}function j(a){switch(a){case $l:case _l:case am:return 1;case bm:case cm:case dm:return 2;case em:case fm:case gm:return 3;case hm:case im:case jm:return 4;case km:case lm:case mm:return 5;case nm:case om:case pm:return 6;case qm:case rm:case sm:return 7;case tm:case um:case vm:return 8;case wm:case xm:case ym:return 9;case zm:case Am:case Bm:return 10;default:throw Cm}}function k(a,b,c){this.etiqueta=a,this.categoria=b,c&&(this.tooltip=c)}function l(a,b){a.tooltip({content:b,items:"div",tooltipClass:"tooltip-custom"})}function m(a,b,d,e,f){var g,h=[];for(g=0;g<a.length;g++){var i=a[g];i[b]!=d?h.push(i):e!=c&&e.call(f,i)}return h}function n(a,b,d,e,f){var g,h=[];for(g=0;g<a.length;g++){var i=a[g];b(i)!=d?h.push(i):e!=c&&e.call(f,i)}return h}function o(a){return a.getNombre()}function p(a,b){try{var c=a.nombre.toLowerCase(),d=b.nombre.toLowerCase()}catch(e){alert("Algo falla aqui")}return d>c?-1:c>d?1:0}function q(a){var b=a;return b=a>=0?"+"+a:""+a}function r(a,b){this.puedeComprar=a,a||(this.mensajeFallo=b)}function s(a){function b(){}return b.prototype=a,new b}function t(a,b){a.prototype=s(b.prototype),a.prototype.constructor=a,a.parent=b.prototype}function u(a){Hn&&zk.trigger(a)}function v(){Hn=!0}function w(){Hn=!1}function x(a){return b("<div></div>").addClass(a)}function y(a,b,c,d,e,f,g,h){this.tipo=a,this.item=b,this.bono=c,this.opcion=d||"",this.categoria=f||"",this.origen=g||"",this.origen==Fq&&(this.categoriaPersonaje=h.categoriaPersonaje),this.porNivel=e||!1}function z(){this[Em]="",this[Fm]="",this[Gm]=""}function A(a,b,d){this.tipo=a,this.nombre=b,this.candados=1,d!=c&&(this.opcion=d)}function B(a,b,c){this.tipo=a,a==Rq?this.requisitos=b:(this.item=b,this.valor=c)}function C(a,b,c,d,e,f,g,h,i){this.nombre=a,this.tipo=b,this.esPrincipal=c,this.caracteristica=d,this.esConocimiento=e,this.penalizadorArmadura=f,this.especializacionesPosibles=g,this.puntosAComprar=h,this.puntosPorCoste=i}function D(a){this.habilidad=a,this.especializacion="",this.PDinvertidos=0,this.PDinvertidosPrevios=0,this.multiploBonificadorNatural=0,this.valorInicial=0,this.valorPrevio=0}function E(a){F(a.getNombre())||(Tq.push(a),Uq[a.getNombre()]=a,Uq[a.getTipo()]==c&&(Uq[a.getTipo()]=[]),Uq[a.getTipo()].push(a))}function F(a){return Uq[a]!=c}function G(a){if(F(a))return Uq[a];throw xl+" "+a}function H(){Tq=[],Uq={}}function I(){E(new C(Br,Xq,!0,Hk,!1,!1,[],1,1)),E(new C(Zq,Yq,!0,Fk,!1,Cs,[],5,1)),E(new C($q,Yq,!0,Fk,!1,Cs,[],5,1)),E(new C(_q,Yq,!0,Gk,!1,Cs,[],5,1)),E(new C(ar,Yq,!0,Ek,!1,Cs,[],5,1)),E(new C(cr,Yq,!0,Ek,!1,Cs,[],1,1)),E(new C(dr,Yq,!0,Fk,!1,Cs,[],1,1)),E(new C(er,Yq,!0,Gk,!1,Cs,[],1,1)),E(new C(hr,Yq,!0,Hk,!1,Cs,[],1,1)),E(new C(fr,Yq,!0,Kk,!1,Cs,[],1,1)),E(new C(gr,Yq,!0,Jk,!1,Cs,[],1,1)),E(new C(jr,Yq,!0,Ek,!1,Cs,[],1,1)),E(new C(kr,Yq,!0,Fk,!1,Cs,[],1,1)),E(new C(lr,Yq,!0,Gk,!1,Cs,[],1,1)),E(new C(or,Yq,!0,Hk,!1,Cs,[],1,1)),E(new C(mr,Yq,!0,Kk,!1,Cs,[],1,1)),E(new C(nr,Yq,!0,Jk,!1,Cs,[],1,1))}function J(){E(new C(qr,pr,!0,Jk,!1,Cs,[],5,5)),E(new C(rr,pr,!0,Jk,!1,Cs,[],1,1)),E(new C(sr,pr,!0,Fk,!1,Cs,[],5,1)),E(new C(tr,pr,!0,Jk,!1,Cs,[],5,1)),E(new C(ur,pr,!0,Kk,!1,Cs,[],5,1)),E(new C(vr,pr,!0,Jk,!1,Cs,[],5,1)),E(new C(wr,pr,!0,Jk,!1,Cs,[],5,1))}function K(){E(new C(yr,xr,!0,"",!1,Cs,[],1,1)),E(new C(Ar,xr,!0,Kk,!1,Cs,[],1,1)),E(new C(zr,xr,!0,Fk,!1,Cs,[],5,1))}function L(){E(new C(Dr,Cr,!1,Gk,!1,Ds,[],5,1)),E(new C(Er,Cr,!1,Gk,!1,Ds,[],5,1)),E(new C(Fr,Cr,!1,Gk,!1,Cs,[],5,1)),E(new C(Gr,Cr,!1,Gk,!1,Es,[],5,1)),E(new C(Ir,Cr,!1,Gk,!1,Ds,[],5,1)),E(new C(Hr,Cr,!1,Ek,!1,Ds,[],5,1))}function M(){E(new C(Lr,Kr,!1,Jk,!1,Cs,[],5,1)),E(new C(Mr,Kr,!1,Kk,!1,Cs,[],5,1)),E(new C(Nr,Kr,!1,Jk,!1,Cs,[],5,1)),E(new C(Or,Kr,!1,Ik,!1,Cs,[],5,1))}function N(){E(new C(Rr,Qr,!1,Fk,!1,Cs,[],5,1)),E(new C(Sr,Qr,!1,Fk,!1,Cs,[],5,1)),E(new C(Tr,Qr,!1,Lk,!1,Cs,[],5,1)),E(new C(Ur,Qr,!1,Fk,!1,Cs,[],5,1)),E(new C(Vr,Qr,!1,Gk,!1,Fs,[],5,1)),E(new C(Wr,Qr,!1,Lk,!1,Cs,[],5,1)),E(new C(Xr,Qr,!1,Ik,!0,Cs,[],5,1))}function O(){E(new C($r,Zr,!1,Lk,!1,Cs,[],5,1)),E(new C(_r,Zr,!1,Lk,!1,Cs,[],5,1)),E(new C(as,Zr,!1,Lk,!1,Cs,[],5,1))}function P(){E(new C(ds,cs,!1,Ik,!1,Cs,Hm,5,1)),E(new C(es,cs,!1,Ik,!0,Cs,Im,5,1)),E(new C(fs,cs,!1,Ik,!1,Cs,[],5,1)),E(new C(gs,cs,!1,Ik,!0,Cs,Jm,5,1)),E(new C(hs,cs,!1,Ik,!0,Cs,[],5,1)),E(new C(is,cs,!1,Ik,!1,Cs,[],5,1)),E(new C(js,cs,!1,Ik,!1,Cs,[],5,1)),E(new C(ks,cs,!1,Ik,!1,Cs,[],5,1)),E(new C(ls,cs,!1,Ik,!0,Cs,[],5,1)),E(new C(ms,cs,!1,Jk,!0,Cs,[],5,1))}function Q(){E(new C(ps,os,!1,Kk,!1,Cs,[],5,1)),E(new C(qs,os,!1,Ek,!1,Ds,[],5,1)),E(new C(rs,os,!1,Kk,!1,Cs,[],5,1))}function R(){E(new C(us,ts,!1,Jk,!1,Cs,[Km],5,1)),E(new C(vs,ts,!1,Gk,!0,Ds,[Lm],5,1)),E(new C(ws,ts,!1,Fk,!0,Cs,[Mm],5,1)),E(new C(xs,ts,!1,Jk,!0,Cs,[Nm],5,1)),E(new C(ys,ts,!1,Fk,!1,Cs,[Om],5,1))}function S(){L(),M(),N(),O(),P(),Q(),R()}function T(){H(),I(),J(),K(),S(),Tq.sort(p)}function U(a){return G(a).tipo}function V(a,b,c){this.nombre=a,this.descripcion=b,this.opuestas=c,this.conjuros=[],this.nivelesLibreAcceso=[]}function W(a,b,c){this.nombre=a,this.nivel=b,this.anulable=!0,this.viasCerradas=c||[]}function X(a,b){this.via=a,this.nivel=b,this.nivelMinimo=0,this.conjurosLibres=[],this.anulable=!0}function Y(a,b,c,d,e){this.base=a,this.avanzado=c,this.intermedio=b,this.arcano=d,this.diario=e||!1}function Z(a){var b=0;return 10>=a?b=2:20>=a?b=4:30>=a?b=6:40>=a?b=8:50>=a?b=10:60>=a?b=12:70>=a?b=14:80>=a?b=16:90>=a?b=18:100>=a&&(b=20),b}function $(){var a=SE.nivelMagiaMaximo()-SE.getNivelMagiaGastado(),b=100;return 20>a&&(b=a%2==0?10*(a/2):10*((a-1)/2)),b>SE.getNivelMaximoViaMagia()&&(b=SE.getNivelMaximoViaMagia()),b}function _(a){var b=ab(ft);return b.getConjuroPorNombre(a)}function ab(a){for(var b=0;b<Js.length;b++)if(Js[b].getNombre()==a)return Js[b];throw Is+": "+a}function bb(a){var b=0;switch(a){case 1:case 2:case 3:case 4:case 5:b=0;break;case 6:b=10;break;case 7:b=20;break;case 8:b=30;break;case 9:b=40;break;case 10:b=50;break;case 11:b=75;break;case 12:b=100;break;case 13:b=150;break;case 14:b=200;break;case 15:b=300;break;case 16:b=400;break;case 17:b=500;break;case 18:b=600;break;case 19:b=700;break;case 20:b=800}return b}function cb(a){var b=0;return b=50>=a?10:70>=a?20:90>=a?30:110>=a?40:130>=a?50:150>=a?60:180>=a?70:200>=a?80:90}function db(a){var b=a.data.via,c=a.data.coste;SE.removeViaMagia(b.getNombre()),SE.addNivelMagiaGastado(-1*c)}function eb(){var a,b=[];for(a=0;a<ht.length;a++){var c=ht[a];b.push(new k(c,""))}Kg(b,{},{principal:fb,isDisabled:gb},!0)}function fb(a){var b=a.opcion;SE.addNivelVia(b,2),SE.addNivelMagiaGastado(2*SE.getCosteVia(b))}function gb(a){var b=a.opcion;return SE.hasVia(b)?!0:SE.nivelMagiaMaximo()-SE.getNivelMagiaGastado()<2*SE.getCosteVia(b)}function hb(a,b){return new W(a.getNombre(),b,a.getViasCerradas())}function ib(a){var b=a.data.nivelEnVia,c=a.data.unidades,d=SE.getCosteVia(b.getVia().getNombre()),e=d*c;if(c>0){if(b.getNivel()+c>SE.getNivelMaximoViaMagia())return void alert("No se puede aumentar más")}else if(b.getNivel()+c<b.getNivelMinimo())return void alert("No se puede disminuir más");return SE.nivelMagiaMaximo()-SE.getNivelMagiaGastado()<e?void alert("No tienes suficientes niveles de vía libres"):(SE.addNivelVia(b.getVia().getNombre(),c),void SE.addNivelMagiaGastado(e))}function jb(a){for(var b=a.data.via,c=a.data.nivel,d=[],e=(b.getNombre(),ab(ft)),f=10*(Math.floor(c/10)+1),g=e.getConjuros(),h=0;h<g.length&&!(g[h].getNivel()>f);h++)d.push(new k(g[h].getNombre(),"","Nivel: "+g[h].getNivel()));Kg(d,{via:b,nivel:c},{principal:lb,isDisabled:kb},!0)}function kb(a){var b=a.via,c=(a.nivel,_(a.opcion)),d=b.getNombre();return!c.compatibleConVia(d)}function lb(a){SE.addLibreAcceso(a.via.getNombre(),a.nivel,_(a.opcion))}function mb(){var a,b,c=[],d=[],e=$();for(a=0;a<Js.length;a++){d.push(new k(Js[a].getNombre(),Js[a].getNombre()+"_viamagia"));var f=Js[a].getConjuros();for(b=0;b<f.length&&!(f[b].getNivel()>e&&Js[a].getNombre()!=ft);b++)c.push(new k(f[b].getNombre(),Js[a].getNombre()+"_viamagia","Nivel: "+f[b].getNivel()))}Kg(c,{},{principal:ob,isDisabled:nb},!0,d)}function nb(a){a.opcion,a.categoria.substring(0,a.categoria.indexOf("_"));return!1}function ob(a){{var b=a.opcion,c=a.categoria.substring(0,a.categoria.indexOf("_")),d=ab(c),e=d.getConjuroPorNombre(b);Z(e.getNivel())}SE.addConjuroSuelto(e)}function pb(a,b){this.nombre=a,this.descripcion=b,this.poderesPsiquicos=[],this.libre=!1}function qb(a,b,c,d,e,f){this.nombre=a,this.nivel=b,this.accion=c,this.mantenimiento=d,this.descripcion=e,this.efectos=f,this.nombreDisciplinaPsiquica=""}function rb(a){this.disciplina=a,this.anulable=!0}function sb(a,b){this.poder=a,this.disciplina=b,this.fortalecimiento=0,this.fortalecimientoPrevio=0}function tb(a){for(var b=0;b<vt.length;b++)if(vt[b].getNombre()==a)return vt[b];throw wt+": "+a}function ub(a,b){for(var c=a.getPoderesPsiquicos(),d=0;d<c.length;d++)if(c[d].getNombre()==b)return c[d];throw xt+": "+b+" de la disciplina "+a.getNombre()}function vb(){if(SE.getHabilidadDePersonaje(yr).valorFinalActual()-SE.getCVGastados()<1)throw yt;var a=[];for(i=0;i<vt.length;i++){var b=vt[i];b.isLibre()||SE.hasDisciplina(b.getNombre())||a.push(new k(b.getNombre(),"",b.getDescripcion()))}Kg(a,{},{principal:xb,isDisabled:wb},!0)}function wb(a){var b=a.opcion;return SE.hasAccesoDisciplina(b)?SE.hasDisciplina(b)?!0:SE.hasFlag(Hl)&&!SE.hasDisciplina(SE.disciplinaObligada)&&SE.disciplinaObligada!=b?!0:!1:!0}function xb(a){var b=a.opcion;SE.addDisciplina(tb(b)),SE.addCVGastados(1)}function yb(a){var b=a.data.disciplina;SE.removeDisciplina(b),SE.addCVGastados(-1)}function zb(a){var b=0;switch(a){case 0:b=1;break;case 1:b=2;break;case 3:b=3;break;case 6:b=4;break;case 10:b=5;break;case 15:b=6;break;case 21:b=7;break;case 28:b=8;break;case 36:b=9;break;case 45:b=10;break;case 55:b=-1}return b}function Ab(a){var b;switch(a){case 0:b=-1;break;case 1:b=1;break;case 3:b=2;break;case 6:b=3;break;case 10:b=4;break;case 15:b=5;break;case 21:b=6;break;case 28:b=7;break;case 36:b=8;break;case 45:b=9;break;case 55:b=10}return b}function Bb(a){{var b=a.disciplina,c=a.opcion;b.getNombre()}SE.addPoderDominado(b,ub(b,c)),SE.addCVGastados(1)}function Cb(a){var b=a.disciplina,c=a.opcion,d=ub(b,c),e=!1;return SE.hasPoderDominado(b,c)&&(e=!0),SE.maxNivelDominadoDisciplina(b)+1<d.getNivel()&&(e=!0),e}function Db(a){var b=a.data.disciplina,c=a.data.poder,d=a.data.cantidad;SE.fortalecerPoder(b,c,d),SE.addCVGastados(1==d?1:-1)}function Eb(a){var b=a.data.disciplina,c=a.data.poder;SE.removePoderDominado(b,c),SE.addCVGastados(-1)}function Fb(a){var b=a.data.cantidad;SE.addInnatoPsiquico(b),SE.addCVGastados(2*b)}function Gb(a){return 4>=a?0:14>=a?10*(a-4):100+20*(a-14)}function Hb(a,b,c,d,e,f,g){this.nombre=a,this.descripcion=b,this.costeCM=c,this.requisitos=d,this.efecto=e,this.esHabilidad=f,this.nombreHabilidadMedia=g||""}function Ib(a,b,c,d,e,f,g,h,i){this.nombre=a,this.descripcion=b,this.nivelesEfecto=d;for(var j=0;j<this.nivelesEfecto.length;j++)this.nivelesEfecto[j].nombreEfectoTecnica=this.nombre;for(this.caracPrimaria=e,this.elementosAfines=f,this.tipoEfecto=c,this.caracSecundarias=g,this.ventajasOpcionales=h||[],j=0;j<this.ventajasOpcionales.length;j++)this.ventajasOpcionales[j].setNombreEfectoTecnica(this.nombre);this.especial=i||[]}function Jb(a,b,c,d,e,f){this.nombre=a,this.costePrimario=b,this.costeSecundario=c,this.costeCM=d,this.costeMantenimiento=e,this.nivelMinimo=f,this.nombreEfectoTecnica=""}function Kb(a,b,c){this.nombre=a,this.descripcion=b,this.nivelesVentaja=c;for(var d=0;d<this.nivelesVentaja.length;d++)this.nivelesVentaja[d].nombreVentajaTecnica=this.nombre;this.nombreEfectoTecnica=""}function Lb(a,b,c,d,e){this.nombre=a,this.costeKi=b,this.costeCM=c,this.costeMantenimiento=d,this.nivel=e,this.nombreVentajaTecnica="",this.nombreEfectoTecnica=""}function Mb(a,b,c,d,e,f){this.nombre=a,this.descripcion=b,this.efecto=c,this.incompatibles=d,this.costeCM=e,this.nivelMinimo=f}function Nb(a){this.nombre="...",this.arbolTecnicas="...",this.descripcion="...",this.nivel=a,this.maxCM=mc(a),this.minCM=nc(a),this.maxDesventajas=oc(a),this.efectoPrimario=!1,this.efectosSecundarios=[],this.allEfectos={},this.desventajas=[],this.ataduraElemental=new Sb([]),this.hasAtaduraElemental=!1,this.costeKi=!1,this.costeMantenimiento=!1}function Ob(a,b){this.efectoTecnica=a,this.nivelElegido=b,this.ventajasOpcionalesElegidas=[],this.primario=!1,this.mantenido=!1,this.costeKi=new Tb(0,0,0,0,0,0,a.getCaracPrimaria()),this.costeKi.setCoste(a.getCaracPrimaria(),b.getCosteSecundario()),this.costeMantenimiento=new Tb(0,0,0,0,0,0,a.getCaracPrimaria()),this.costeMantenimiento.setCoste(a.getCaracPrimaria(),b.getCosteMantenimiento());for(var c=this.efectoTecnica.getCaracSecundarias(),d=0;d<c.length;d++)this.costeKi.mod[c[d].caracteristica]=c[d].modificador,this.costeMantenimiento.mod[c[d].caracteristica]=c[d].modificador}function Pb(a,b){this.ventajaTecnica=a,this.nivelElegido=b}function Qb(a){this.desventajaTecnica=a,this.ataduraElemental=new Sb([]),this.descripcion=a.getDescripcion(),this.costeCM=a.getCosteCM(),this.esAtaduraElemental=!1,this.hasDescripcionPropia=!1}function Rb(a,b){this.caracteristica=a,this.modificador=b}function Sb(a){this.fuego=!1,this.agua=!1,this.tierra=!1,this.aire=!1,this.luz=!1,this.oscuridad=!1;for(var b=0;b<a.length;b++)switch(a[b]){case ku:this.agua=!0;break;case ju:this.aire=!0;break;case lu:this.fuego=!0;break;case mu:this.tierra=!0;break;case nu:this.luz=!0;break;case ou:this.oscuridad=!0}}function Tb(a,b,c,d,e,f,g){this.coste={},this.coste[Gk]=a,this.coste[Fk]=c,this.coste[Hk]=b,this.coste[Ek]=d,this.coste[Jk]=e,this.coste[Kk]=f,this.mod={},this.mod[Gk]=-1,this.mod[Fk]=-1,this.mod[Hk]=-1,this.mod[Ek]=-1,this.mod[Jk]=-1,this.mod[Kk]=-1,this.caracbase=g||Gk,this.mod[this.caracBase]=0}function Ub(a,b,c){this.habilidadKi=a,this.anulable=b,this.ignoraRequisitos=c}function Vb(a){this.tecnicaKi=a,this.anulable=!0}function Wb(a){if(du[a]!=c)return du[a];throw gu+": "+a}function Xb(a){if(zu[a]!=c)return zu[a];throw iu+": "+a}function Yb(a){if(Bu[a]!=c)return Bu[a];throw ERR_DESVENTAJA_KI_DESCONOCIDA_KI_DESCONOCIDA+": "+a}function Zb(a){for(var b=0;b<eu.length;b++)if(eu[b].getNombre()==a)return eu[b];throw hu+": "+a}function $b(a){cu.push(a),du[a.getNombre()]=a}function _b(a){return 10>=a?a:10+2*(a-10)}function ac(a){return 9>=a?1:12>=a?2:15>=a?3:4}function bc(a){a?SE.setFlag(Rl):SE.removeFlag(Rl)}function cc(a){a?SE.setFlag(Sl):SE.removeFlag(Sl)}function dc(a){SE.setArmaduraNatural(a?Ze(SE.getArmaduraNatural(),[0,0,0,0,0,0,2]):Ze(SE.getArmaduraNatural(),[0,0,0,0,0,0,-2]))}function ec(a){var b=new y(uq,uq,10,"",!1,Kq,Mu),c=new y(vq,vq,10,"",!1,Kq,Mu),d=new y(wq,wq,5,"",!1,Kq,Mu);a?(SE.addBono(b,!1,!1),SE.addBono(c,!1,!1),SE.addBono(d,!1,!0)):(SE.removeBono(b,!1),SE.removeBono(c,!1),SE.removeBono(d,!0))}function fc(a){a?SE.setFlag(Tl):SE.removeFlag(Tl)}function gc(a){a?SE.setFlag(Ul):SE.removeFlag(Ul)}function hc(a){a?SE.setFlag(Vl):SE.removeFlag(Vl)}function ic(){}function jc(a){var b=Wb(a.opcion);w(),SE.addCMGastado(b.getCosteCM()),v(),SE.addHabilidadKi(b.getNombre(),!1,!0)}function kc(a){var b=a.data.habilidadKi;w(),SE.addCMGastado(-1*b.getCosteCM()),v(),SE.removeHabilidadKi(b.getNombre())}function lc(a){var b=Wb(a.opcion),c=!0;return b.cumple(SE)||(c=!1),b.getCosteCM()>SE.getCMTotal()-SE.getCMGastado()&&(c=!1),SE.hasHabilidadKi(a.opcion)&&(c=!1),!c}function mc(a){var b;return b=1==a?50:2==a?100:200}function nc(a){var b;return b=1==a?20:2==a?40:60}function oc(a){var b;return b=1==a?1:2==a?2:3}function pc(a){var b=Zb(a.opcion);w(),SE.addCMGastado(b.getCosteCM()),v(),SE.addTecnicaKi(b)}function qc(a){var b=a.data.tecnicaKi;w(),SE.addCMGastado(-1*b.getCosteCM()),v(),SE.removeTecnicaKi(b.getNombre())}function rc(a){var b=Zb(a.opcion);return!SE.puedeComprarTecnicaKi(b)}function sc(a){yu.push(a),zu[a.getNombre()]=a}function tc(a){Au.push(a),Bu[a.getNombre()]=a}function uc(){return!SE.hasFlag(Rl)}function vc(){var a=new Nb(1);qh(a)}function wc(a){var b=a.data.tecnicaKi;Jg(yv,{tecnicaKi:b},{principal:xc,isDisabled:Lg})}function xc(a){var b=a.tecnicaKi;b.setNombre(a.opcion)}function yc(a){var b=a.data.tecnicaKi;Kg([new k("1",""),new k("2",""),new k("3","")],{tecnicaKi:b},{principal:zc,isDisabled:Lg},!0)}function zc(a){var b=a.tecnicaKi;b.setNivel(parseInt(a.opcion))}function Ac(a){var b=a.data.tecnicaKi;Jg(yv,{tecnicaKi:b},{principal:Bc,isDisabled:Lg})}function Bc(a){var b=a.tecnicaKi;b.setDescripcion(a.opcion)}function Cc(a){for(var b=a.data.tecnicaKi,c=a.data.efecto,d=[],e=c.getNivelesEfecto(),f=0;f<e.length;f++)d.push(new k(e[f].getNombre(),"","CM: "+e[f].getCosteCM()+", coste ki: "+e[f].getCostePrimario()));Kg(d,{tecnicaKi:b,efecto:c},{principal:Dc,isDisabled:Ec},!0)}function Dc(a){var b=a.tecnicaKi,c=a.efecto,d=c.getNivelEfectoPorNombre(a.opcion);b.fijaComoPrimario(new Ob(c,d))}function Ec(a){var b=a.tecnicaKi,c=a.efecto,d=c.getNivelEfectoPorNombre(a.opcion);return!b.puedeFijarComoPrimario(new Ob(c,d))}function Fc(a){for(var b=a.data.tecnicaKi,c=a.data.efecto,d=[],e=c.getNivelesEfecto(),f=0;f<e.length;f++)d.push(new k(e[f].getNombre(),"","CM: "+e[f].getCosteCM()+", coste ki: "+e[f].getCosteSecundario()));Kg(d,{tecnicaKi:b,efecto:c},{principal:Hc,isDisabled:Ic},!0)}function Gc(a){var b=a.data.tecnicaKi,c=new Qb(a.data.desventaja),d=c.getEfecto();if(0==d.length)b.addDesventaja(c);else{var e=d[0],f=d.slice(0,d.length);f.shift(),f.push(b),f.push(c),e.apply(this,f)}}function Hc(a){var b=a.tecnicaKi,c=a.efecto,d=c.getNivelEfectoPorNombre(a.opcion);b.addEfectoSecundario(new Ob(c,d))}function Ic(a){var b=a.tecnicaKi,c=a.efecto,d=c.getNivelEfectoPorNombre(a.opcion);return!b.puedeAñadirSecundario(new Ob(c,d))}function Jc(a){a.data.tecnicaKi.removeEfectoSecundario(a.data.efecto)}function Kc(a){a.data.tecnicaKi.removeVentajaEfecto(a.data.efecto,a.data.ventaja)}function Lc(a){a.data.tecnicaKi.removeDesventaja(a.data.desventaja)}function Mc(a){var b=a.data.tecnicaKi,c=a.data.efectoTecnica,d=a.data.activado;d&&!c.isMantenido()?b.setEfectoMantenido(c,!0):!d&&c.isMantenido()&&b.setEfectoMantenido(c,!1)}function Nc(a,b){var c=!0,d=a.getDesventajas();d.length>=a.getMaxDesventajas()&&(c=!1);for(var e=0;e<d.length;e++)for(var f=d[e].getIncompatibles(),g=0;g<f.length;g++)if(f[g]==b.getNombre()){c=!1;break}return c}function Oc(a,b,c){var d=[new Og("Atadura Elemental",[ku,ju,lu,mu,nu,ou],a)];parametros={tecnicaKi:b,desventajaTecnicaElegida:c},Ng(d,parametros,Pc)}function Pc(a){var b=a.tecnicaKi,c=a.desventajaTecnicaElegida,d=a.gruposOpciones[0],e=d.opcionesElegidas,f=new Sb(e);c.setAtaduraElemental(f),b.addDesventaja(c)}function Qc(a,b,c,d){for(var e=[],f=a;b>=f;f+=5)e.push(new k(f,""));d.setDescripcion(prompt("Especifica la condición","")),parametros={tecnicaKi:c,desventajaTecnicaElegida:d},Kg(e,parametros,{principal:Rc,isDisabled:Lg},!0)}function Rc(a){var b=a.tecnicaKi,c=a.desventajaTecnicaElegida,d=a.opcion;c.setCosteCM(d),b.addDesventaja(c)}function Sc(){for(var a=[],b=0;b<cu.length;b++)a.push(new k(cu[b].getNombre(),"",cu[b].getDescripcion()));Kg(a,{},{principal:jc,isDisabled:lc},!0)}function Tc(){for(var a=[],b=[],c=0;c<eu.length;c++)a.push(new k(eu[c].getNombre(),eu[c].getArbolTecnicas(),eu[c].getDescripcion()));for(c=0;c<fu.length;c++)b.push(new k(fu[c],fu[c]));Kg(a,{},{principal:pc,isDisabled:rc},!0,b)}function Uc(a,b){var c=!0;return a.puedeAñadirEfectoDeElementos(b.getElementosAfines())||(c=!1),c}function Vc(a,b,c,d,e,f,g,h,i,j,k){this.nombre=a,this.descripcion=b,this.descripcionEfecto=c,this.repetible=d,this.costes=e,this.incompatibles=f,this.anulable=g,this.elegir=h,this.flagsNecesarios=k||[],this.grupo=j,this.delegadoVentaja=i,this.isBasica=!1}function Wc(){this.libres=0,this.don=0,this.psiquica=0}function Xc(a,b,c,d){this.ventaja=a,this.pc=b,this.opcion=c,this.origen=d,this.repartoCostes=new Wc,this.anulable=a.isAnulable()}function Yc(a){fv.push(a),hv[a.getNombre()]=a}function Zc(a){gv.push(a),hv[a.getNombre()]=a}function $c(a,b){return p(a.ventaja,b.ventaja)}function _c(){fv.sort(p),gv.sort(p)}function ad(a){if(hv[a]!=c)return hv[a];for(var b=0;b<fv.length;b++)if(fv[b].getNombre()==a)return fv[b];for(b=0;b<gv.length;b++)if(gv[b].getNombre()==a)return gv[b];throw iv}function bd(a,b,c,d,e){c?Cd(d,{valor:SE.getCaracteristica(d)+e}):Cd(d,{valor:SE.getCaracteristica(d)-e})}function cd(a,b,c,d){SE.addTamaño(c?d:-1*d)}function dd(a,b,c,d,e,f){var g=new y(yq,d,e,"",!1,Iq,f);c?SE.addBono(g,!1,!0):SE.removeBono(g,!0)}function ed(a,b,c,d){SE.addPuntosCansancio(c?d:-1*d)}function fd(a,b,c,d,e){var f=new y(Aq,Aq,d,"",!1,Kq,e);c?(SE.addBono(f,!1,!0),u(un)):(SE.removeBono(f,!0),u(un))}function gd(a,b,c){var d=new y(Cq,Ru,30,"",!1,Kq,KA);c?(SE.addHabilidadKi(Ru,!0,!1),SE.addBono(d,!1,!0)):(SE.removeHabilidadKi(Ru),SE.removeBono(d,!0))}function hd(a,b,c){c?SE.addHabilidadKi(Ru,!0,!1):SE.removeHabilidadKi(Ru)}function id(a,b,c){}function jd(){}function kd(a,b,c){dd(0,0,c,qq,-20,Uz),bd(0,0,c,Jk,-1)}function ld(a,b,c){bd(0,0,c,Gk,1),bd(0,0,c,Fk,1),bd(0,0,c,Hk,-1),bd(0,0,c,Kk,-1)}function md(a,b,c){bd(0,0,c,Gk,1),bd(0,0,c,Fk,1),bd(0,0,c,Hk,1),bd(0,0,c,Ek,1),bd(0,0,c,Ik,1),bd(0,0,c,Lk,1),bd(0,0,c,Jk,1),bd(0,0,c,Kk,1)}function nd(a,b,c){cd(0,0,c,2)}function od(a,b,c){cd(0,0,c,2)}function pd(a,b,c){bd(0,0,c,Ek,2),bd(0,0,c,Hk,1)}function qd(a,b,c){dd(0,0,c,qq,10,sB),dd(0,0,c,rq,10,sB),dd(0,0,c,oq,20,sB),dd(0,0,c,nq,5,sB),dd(0,0,c,pq,5,sB)}function rd(a,b,c){dd(0,0,c,qq,30,vz),dd(0,0,c,rq,30,vz)}function sd(a,b,c){dd(0,0,c,oq,20,vz),dd(0,0,c,pq,10,vz)}function td(a,b,c){bd(a,b,c,Fk,1),bd(a,b,c,Gk,1),bd(a,b,c,Jk,1),bd(a,b,c,Ik,1),bd(a,b,c,Ek,-1),bd(a,b,c,Hk,-1)}function ud(a,b,c){c&&ni(ad("Don"),2,"")}function vd(a,b,c){c?(SE._aparienciaDanjayni=SE.apariencia,SE.getApariencia()<3?SE.setApariencia(3):SE.getApariencia()>7&&SE.setApariencia(7)):SE.setApariencia(SE._aparienciaDanjayni)}function wd(a,b,c){c?(SE._aspectoDesagradable=SE.apariencia,SE.setApariencia(2)):SE.setApariencia(SE._aspectoDesagradable)}function xd(a,b,c){w(),c?SE.getSexo()==yl?(dd(0,0,c,nq,20,SA),dd(0,0,c,qq,15,SA)):(dd(0,0,c,nq,15,SA),dd(0,0,c,qq,20,SA)):(dd(0,0,c,nq,20,SA),dd(0,0,c,qq,15,SA),dd(0,0,c,nq,15,SA),dd(0,0,c,qq,20,SA)),dd(0,0,c,rq,15,SA),dd(0,0,c,oq,15,SA),dd(0,0,c,pq,15,SA),v(),u(zn)}function yd(a,b,c){w(),c?SE.getSexo()==yl?(dd(0,0,c,nq,20,pA),dd(0,0,c,qq,15,pA)):(dd(0,0,c,nq,15,pA),dd(0,0,c,qq,20,pA)):(dd(0,0,c,nq,20,pA),dd(0,0,c,qq,15,pA),dd(0,0,c,nq,15,pA),dd(0,0,c,qq,20,pA)),dd(0,0,c,rq,15,pA),dd(0,0,c,oq,15,pA),dd(0,0,c,pq,15,pA),v(),u(zn)}function zd(a,b,c){c?(SE.setFlag(Hl),SE.disciplinaObligada=Lt):(SE.removeFlag(Hl),delete SE.disciplinaObligada)}function Ad(a,b,c){c?(SE.setFlag(Hl),SE.disciplinaObligada=Lt):(SE.removeFlag(Hl),delete SE.disciplinaObligada)}function Bd(){for(var a=h(),c=100,d=0;d<al.length;d++)c>SE.getCaracteristica(al[d])&&(c=SE.getCaracteristica(al[d]));var e=b("<div></div>");e.append("Resultado de la tirada: "+a),c>a&&(a=c,e.append("<br>Ajustado al mínimo del personaje: "+a)),e.append("<br>"),$g(Cd,{valor:a},e)}function Cd(a,b){SE.setCaracteristica(a,b.valor)}function Dd(a,b,c){c?Cd(b,{valor:SE.getCaracteristica(b)+1}):Cd(b,{valor:SE.getCaracteristica(b)-1})}function Ed(a,b,c){c?Cd(b,{valor:SE.getCaracteristica(b)-2}):Cd(b,{valor:SE.getCaracteristica(b)+2})}function Fd(a,b,c){c?SE.setFlag(Jl):SE.removeFlag(Jl),u(zn)}function Gd(a,b,c){c?SE.setFlag(Ml):SE.removeFlag(Ml),u(zn)}function Hd(a,b,c){c?SE.setFlag(Ll):SE.removeFlag(Ll),u(zn)}function Id(a,b,c){c?SE.setFlag(Kl):SE.removeFlag(Kl),u(zn)}function Jd(a,b,c){c?(SE["_cambiarPorNueve"+b]=SE.getCaracteristica(b),Cd(b,{valor:9})):Cd(b,{valor:SE["_cambiarPorNueve"+b]})}function Kd(a,b,c){w(),dd(0,0,c,nq,25*a,"Resistencia física excepcional"),dd(0,0,c,oq,25*a,"Resistencia física excepcional"),dd(0,0,c,pq,25*a,"Resistencia física excepcional"),v(),u(zn)}function Ld(a,b,c){dd(0,0,c,qq,25*a,"Resistencia mágica excepcional")}function Md(a,b,c){dd(0,0,c,rq,25*a,"Resistencia psíquica excepcional")}function Nd(a,b,c){if(c)SE.addAccesoDisciplina(b),SE.setFlag(El);else{for(var d=[],e=SE.getAccesoDisciplinas(),f=0;f<e.length;f++)e[f]!=b&&d.push(SE.addAccesoDisciplina(e[f]));SE.setAccesoDisciplinas(d),SE.removeFlag(El)}}function Od(a,b,c){c?(SE.setFlag(Fl),SE.setFlag(El)):(SE.removeFlag(Fl),SE.removeFlag(El)),u(Dn)}function Pd(a,b,c){var d=0;1==a?d=2e3:2==a?d=5e3:3==a&&(d=1e4),SE.addOro(c?d:-1*d)}function Qd(a,b,c){c?SE.addCosteReducido(new Cf(b,1,!1,Ck)):SE.removeCosteReducido(b,1)}function Rd(a,b,c){c?SE.addCosteReducido(new Cf(b,a,!1,Ck)):SE.removeCosteReducido(b,a)}function Sd(a,b,c){var d=new y(sq,$r,50,"",!1,Kq,"Sentidos Agudos"),e=new y(sq,_r,50,"",!1,Kq,"Sentidos Agudos");w(),c?(SE.addBono(d,!1,!1),SE.addBono(e,!1,!1)):(SE.removeBono(d,!0),SE.removeBono(e,!0)),v(),u(Gn)
}function Td(a,b,c){dd(0,0,c,qq,10,"Don"),Ud(a,b,c),c?SE.setFlag(Bl):SE.removeFlag(Bl),u(Cn)}function Ud(a,b,c){c?SE.setFlag(Cl):SE.removeFlag(Cl)}function Vd(a,b,c){var d=new y(sq,b,10*a,"",!0,Lq,"Aprendizaje Innato");c?SE.addBono(d,!1,!0):SE.removeBono(d,!0)}function Wd(a,b,c){var d=0;d=2==a?5:10;var e=new y(sq,b,d,"",!0,Lq,"Aprendizaje Innato en un campo");c?SE.addBono(e,!1,!0):SE.removeBono(e,!0)}function Xd(a,b,c){var d,e,f;if(c)for(SE.setFlag(Al),d=0;d<As.length;d++){e=As[d];for(var g=0;g<e.length;g++)f=G(e[g]),SE.addBono(new y(sq,f.getNombre(),10,"",!1,Kq,"Conocedor de Todas las Materias"),!1,!1)}else for(SE.removeFlag(Al),d=0;d<As.length;d++){e=As[d];for(var g=0;g<e.length;g++)f=G(e[g]),SE.removeBono(new y(sq,f.getNombre(),10,"",!1,Kq,"Conocedor de Todas las Materias"),!1)}u(Gn)}function Yd(a,b,c){var d=0;d=1==a?25:2==a?45:60;var e=new y(tq,tq,d,"",!1,Kq,"Reflejos rápidos");c?SE.addBono(e,!1,!0):SE.removeBono(e,!0)}function Zd(a,b,c){var d=30*a,e=new y(tq,tq,d,"",!1,Kq,"Reacción lenta");c?SE.addBono(e,!1,!0):SE.removeBono(e,!0)}function $d(a,b,c){cd(a,b,c,parseInt(b))}function _d(a,b,c){SE.setArmaduraNatural(c?Ze(SE.getArmaduraNatural(),[2,2,2,2,2,2,0]):Ze(SE.getArmaduraNatural(),[-2,-2,-2,-2,-2,-2,0]))}function ae(a,b,c){SE.setArmaduraNatural(c?Ze(SE.getArmaduraNatural(),[0,0,0,0,0,0,4]):Ze(SE.getArmaduraNatural(),[0,0,0,0,0,0,-4]))}function be(a,b,c){var d=new y(Bq,Bq,40*a,"",!1,Kq,"Maestro Marcial");c?SE.addBono(d,!1,!0):SE.removeBono(d,!0)}function ce(a,b,c){ed(a,b,c,3*a)}function de(a,b,c){ed(a,b,c,-1)}function ee(a,b,c){SE.addPX(c?50*a:-50*a)}function fe(a,b,c){var d=0;d=1==a?20:2==a?40:50,c?SE.addElan(new uf(b,d)):SE.removeElan(b)}function ge(a,b,c){var d=new y(Dq,Dq,3,"",!1,Kq,"Apto para el desarrollo de la magia");c?SE.addBono(d,!1,!0):SE.removeBono(d,!0)}function he(a,b,c){var d=new y(Eq,Eq,10*a,"",!1,Kq,"Magia innata mejorada");c?SE.addBono(d,!1,!0):SE.removeBono(d,!0)}function ie(a,b,c){c?SE.addNivelVia(b,40):SE.addNivelVia(b,-40)}function je(a,b,c){c?SE.setFlag(Dl):SE.removeFlag(Dl)}function ke(a,b,c){var d=new y(yq,nq,Math.floor(SE.getSincronizacionElan(xC)/2),"",!1,Kq,zC),e=new y(yq,oq,Math.floor(SE.getSincronizacionElan(xC)/2),"",!1,Kq,zC),f=new y(yq,pq,Math.floor(SE.getSincronizacionElan(xC)/2),"",!1,Kq,zC),g=new y(yq,qq,Math.floor(SE.getSincronizacionElan(xC)/2),"",!1,Kq,zC),h=new y(yq,rq,Math.floor(SE.getSincronizacionElan(xC)/2),"",!1,Kq,zC);c?(SE.addBono(d,!0,!0),SE.addBono(e,!0,!0),SE.addBono(f,!0,!0),SE.addBono(g,!0,!0),SE.addBono(h,!0,!0),zk.on(En,{callback:ke},le)):(SE.removeBono(d,!0),SE.removeBono(e,!0),SE.removeBono(f,!0),SE.removeBono(g,!0),SE.removeBono(h,!0),zk.off(En,{callback:ke},le))}function le(a){a.data.callback(0,"",!0)}function me(a,b,c){var d=new y(sq,Nr,Math.floor(SE.getSincronizacionElan(cC)),"",!1,Kq,eC);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:me},le)):(SE.removeBono(d,!0),zk.off(En,{callback:me},le))}function ne(a,b,c){var d=new y(sq,ps,Math.floor(SE.getSincronizacionElan(cC)),"",!1,Kq,fC);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:ne},le)):(SE.removeBono(d,!0),zk.off(En,{callback:ne},le))}function oe(a,b,c){bd(a,b,c,Ek,1),bd(a,b,c,Fk,1)}function pe(a,b,c){var d=new y(sq,Lr,Math.floor(SE.getSincronizacionElan(hC)),"",!1,Kq,kC);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:pe},le)):(SE.removeBono(d,!0),zk.off(En,{callback:pe},le))}function qe(a,b,c){var d=new y(sq,es,Math.floor(SE.getSincronizacionElan(hC)),"",!1,Kq,kC);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:qe},le)):(SE.removeBono(d,!0),zk.off(En,{callback:qe},le))}function re(a,b,c){c?(SE._bellezaPerfectaElan=SE.getApariencia(),SE.setApariencia(10)):SE.setApariencia(SE._bellezaPerfectaElan)}function se(a,b,c){c?SE.setFlag(Ol):SE.removeFlag(Ol)}function te(a,b,c){var d,e,f;if(c)for(d=0;d<al.length;d++)e=al[d],f=10+SE.getRaza().getBonoCaracteristica(e),SE["_divinidadCuerpoAlmaElan"+e]=f-SE.getCaracteristica(e),f>SE.getCaracteristica(e)&&SE.setCaracteristica(e,f);else for(d=0;d<al.length;d++)e=al[d],f=SE["_divinidadCuerpoAlmaElan"+e],f>0&&SE.setCaracteristica(e,SE.getCaracteristica(e)-f)}function ue(a,b,c){var d=new y(sq,xs,Math.floor(SE.getSincronizacionElan(qC)),"",!1,Kq,sC),e=new y(sq,us,Math.floor(SE.getSincronizacionElan(qC)),"",!1,Kq,sC);c?(SE.addBono(d,!0,!0),SE.addBono(e,!0,!0),zk.on(En,{callback:ue},le)):(SE.removeBono(d,!0),SE.removeBono(e,!0),zk.off(En,{callback:ue},le))}function ve(a,b,c){var d=new y(sq,fs,Math.floor(SE.getSincronizacionElan(tC)),"",!1,Kq,vC);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:ve},le)):(SE.removeBono(d,!0),zk.off(En,{callback:ve},le))}function we(a,b,c){var d=new y(sq,ds,Math.floor(SE.getSincronizacionElan(tC)),"",!1,Kq,wC);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:we},le)):(SE.removeBono(d,!0),zk.off(En,{callback:we},le))}function xe(a,b,c){c?(SE._esenciaSobrenaturalElan=SE.getGnosis(),SE.setGnosis(30)):SE.setGnosis(SE._esenciaSobrenaturalElan)}function ye(a,b,c){bd(a,b,c,Jk,1),bd(a,b,c,Fk,1),bd(a,b,c,Kk,1)}function ze(a,b,c){bd(a,b,c,Jk,1),bd(a,b,c,Ik,1),bd(a,b,c,Kk,1)}function Ae(a,b,c){var d=new y(sq,ks,Math.floor(SE.getSincronizacionElan(GC)),"",!1,Kq,IC);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:Ae},le)):(SE.removeBono(d,!0),zk.off(En,{callback:Ae},le))}function Be(a,b,c){var d=new y(sq,Mr,Math.floor(SE.getSincronizacionElan(GC)),"",!1,Kq,JC);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:Be},le)):(SE.removeBono(d,!0),zk.off(En,{callback:Be},le))}function Ce(a,b,c){c?SE.setCaracteristica(b,SE.getCaracteristica(b)+2):SE.setCaracteristica(b,SE.getCaracteristica(b)-2)}function De(){}function Ee(a,b,c){var d=new y(sq,Or,Math.floor(SE.getSincronizacionElan(RC)),"",!1,Kq,TC),e=new y(sq,Nr,Math.floor(SE.getSincronizacionElan(RC)),"",!1,Kq,TC);c?(SE.addBono(d,!0,!0),SE.addBono(e,!0,!0),zk.on(En,{callback:Ee},le)):(SE.removeBono(d,!0),SE.removeBono(e,!0),zk.off(En,{callback:Ee},le))}function Fe(a,b,c){for(var d=0;d<ns.length;d++){var e=new y(sq,ns[d],Math.floor(SE.getSincronizacionElan(RC)/2),"",!1,Kq,UC);c?SE.addBono(e,!0,!1):SE.removeBono(e,!1)}u(Gn),c?zk.on(En,{callback:Fe},le):zk.off(En,{callback:Ge},le)}function Ge(a,b,c){var d=new y(sq,ps,Math.floor(SE.getSincronizacionElan(OC)),"",!1,Kq,QC),e=new y(sq,rs,Math.floor(SE.getSincronizacionElan(OC)),"",!1,Kq,QC);c?(SE.addBono(d,!0,!0),SE.addBono(e,!0,!0),zk.on(En,{callback:Ge},le)):(SE.removeBono(d,!0),SE.removeBono(e,!0),zk.off(En,{callback:Ge},le))}function He(a,b,c){var d=new y(yq,nq,Math.floor(SE.getSincronizacionElan(WC)/2),"",!1,Kq,YC);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:He},le)):(SE.removeBono(d,!0),zk.off(En,{callback:He},le))}function Ie(a,b,c){var d=new y(uq,uq,Math.floor(SE.getSincronizacionElan(ZC)/2),"",!1,Kq,_C);c?(SE.addBono(d,!0,!0),zk.on(En,{callback:Ie},le)):(SE.removeBono(d,!0),zk.off(En,{callback:Ie},le))}function Je(a,b,c){var d=new y(zq,zq,10*a,"",!0,Iq,"Difícil de matar");c?SE.addBono(d,!1,!0):SE.removeBono(d,!0)}function Ke(a,b,c){var d=new y(sq,b,5,"",!0,Iq,"Sentido del combate");c?SE.addBono(d,!1,!0):SE.removeBono(d,!0)}function Le(a,b,c){c?SE.setFlag(Xl):SE.removeFlag(Xl)}function Me(a,b,c){var d=new y(sq,ar,5*a,"",!0,Iq,"Uso de armadura");c?SE.addBono(d,!1,!0):SE.removeBono(d,!0)}function Ne(a,b,c){c?SE.setFlag(Wl):SE.removeFlag(Wl)}function Oe(a,b,c){var d=new y(sq,ys,30,"",!0,Kq,"Habilidoso");c?SE.addBono(d,!1,!0):SE.removeBono(d,!0)}function Pe(a,b,c){var d=new y(sq,qr,50*a,"",!0,Iq,"Naturaleza mágica");c?SE.addBono(d,!1,!0):SE.removeBono(d,!0)}function Qe(a,b,c){c?SE.setFlag(Zl):SE.removeFlag(Zl)}function Re(a,b,c){c?SE.setFlag(Yl):SE.removeFlag(Yl)}function Se(){}function Te(a,b,c){this.oro=a,this.plata=b,this.cobre=c}function Ue(a,b,c,d,e,f,g){this.nombre=a,this.costeDinero=b,this.peso=c,this.disponibilidad=d,this.entereza=e,this.presencia=f,this.bonoHabilidad=g}function Ve(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){Ve.parent.constructor.call(this,a,b,c,d,h,l,0),this.categorias=e,this.velocidad=f,this.dañoBase=g,this.rotura=i,this.fueReq=j,this.fueReq2manos=k,this.criticoPrimario=m,this.criticoSecundario=n,this.especial=o,this.bonoDaño=p,this.modificadorAtaqueParada=0,this.modificadorTADefensor=0}function We(a,b,c,d,e,f,g,h,i,j,k,l,m){We.parent.constructor.call(this,a,b,c,d,i,j,0),this.requisitoArmadura=e,this.penalizadorNatural=g,this.restriccionMovimiento=h,this.localizacion=k,this.clase=l,this.tas=m}function Xe(){dx.sort(p),ex.sort(p)}function Ye(a){for(var b=0;b<dx.length;b++)if(dx[b].getNombre()==a)return dx[b];throw fx+": "+a}function Ze(a,b){for(var c=[],d=0;d<a.length;d++)c.push(a[d]+b[d]);return c}function $e(a){var b=[];a:for(var c=0;c<dx.length;c++)for(var d=dx[c],e=dx[c].getCategorias(),f=0;f<e.length;f++)for(var g=e[f],h=0;h<a.length;h++){var i=a[h];if(g==i){b.push(d.getCategoria());continue a}}return b}function _e(a){var b=[];a:for(var c=0;c<dx.length;c++){for(var d=dx[c],e=dx[c].getCategorias(),f=0;f<e.length;f++)for(var g=e[f],h=0;h<a.length;h++){var i=a[h];if(g==i)continue a}b.push(d.getCategoria())}return b}function af(){for(var a=[],b=0;b<dx.length;b++){var c=dx[b];a.push(c.getCategoria())}return a}function bf(a){var b=a.opcion;return SE.hasArmaManejada(b)}function cf(a){var b=a.opcion;return SE.hasTipoArmaManejada(b)}function df(a){switch(a){case iw:case aw:return Xv;case ew:case fw:return Zv;case bw:case cw:case dw:case gw:default:return Yv}}function ef(a){var b;switch(a){case Xv:b=10;break;case Yv:b=20;break;case Zv:b=30;break;case $v:b=40;break;case _v:b=50;break;default:throw gx+": "+a}return b}function ff(a,b,c,d,e,f,g){this.nombre=a,this.descripcion=b,this.efectos=c,this.coste=d,this.categoriaTabla=g,this.tipoTabla=e,this.opciones=f}function gf(a,b){this.tablaArmas=a,this.opcion=b,this.anulable=!0}function hf(a){for(var b=0;b<bz.length;b++)if(bz[b].getNombre()==a)return bz[b];throw cz+": "+a}function jf(a,b,c,d){this.nombre=a,this.ventajas=b,this.desventajas=c,this.bonosCaracteristicas=[0,0,0,0,0,0,0,0],this.modificadorNivel=d}function kf(a,b,c){this.nombre=a,this.descripcion=b,this.reglas=c}function lf(a){for(var b=0;b<rz.length;b++)if(rz[b].getNombre()==a)return rz[b];throw sz}function mf(a,b,c,d,e,f,g,h){this.nombre=a,this.descripcion=b,this.descripcionVentajas=c,this.requisitos=d,this.bonoCM=e,this.bonos=f,this.dañobaseElementos=g,this.tipoAtaque=h}function nf(a){this.arteMarcial=a,this.anulable=!0}function of(a){if(CB[a])return CB[a];throw DB+": "+a}function pf(a){var b;return b=a&&SE.getArmaInicial()==hx?SE.getCategoria().getNombre()==RD?FB/2:EB/2:SE.getCategoria().getNombre()==RD?FB:EB}function qf(){var a;for(BB.sort(p),AB.sort(p),a=0;a<AB.length;a++)CB[AB[a].getNombre()]=AB[a];for(a=0;a<BB.length;a++)CB[BB[a].getNombre()]=BB[a];zk.on(An,rf)}function rf(){if(SE.numArtesMarciales()>SE.maxArtesMarciales()){var a=SE.getArtesMarciales(),b=a.length-1,c=a[b],d=c.getNombre();Mi({data:{arteMarcial:c,esPrimera:0==b}}),alert("Arte marcial "+d+" eliminada por no tener suficietne ataque/defensa.")}}function sf(a){a?(zk.on(An,tf),zk.on(Bn,tf),zk.on(Gn,tf)):(zk.off(An,tf),zk.off(Bn,tf),zk.off(Gn,tf))}function tf(){for(var a=SE.getArtesMarciales(),b=0;b<a.length;b++){var c=a[b];c.cumpleRequisitos(SE)||(Mi({data:{arteMarcial:c,esPrimera:1==SE.getArtesMarciales().length}}),alert("Arte marcial "+c.getNombre()+" eliminada por no cumplirse ya sus requisitos"))}}function uf(a,b){this.nombre=a,this.sincronizacion=b,this.sincGastada=0,this.dones=[]}function vf(a,b){this.nombre=a,this.tipo=b,this.dones=[]}function wf(a,b,c,d,e,f){this.nombre=a,this.descripcion=b,this.coste=c,this.elanMinimo=d,this.ventajasConcedidas=e,this.donesRequisito=f}function xf(a){for(var b=0;b<aC.length;b++)if(aC[b].getNombre()==a)return aC[b];throw bC+": "+a}function yf(a,b){SE.addDonElan(b,a)}function zf(a){switch(a.getElegir()){case zv:var b=[new k(Jk,""),new k(Kk,"")];Kg(b,{ventaja:a},{principal:Af,isDisabled:Lg},!0);break;case Av:}}function Af(a){this.addVentaja(a.ventaja,0,a.opcion,Ev,!0,new Wc,!1)}function Bf(a){this.nombre=a,this.descripcion="",this.arquetipo=pl,this.multiploDeVida=20,this.pvPorNivel=5,this.turnoPorNivel=5,this.CMPorNivel=20,this.nivelesParaCV=2,this.limiteCombate=.6,this.habAtaque=2,this.habParada=2,this.habEsquiva=2,this.habArmadura=2,this.ki=2,this.acumulacionKi=20,this.limiteSobrenatural=.6,this.zeon=2,this.costeACT=60,this.proyeccionMagica=2,this.convocar=2,this.dominar=2,this.atar=2,this.desconvocar=2,this.limitePsiquica=.6,this.costeCV=20,this.proyeccionPsiquica=2,this.atleticas=2,this.sociales=2,this.perceptivas=2,this.intelectuales=2,this.vigor=2,this.subterfugio=2,this.creativas=2,this.costes=[],this.costesReducidos=[],this.bonosInnatos=[]}function Cf(a,b,c,d){this.nombre=a,this.coste=b,this.absoluto=c,this.unidades=d}function Df(a){for(var b=0;b<aD.length;b++)if(aD[b].getNombre()==a)return aD[b];throw bD+": "+a}function Ef(a){return a!=SE.getCategoria().getNombre()}function Ff(){aD.sort(p);for(var a=0;a<aD.length;a++)aD[a].initCostes()}function Gf(a,b){var c=60,d=a.getArquetipo(),e=b.getArquetipo();return d==pl||e==pl?c=20:d.isMixto()?d.comparteArquetipoMixto(e)&&(c=40):d==e&&(c=20),c}function Hf(a){for(a||(a=1),this.nombre="Donoban",this.sexo=yl,this.altura="0.5 m",this.peso="10 kg",this.caracteristicas=[1,1,1,1,1,1,1,1],this.caracteristicasPrevias=[1,1,1,1,1,1,1,1],this.puntosCansancio=1,this.tipoMovimiento=1,this.regeneracion=1,this.turnoBase=sn,this.apariencia=1,this.tamaño=2,this.pv=10,this[Br]=new D(G(Br)),this.raza=lf(tz),this.arquetipo=pl,this.categoria=Df(DD),this.categoriasPorNiveles=[],c=0;a>=c;c++)this.categoriasPorNiveles[c]=this.categoria;this.cambioCategoria=!1,this.proximaCategoria=this.categoria,this.armaduraNatural=new Jf(YD,[0,0,0,0,0,0,0],!0),this.capaArmaduraDura=new Jf(ZD,[0,0,0,0,0,0,0],!1),this.capaArmaduraBlanda1=new Jf(ZD,[0,0,0,0,0,0,0],!0),this.capaArmaduraBlanda2=new Jf(ZD,[0,0,0,0,0,0,0],!0),this.elan=[],this.viasMagia=[],this.conjurosSueltos=[],this.nivelMagiaGastado=0,this.nivelMagiaGastadoPrevio=0,this.bonos=[],this.costesReducidos=[],this.bonificadoresNaturales=[],this.bonificadoresNaturales[1]=new z,this.PD_totales=lj(a),this.PD_libres=this.PD_totales,this.PD_libresPrevios=this.PD_totales,this.PC_generales=3,this.PC_don=0,this.PC_psiquicas=0,this.PC_libres_generales=3,this.PC_libres_don=0,this.PC_libres_psiquicas=0,this.aumentosCaracteristicasLibres=mj(a),this.aumentosCaracteristicas=[];var b=mj(a);for(c=0;b>c;c++)this.aumentosCaracteristicas.push(new Kf);this.aumentosCaracteristicasLibresPrevios=0,this.px=0,this.nivel=a,this.nivelGeneracionTerminada=-1,this.GENERACION_INICIADA=nF,this.ventajas=[],this.desventajas=[],this.prohibidos=[],this.allHabilidades=[];for(var c=0;c<Tq.length;c++)this[Tq[c].nombre]=new D(Tq[c]),this.allHabilidades.push(this[Tq[c].nombre]);this.manejoArmas=[Ye(hx)],this.manejoTiposArmas=[],this.armaInicial=hx,this.tablasArmas=[],this.artesMarciales=[],this.CMGastado=0,this.CMGastadoPrevio=0,this.habilidadesKi=[],this.tecnicasKi=[],this.numTecnicas={nivel1:0,nivel2:0,nivel3:0},this[Ar].CVsGastados=0,this[Ar].CVsGastadosPrevios=0,this[Ar].bono=0,this.cv_gastados=0,this.cv_gastadosPrevios=0,this.acceso_disciplinas=[],this.disciplinasPsiquicas=[],this.poderesPsiquicosDominados=[],this.innatosPsiquicos=0,this.innatosPsiquicosPrevios=0,this.dinero=new Te(0,0,0),this.flags=[],this.gnosis=10}function If(a,b){this.tipo=a,this.velocidad=b}function Jf(a,b,c){this.nombre=a,this.TAs=b,this.blanda=c}function Kf(){this.estado=$D,this.uso=bE}function Lf(a){var b=G(a);switch(b.getTipo()){case Xq:SE.updateMultiplosVida(!0);break;case Yq:u(An),u(Bn);break;case pr:u(Cn);break;case xr:u(Dn);break;default:u(Gn),u(Bn)}}function Mf(a,b){switch(a){case 50:case 45:case 40:case 35:case 30:case 25:b.removeFlag(Il)}}function Nf(a,b){switch(a){case 50:case 45:case 40:case 35:case 30:case 25:b.setFlag(Il)}}function Of(a,b){Pf(a,b),zk.on(a,b)}function Pf(a,b){zk.off(a,b)}function Qf(){Hn?(w(),SE.updateBonoyBases(),v()):SE.updateBonoyBases(),b(dE).empty().append(Vf(SE.GENERACION_INICIADA)),b(fE).empty().append(Wf(SE.GENERACION_INICIADA)),b(pE).empty().append(Xf(SE.GENERACION_INICIADA)),b(eE).empty().append(ag(SE.GENERACION_INICIADA)),b(gE).empty().append(cg(SE.GENERACION_INICIADA)),b(hE).empty().append(fg(SE.GENERACION_INICIADA)),b(iE).empty().append(gg(SE.GENERACION_INICIADA)),b(oE).empty().append(Cg(SE.GENERACION_INICIADA)),b(jE).empty().append(lg(SE.GENERACION_INICIADA)),b(kE).empty().append(Kh(SE.GENERACION_INICIADA)),b(lE).empty().append(mg(SE.GENERACION_INICIADA)),b(mE).empty().append(tg(SE.GENERACION_INICIADA)),b(nE).empty().append(xg(SE.GENERACION_INICIADA)),b(qE).empty().append(eg(SE.GENERACION_INICIADA)),Ig(SE.GENERACION_INICIADA),rE||Rf()}function Rf(){zk.on(tn,{evento:tn},Sf),zk.on(un,{evento:un},Sf),zk.on(vn,{evento:vn},Sf),zk.on(wn,{evento:wn},Sf),zk.on(xn,{evento:xn},Sf),zk.on(yn,{evento:yn},Sf),zk.on(zn,{evento:zn},Sf),zk.on(An,{evento:An},Sf),zk.on(Bn,{evento:Bn},Sf),zk.on(Cn,{evento:Cn},Sf),zk.on(Dn,{evento:Dn},Sf),zk.on(En,{evento:En},Sf),zk.on(Fn,{evento:Fn},Sf),zk.on(Gn,{evento:Gn},Sf),rE=!0}function Sf(a){var c,d;switch(a.data.evento){case Fn:c=kE,d=Kh;break;case un:c=fE,d=Wf;break;case vn:c=eE,d=ag;break;case An:c=jE,d=lg;break;case wn:c=pE,d=Xf;break;case yn:c=iE,d=gg;break;case En:c=qE,d=eg;break;case Bn:c=lE,d=mg;break;case Cn:c=mE,d=tg;break;case tn:c=dE,d=Vf;break;case Dn:c=nE,d=xg;break;case zn:c=gE,d=cg;break;case xn:c=hE,d=fg;break;case Gn:c=oE,d=Cg}Ig(SE.GENERACION_INICIADA),b(c).empty().append(d(SE.GENERACION_INICIADA))}function Tf(){var a=x(Pp);return a}function Uf(a,b){var c=x("pretty");return b?(c.addClass(bq),c.addClass("pretty label secondary")):(c.addClass(cq),c.addClass("pretty label danger")),c.append(a),c}function Vf(a){var b=Tf(),c=a==mF;b.append(Uf(Bp,!0));var d=x(Yp);return d.append(Yf(Ln,SE.getNombre(),c,Wi)),d.append(Yf(Mn,SE.getSexo(),c,Vi)),d.append(Yf(Nn,SE.getRaza().getNombre(),c,Qh)),d.append(Yf(On,SE.getPeso(),c,Qi)),d.append(Yf(Pn,SE.getAltura(),c,Ti)),d.append(Zf(Qn,SE.getCategoria().getNombre(),c,_g,{},Pg("Cambiar cat.",{},gj))),b.append(d),b}function Wf(a){var b=Tf(),c=x(Yp),d=a==mF,e=a==mF||a==pF;return b.append(Uf(lo,!0)),c.append($f(e)),c.append(Yf(Rn,SE.getPuntosCansancio(),!1)),c.append(Yf(Sn,SE.getTipoMovimiento(),!1)),c.append(Yf(Un,SE.getApariencia(),d,Pi)),c.append(Yf(Vn,SE.getTamaño(),!1)),c.append(_f()),b.append(c),b}function Xf(a){var c=Tf();c.append(Uf(mo,!0));var d=x(Yp),e=a==oF,f=a==mF||a==pF;if(d.append(Yf(bo,SE.getNivel(),!1)),d.append(Yf(Xn,SE.getPDTotales()+"("+SE.getPDLibres()+" "+$n+")",!1)),a==mF||a==pF){var g=b("<ul></ul>");g.append(b("<li></li>").append(Yf(so,SE.gastoActualPDsGrupoHabilidad(Yq)+"/"+SE.maxPDsGrupoHabilidad(Yq),!1))),g.append(b("<li></li>").append(Yf(to,SE.gastoActualPDsAtaqueDefensa()+"/"+SE.maxPDsAtaqueDefensa(),!1))),g.append(b("<li></li>").append(Yf(uo,SE.gastoActualPDsGrupoHabilidad(pr)+"/"+SE.maxPDsGrupoHabilidad(pr),!1))),g.append(b("<li></li>").append(Yf(vo,SE.gastoActualPDsGrupoHabilidad(xr)+"/"+SE.maxPDsGrupoHabilidad(xr),!1))),g.append(b("<li></li>").append(Yf(wo,SE.gastoActualPDsSecundarias(),!1))),d.append(g)}if(a==mF&&d.append(Yf(Yn,SE.getPCTotales()+"("+SE.getPC("PC_libres_generales")+" "+$n+")("+SE.getPC("PC_libres_don")+" "+_n+")("+SE.getPC("PC_libres_psiquicas")+" "+ao+")",!1)),f){var h=b("<p></p>").css("font-size","smaller");h.css("margin-bottom","0px");var i=b("<p></p>").css("font-size","smaller");i.css("margin-bottom","0px");var j=b("#infoSuperior");j.empty(),j.append(h.html("PD:"+SE.getPDLibres()+"/"+SE.getPDTotales())),j.append(i.html("PC:"+SE.getPCLibres()+"/"+SE.getPCTotales()))}return a==pF&&d.append(Yf(Zn,SE.getAumentosCaracteristicasLibres(),!1)),d.append(Yf(co,SE.getPX(),e,Ui)),c.append(d),c}function Yf(a,b,c,d,e){var f=x(Qp),g=x($p),h=x(Rp);if(g.append(a+":"),h.append(b),f.append(g).append(h),c){var i=Qg("small info pretty btn",$o);i.on("click",e,d),f.append(i)}return f}function Zf(a,b,c,d,e,f){var g=x(Qp),h=x($p),i=x(Rp);if(h.append(a+":"),i.append(b),g.append(h).append(i),c){var j=Qg("small info pretty btn",$o);j.on("click",e,d),g.append(j)}return SE.GENERACION_INICIADA==pF&&g.append(f),g}function $f(a){var b=x(Qp),c=x(Qp),d=x(Qp),e=x($p),f=x(Rp);e.append(Tn+":");for(var g=parseInt(SE.pv),h=SE.pv+"(base)",i=SE.getBonos(zq,zq,Nq),j=0;j<i.length;j++){var k=i[j],m=k.bono;g+=parseInt(m),m=m>=0?"+"+m:""+m,h+=m+" ("+k.origen+")"}h+="="+g+" (final)",f.append(g),l(f,h),c.append(e).append(f);var n=x(_p);n.addClass("textSmaller"),n.append("["+SE.getCostePV()+"] ");var o=x($p).append(xo+": "),p=x(Rp).append(SE.getHabilidadDePersonaje(Br).valorBase(SE.getCostePV()));return d.append(n).append(o).append(p),a&&d.append(Uh(Br).addClass(gq)),b.append(c).append(d),b}function _f(){var a=x(Qp),b=x($p),c=x(Rp);b.append(Wn+":");for(var d=parseInt(SE.getRegeneracionBase()),e=SE.getRegeneracionBase()+"(base)",f=SE.getBonos(Aq,Aq,Nq),g=0;g<f.length;g++){var h=f[g],i=h.bono;d+=parseInt(i),i=i>=0?"+"+i:""+i,e+=i+" ("+h.origen+")"}return e+="="+d+" (final)",c.append(d),l(c,e),a.append(b).append(c).append("<br>"),a}function ag(a){var b=Tf();b.append(Uf(Fp,!0));var c=x(Yp),d=x(jq);d.addClass("row");var e=x("four columns");e.append("Característica");var f=x("three columns").addClass(lq);f.append("Valor");var g=x("three columns").addClass(lq);g.append("Bono");var h=x("two columns");d.append(e).append(f).append(g).append(h),c.append(d);for(var i=0;i<al.length;i++){var j=SE.getCaracteristica(al[i]),k=q(SE.getBonoCaracteristica(al[i]));c.append(bg(al[i],j,k,a==pF))}return b.append(c),b}function bg(a,b,c,d){var e=x("row").addClass(Sp),f=x("four columns").addClass($p),g=x("three columns").addClass(Rp).addClass(lq),h=x("three columns").addClass(Rp).addClass(lq),i=x("two columns");if(e.append(f).append(g).append(h),d){console.debug("Se muestran botones para "+a),e.append(i);var j=Pg("+",{caracteristica:a},ij,"");i.append(j);var k=Pg("-",{caracteristica:a},jj,"");i.append(k),SE.getAumentosCaracteristicasLibres()<1&&(Sg(j),console.debug("Mas desactivado")),Sg(k),console.debug("Menos desactivado"),SE.aumentoGastadoEn(a)&&(Tg(k),console.debug("Menos activado"))}return f.append(a),g.append(b),h.append(c),e.append(f).append(g).append(h),e}function cg(){var a=Tf(),b=x(Yp);a.append(Uf(Cp,!0));var c;return c=SE.hasFlag(Ll)?jn:hn,b.append(dg(wp,SE.getPresencia(),SE.getBonos(yq,nq,Nq),c)),c=SE.hasFlag(Jl)?jn:hn,b.append(dg(xp,SE.getPresencia(),SE.getBonos(yq,oq,Nq),c)),c=SE.hasFlag(Kl)?jn:hn,b.append(dg(yp,SE.getPresencia(),SE.getBonos(yq,pq,Nq),c)),c=SE.hasFlag(Ml)?jn:hn,b.append(dg(zp,SE.getPresencia(),SE.getBonos(yq,qq,Nq),c)),c=SE.hasFlag(Nl)?jn:hn,b.append(dg(Ap,SE.getPresencia(),SE.getBonos(yq,rq,Nq),c)),a.append(b),a}function dg(a,b,d,e){var f=x(Qp),g=x($p).addClass(jq),h=x(Rp).addClass(jq);e==c&&(e=1);var i="";g.append(a+":"),h.append(b+"(base)"),i=b+"(base)";for(var j=parseInt(b),k=0,m=0;m<d.length;m++){var n=d[m],o=n.bono;j+=parseInt(o),k+=parseInt(o),o=o>=0?"+"+o:""+o,i+=o+" ("+n.origen+")"}return j*=e,1>e&&(i+=" x"+e),k=k>=0?"+"+k:""+k,i+="="+j+" (final)",h.append(k+"(bonos) ="+j+" (final)"),l(h,i),f.append(g).append(h),f}function eg(a){var b=Tf();b.append(Uf(no,!0));var c=x(Yp);0==SE.elan.length&&c.append(x($p).addClass(iq).html("<br>"));for(var d=0;d<SE.elan.length;d++){var e=SE.elan[d],f=x(eq).addClass(iq),g=x($p).html(e.nombre),h=x(_p).html("("+e.getSincronizacion().toString()+"/"+(e.getSincronizacion()-e.getSinGastada()).toString()+" libre)");if(f.append(g).append(h),c.append(f),e.dones.length>0){for(var i=x(aq),j=0;j<e.dones.length;j++){var k=x(iq).addClass(eq);k.append(e.dones[j].nombre),l(k,e.dones[j].descripcion),i.append(k)}c.append(i)}}return b.append(c),b}function fg(a){var b=Tf(),c=!1;return(a==mF||a==pF)&&(c=!0),b.append(hg(Dp,SE.ventajas,qi,c,Nh,"Comprar ventaja")),b}function gg(a){var b=Tf(a),c=!1;return(a==mF||a==pF)&&(c=!0),b.append(hg(Ep,SE.desventajas,qi,c,Oh,"Comprar desventaja")),b}function hg(a,b,c,d,e,f){var g=x(""),h=Uf(a,!0);g.append(h);var i=x(Yp);d&&i.append(ig(f,BE,e,{})),0==b.length&&i.append(x($p).addClass(iq).html("<br>"));for(var j=0;j<b.length;j++){var k=b[j],l=jg(k);d&&k.isAnulable()&&k.ventaja.origen!=Cv&&k.ventaja.origen!=Ev&&l.append(Mg(c,{elementoPCComprado:k})),i.append(l)}return g.append(i),g}function ig(a,b,c,d){var e=Qg("small primary btn pretty",a);return e.attr("id",b),e.on("click",d,c),e}function jg(a){var b=x(jq),c=x($p),d=x(_p);return b.append(c).append(d),c.append(a.ventaja.nombre),""!=a.opcion&&c.append(" ("+a.opcion+")"),d.append(a.origen==Dv?" ["+a.pc+"]":" ("+a.origen+")"),l(b,a.ventaja.descripcion+"<hr>"+a.ventaja.descripcionEfecto),b}function kg(a,b,c){var d=SE.getCoste(a,!0),e=(0!=d||a==Ar)&&c;return Dg(b,SE.getHabilidadDePersonaje(a).valorBase(d),SE.getBonos(sq,a,Nq),d,e?Uh(a).addClass(gq):"",!0,a==Ar)}function lg(a){var b=a==mF||a==pF,c=Tf();c.append(Uf(Jp,!0));var d=x(Yp);return d.append(Bg()),d.append(qg(b)),d.append(Uf(ko,!1)),d.append(sg()),d.append(Uf(jo,!1)),d.append(rg()),d.append(Uf(fo,!1)),d.append(dg(fo,SE.turnoBase,SE.getBonos(tq,tq,Nq))),d.append(Uf(go,!1)),d.append(Fg([ez,fz,dz],b)),c.append(d),c}function mg(a){var b=Tf(),c=a==mF||a==pF;b.append(Uf(Kp,!0));var d=x(Yp);return d.append(ng()),d.append(Bg()),d.append(kg(er,Jo,c)),d.append(kg(hr,Po,c)),d.append(kg(dr,Lo,c)),d.append(kg(cr,No,c)),d.append(kg(gr,Ro,c)),d.append(kg(fr,To,c)),d.append(kg(lr,Ko,c)),d.append(kg(or,Qo,c)),d.append(kg(kr,Mo,c)),d.append(kg(jr,Oo,c)),d.append(kg(nr,So,c)),d.append(kg(mr,Uo,c)),d.append(og(c)),d.append(pg(c)),b.append(d),b}function ng(){var a=x("");a.append(x(eq).append(dg(io,0,SE.getBonos(Bq,Bq,Nq))));var b=x($p).addClass(jq).addClass(gq).append("CM libre: "),c=x(Rp).addClass(jq).addClass(gq).append(SE.getCMTotal()-SE.getCMGastado());return a.append(x(jq).append(b).append(c)),a}function og(a){var b=x("");b.append(Uf($E,!1)),a&&b.append(ig("Comprar habilidad del ki",HE,lh,{}));var c=SE.getHabilidadesKi();0==c.length&&b.append(x($p).addClass(iq).html("<br>"));for(var d=0;d<c.length;d++){var e=x("");if(c[d].isHabilidad()){var f=x("");c[d].isAnulable()&&a&&f.append(Mg(kc,{habilidadKi:c[d]})),e.append(Dg(c[d].getNombre(),c[d].getValorActual(SE),SE.getBonos(Cq,c[d].getNombre(),Nq),0,f,!0,!1))}else e.append(x($p).addClass(jq).append(c[d].getNombre())),a&&e.append(Mg(kc,{habilidadKi:c[d]}));b.append(e)}return b}function pg(a){var c=x(""),d=SE.getTecnicasKi();if(c.append(Uf(_E,!1)),a){var e=b("<div></div>");e.append(Pg("Comprar técnica del dominio",{},lh,HE)),c.append(e)}else 0==d.length&&c.append(x($p).addClass(iq).html("<br>"));for(var f=0;f<d.length;f++){var g=x("");g.append(d[f].getNombre()),a&&g.append(Mg(qc,{tecnicaKi:d[f]})),c.append(g)}return c}function qg(a){var c=b("<div></div>");return c.append(kg(Zq,Do,a)),c.append(kg($q,Eo,a)),c.append(kg(_q,Fo,a)),c.append(kg(ar,Go,a)),c}function rg(){for(var a=x(jq).addClass("sixteen colgrid"),b=x("row"),c=0;c<bn.length;c++){var d,e=x($p).addClass(gq),f=x(Rp).addClass(gq);d=x(0==c?"push_one two columns":"two columns"),d.append(e.append(bn[c]+":")).append(f.append(SE.getArmadura(bn[c]))),b.append(d)}return a.append(b),a}function sg(){var a=x(jq),b=x(eq),c=x($p).addClass(gq).append("Arma inicial: "),d=x(Rp).addClass(gq).append(SE.getArmaInicial());if(a.append(b.append(c).append(d)),SE.manejoArmas.length>1){var e=x(eq),f=x($p).addClass(gq).append("Otras armas: ");e.append(f);for(var g=0;g<SE.manejoArmas.length;g++){var h=x(Rp).addClass(Zp).addClass(gq).append(SE.manejoArmas[g].nombre);e.append(h)}a.append(e)}return a}function tg(a){var b=Tf(),c=a==mF||a==pF,d=x(Yp);return b.append(Uf(Lp,!0)),d.append(Bg()),d.append(kg(qr,ap,c)),d.append(kg(rr,bp,c)),d.append(kg(sr,cp,c)),d.append(ug()),d.append(Uf(bF,!1)),d.append(vg(c)),d.append(Uf(cF,!1)),d.append(wg(c)),d.append(Uf(go,!1)),d.append(Fg([gz],c)),d.append(Uf(Mp,!1)),d.append(Bg()),d.append(kg(tr,dp,c)),d.append(kg(ur,ep,c)),d.append(kg(vr,fp,c)),d.append(kg(wr,gp,c)),b.append(d),b}function ug(){var a=x(jq),b=x($p).append("Magia innata: "),c=x(Rp).append(SE.getZeonMagiaInnata());return a.append(b).append(c),a}function vg(a){var c,d,e=b("<div></div>"),f=b("<div></div>"),g=SE.getViasMagia();if(a){var h=x("");h.append(Pg("Aumentar niveles en vías",{},Dh,IE)),e.append(h)}else 0==g.length&&e.append(x($p).addClass(iq).html("<br>"));for(c=0;c<g.length;c++){var i=x(jq),j=x($p).addClass(jq).addClass(gq).append(g[c].getVia().getNombre()),k=x(Rp).addClass(jq).addClass(gq).append(" (nv "+g[c].getNivel()+")");i.append(j).append(k),f.append(i);var m=x("row");for(d=2;d<=g[c].getNivel();d+=2){var n=g[c].getConjuro(d);if(n){var o=x(jq).addClass(Rp).addClass(lq).addClass("four columns");o.append(n.getNombre()+" ("+n.getNivel()+")"),l(o,"Nivel: "+n.getNivel()),m.append(o)}else{var p=Fh(g[c].getVia(),d).addClass(lq).addClass("four columns");m.append(p)}}f.append(m)}return e.append(f),e}function wg(a){var b,c=x(""),d=x("row"),e=SE.getConjurosSueltos();for(a?c.append(Gh()):0==e.length&&c.append(x($p).addClass(iq).html("<br>")),b=0;b<e.length;b++){var f=e[b],g=x(jq).addClass(Rp).addClass(lq).addClass("four columns");g.append(f.getNombre()+" ("+f.getNivel()+")"),l(g,"Nivel: "+f.getNivel()),d.append(g)}return c.append(d),c}function xg(a){var b=Tf(),c=a==mF||a==pF,d=x(Yp);if(b.append(Uf(Np,!0)),d.append(Bg()),d.append(kg(yr,ip,c)),d.append(yg()),d.append(kg(zr,jp,c)),d.append(kg(Ar,kp,c)),d.append(Ag(c)),c){var e=x("");e.append(Pg("Gastar CVs",{},Hh,GE)),d.append(e)}return d.append(zg(c)),d.append(Uf(go,!1)),d.append(Fg([hz],c)),b.append(d),b}function yg(){var a=x("row"),b=x("four columns").addClass(jq).addClass($p).append("CV Libres"),c=x("one column").addClass(jq).addClass(Rp).append(SE.getHabilidadDePersonaje(yr).valorFinalActual()-SE.cv_gastados);return a.append(b).append(c),a}function zg(a){var b,c=x(""),d=x(jq);if(c.append(Uf("Afinidad con disciplinas",!1)),a){var e=x("");e.append(Pg("Gastar CVs",{},Hh,GE)),d.append(e)}else 0==SE.disciplinasPsiquicas.length&&d.append(x($p).addClass(iq).html("<br>"));for(b=0;b<SE.disciplinasPsiquicas.length;b++){var f=x($p).addClass(eq).append(SE.disciplinasPsiquicas[b].nombre);l(f,SE.disciplinasPsiquicas[b].getDescripcion()),d.append(f)}c.append(d),c.append(Uf("Poderes dominados",!1));var g=x("");if(a){var h=x("");h.append(Pg("Gastar CVs",{},Hh,GE)),g.append(h)}else 0==SE.poderesPsiquicosDominados.length&&g.append(x($p).addClass(iq).html("<br>"));for(b=0;b<SE.poderesPsiquicosDominados.length;b++){var i=x(jq),j=x($p).addClass(gq).append(SE.poderesPsiquicosDominados[b].poder.nombre),k=x(Rp).addClass(gq).append(" (+"+10*SE.poderesPsiquicosDominados[b].fortalecimiento+")");g.append(i.append(j).append(k))}return c.append(g),c}function Ag(a){var b=x("row"),c=x("four columns"),d=x($p).addClass(jq),e=x("one columns").addClass(Rp).addClass(jq),f=x(_p).addClass(jq);f.append("[2 CV] "),d.append("Innatos"),c.append(f).append(d),e.append(SE.getInnatosPsiquicos()),b.append(c).append(e);var g=x("push_four two columns"),h=Qg("small primary pretty btn","+",SE.getHabilidadDePersonaje(yr).valorFinalActual()-SE.cv_gastados<2),i=Qg("small primary pretty btn","-",0==SE.innatosPsiquicos);return h.on("click",{cantidad:1},Fb),i.on("click",{cantidad:-1},Fb),g.append(h).append(i),a&&b.append(g),b}function Bg(){var a=x(jq);a.addClass("row");var c=b("<div>Nombre</div>");c.addClass("four columns");var d=b("<div>Base</div>");d.addClass("one columns");var e=b("<div>Bonos</div>");e.addClass("two columns");var f=b("<div>Final</div>");return f.addClass("one columns"),a.append(c).append(d).append(e).append(f),a}function Cg(a){var c=Tf(),d=a==mF||a==pF,e=x(Yp);c.addClass("tablaSecundarias"),c.append(Uf(Op,!0));for(var f=0;f<As.length;f++){var g=As[f];e.append(Uf(Bs[f],!1)),e.append(Bg());for(var h=0;h<g.length;h++){var i=SE.getHabilidadDePersonaje(g[h]),j=SE.getCoste(i.getHabilidad().getNombre(),!1),k=i.valorBase(j),l=i.getHabilidad().getNombre(),m=b("<div></div>");d&&(m.append(Uh(i.getHabilidad().getNombre()).addClass(gq)),i.getHabilidad().getEspecializacionesPosibles().length>0&&m.append(Vh(i.getHabilidad().getNombre()).addClass(gq))),""!=i.getEspecializacion()&&(l+=" ("+i.getEspecializacion()+")"),e.append(Dg(l,i.valorBase(j),SE.getBonos(sq,i.getHabilidad().getNombre(),Nq),j,m,k!=Vq,!1))}}return c.append(e),c}function Dg(a,b,d,e,f,g,h){var i,j=x("row"),k=x("four columns").addClass($p).addClass(jq),m=x("one columns").addClass(Rp).addClass(jq),n=x("two columns").addClass(Rp).addClass(jq),o=x("one columns").addClass(Rp).addClass(jq);
if(0!=e)i=x(_p).addClass(jq),i.append("["+e+"] "),k.append(i);else if(h){var p=zb(SE.getHabilidadDePersonaje(Ar).CVsGastados);p=-1!=p?"["+p+" CV] ":"[max] ",i=x(_p).addClass(jq),i.append(p),k.append(i)}var q=0,r="";k.append(a+":"),g?(m.append(b),r=b+"(base)"):(m.append(Gs),r=Gs+"(base)");for(var s=parseInt(b),t=0;t<d.length;t++){var u=d[t],v=u.getBonoParaNivel(SE.getNivel(),SE);s+=parseInt(v),q+=parseInt(v),v=v>=0?"+"+v:""+v,r+=v+" ("+u.origen+")"}if(q=q>=0?"+"+q:""+q,n.append(q),g?(o.append("="+s),r+="="+s+" (final)"):(o.append("="+Gs),r+="="+Gs+" (final)"),l(j,r),j.append(k).append(m).append(n).append(o),f!=c){var w=x("push_one three columns");w.append(f),j.append(w)}return j}function Eg(a,b,d,e,f){var g,h=x("row"),i=x("four columns").addClass($p).addClass(jq),j=x("one columns").addClass(Rp).addClass(jq),k=x("two columns").addClass(Rp).addClass(jq),m=x("one columns").addClass(Rp).addClass(jq);0!=a&&(g=x(_p).addClass(jq),g.append("["+a+"] "),i.append(g));var n="";i.append(b+":"),j.append(d),n=d+"(base)";var o=parseInt(d);if(e.valorBonos&&(e.valorBonos=q(e.valorBonos),n+=e.valorBonos+" (bonos)",k.append(e.valorBonos)),e.descripcion&&(o+=" "+e.descripcion),m.append("="+o),n+="="+o+" (final)",l(h,n),h.append(i).append(j).append(k).append(m),f!=c){var p=x("push_one three columns");p.append(f),h.append(p)}return h}function Fg(a,b){for(var c=x(""),d=0,e=0;e<SE.tablasArmas.length;e++){for(var f=SE.tablasArmas[e],g=!1,h=0;h<a.length;h++)if(f.getCategoriaTabla()==a[h]){g=!0,d++;break}if(g){var i=x(jq),j=x($p).addClass(gq).append(f.getNombre());""!=f.getOpcion()&&j.append(" ("+f.getOpcion()+")"),i.append(j);var k=x(Rp).addClass(gq).append(" ["+f.getCoste(SE)+"]");i.append(k),b&&f.isAnulable()&&i.append(Mg(Gg,{tablaArmas:f})),c.append(i)}}return b?c.append(ig("Comprar tabla de armas",EE,gh,{})):0==d&&c.append(x($p).addClass(iq).html("<br>")),c}function Gg(a){var b=a.data.tablaArmas,c=b.getCoste(SE);SE.addPDLibres(c),SE.removeTablaArmas(b.getNombre(),b.getOpcion()),Qf()}function Hg(){b("#"+JE).off("click",Rh),b("#"+IE).off("click",Dh),b("#"+GE).off("click",Hh),b("#"+HE).off("click",lh),b("#"+EE).off("click",gh),b("#"+DE).off("click",ih),b("#"+CE).off("click",Th),b("#"+yE).off("click",Zh),b("#"+KE).off("click",dj),b("#"+LE).off("click",hj),b("#"+ME).off("click",oj),b("#"+NE).off("click",qj),b("#"+OE).off("click",Xh),b("#"+PE).off("click",Yh),b("#"+JE).on("click",Rh),b("#"+IE).on("click",Dh),b("#"+GE).on("click",Hh),b("#"+HE).on("click",lh),b("#"+EE).on("click",gh),b("#"+DE).on("click",ih),b("#"+CE).on("click",Th),b("#"+yE).on("click",Zh),b("#"+KE).on("click",dj),b("#"+LE).on("click",hj),b("#"+ME).on("click",oj),b("#"+NE).on("click",qj),b("#"+OE).on("click",Xh),b("#"+PE).on("click",Yh)}function Ig(a){var c=0;switch(a){case mF:c=1;break;case oF:c=2;break;case pF:c=3;break;case nF:default:c=0}for(var d=1;d<QE.length;d++)Ug(b("#"+QE[d]),!(0==c||2==c));var e=b("#"+FE);SE.numArtesMarciales()>=SE.maxArtesMarciales()?(Ug(e,!1),l(e,"Necesitas 40 de ataque y defensa por cada arte marcial.")):Ug(e,!0),Ug(b("#"+GE),!(0==c||0==SE.getHabilidadDePersonaje(yr).valorFinalActual())),Ug(b("#"+IE),!(0==c||0==SE.nivelMagiaMaximo())),Ug(b("#"+JE),!(0==c||0==SE.getElan().length)),Ug(b("#"+KE),!(0==c||2==c||!ej())),Ug(b("#"+LE),2==c),Ug(b("#"+ME),0!=c);var f,g,h,i,j=b("#menuPersonaje").empty();f=b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",yE).append("Crear nuevo")),g=2==c?b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",LE).append("Subir de nivel")):b("<li></li>").addClass("desactivado").append("Subir de nivel"),h=0!=c?b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",ME).append("Guardar")):b("<li></li>").addClass("desactivado").append("Guardar"),i=b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",NE).append("Cargar")),j.append(f).append(g).append(h).append(i);var k,m,n,o,p=b("#menuCreacion").empty();1==c||3==c?(k=b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",CE).append("Elegir bonos naturales")),m=b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",DE).append("Elegir arma inicial")),n=b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",EE).append("Comprar tablas de armas")),o=b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",HE).append("Gastar CM (Ki)"))):(k=b("<li></li>").addClass("desactivado").append("Elegir bonos naturales"),m=b("<li></li>").addClass("desactivado").append("Elegir arma inicial"),n=b("<li></li>").addClass("desactivado").append("Comprar tablas de armas"),o=b("<li></li>").addClass("desactivado").append("Gastar CM (Ki)"));var q;q=SE.numArtesMarciales()>=SE.maxArtesMarciales()?b("<li></li>").addClass("desactivado").append("Comprar artes marciales"):b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",FE).append("Comprar artes marciales"));var r,s,t,u;r=0!=c&&0!=SE.nivelMagiaMaximo()?b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",IE).append("Gastar niveles de vía (Magia)")):b("<li></li>").addClass("desactivado").append("Gastar niveles de vía (Magia)"),s=0!=c&&0!=SE.getHabilidadDePersonaje(yr).valorFinalActual()?b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",GE).append("Gastar CV (Psíquica)")):b("<li></li>").addClass("desactivado").append("Gastar CV (Psíquica)"),t=0!=c&&0!=SE.getElan().length?b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",JE).append("Gastar sincronización (Elan)")):b("<li></li>").addClass("desactivado").append("Gastar sincronización (Elan)"),u=0!=c&&2!=c&&ej()?b("<li></li>").append(b("<a></a>").prop("href","#").prop("id",KE).append("Finalizar creación/subida")):b("<li></li>").addClass("desactivado").append("Finalizar creación/subida"),p.append(k).append(m).append(n).append(q).append(o).append(r).append(s).append(t).append("<hr>").append(u),Hg()}function Jg(a,b,c){var d,e,f=[],g=[];switch(a){case ov:for(d=0;d<al.length;d++)f.push(new k(al[d],""));Kg(f,b,{principal:c.principal,isDisabled:c.isDisabled},!0);break;case pv:for(d=0;d<Bs.length;d++)f.push(new k(Bs[d],""));Kg(f,b,{principal:c.principal,isDisabled:c.isDisabled},!0);break;case qv:for(d=0;d<As.length;d++){var h=As[d];for(g.push(new k(Bs[d],Bs[d])),e=0;e<h.length;e++)f.push(new k(h[e],Bs[d]))}Kg(f,b,{principal:c.principal,isDisabled:c.isDisabled},!0,g);break;case rv:for(d=0;d<vt.length;d++){var i=vt[d];i.isLibre()||f.push(new k(i.getNombre(),"",i.getDescripcion()))}Kg(f,b,{principal:c.principal,isDisabled:c.isDisabled},!0);break;case sv:for(d=-5;5>=d;d++)SE.getTamaño()>-1*d&&f.push(new k(d,""));Kg(f,b,{principal:c.principal,isDisabled:c.isDisabled},!0);break;case Bv:f.push(new k(Zq,"")),f.push(new k($q,"")),f.push(new k(_q,"")),Kg(f,b,{principal:c.principal,isDisabled:c.isDisabled},!0);break;case uv:var l=zm;if("Acceso a poderes psíquicos naturales"==b.elementoPC.getNombre())switch(parseInt(b.coste)){case 1:l=hm;break;case 2:l=km;break;case 3:l=nm}for(d=0;d<vt.length;d++){var m=vt[d];g.push(new k(m.getNombre(),m.getNombre()));var n=m.getPoderesPsiquicos();for(e=0;e<n.length;e++){var o=n[e];j(o.dificultadMinima())<=j(l)&&f.push(new k(o.getNombre(),m.getNombre(),o.getDescripcion()))}}Kg(f,b,{principal:c.principal,isDisabled:c.isDisabled},!0,g);break;case vv:for(d=0;d<aC.length;d++)f.push(new k(aC[d].getNombre(),aC[d].getTipo()));g.push(new k($B,$B)),g.push(new k(_B,_B)),Kg(f,b,{principal:c.principal,isDisabled:c.isDisabled},!0,g);break;case wv:for(d=0;d<ht.length;d++)f.push(new k(ht[d],""));Kg(f,b,{principal:c.principal,isDisabled:c.isDisabled},!0);break;case xv:var p=[new Og("Fuego/Agua",[Us,Ss],1),new Og("Aire/Tierra",[Ys,Ws],1),new Og("Luz/Oscuridad",[Ks,Ms],1),new Og("Esencia/Ilusión",[$s,at],1),new Og("Creación/Destrucción",[Os,Qs],1)];b.isDesequilibrioSephirotico=!0,Ng(p,b,c.principal);break;case yv:case tv:b.opcion=prompt("Especifica",""),c.principal(b)}}function Kg(a,d,e,f,g){var h=x("");h.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!0,title:vF,position:"center",closeOnEscape:f,width:In,height:Jn,maxHeight:Jn,close:function(){h.empty()}}),f||h.dialog("option","dialogClass","no-close");var i=x(""),j=b("<ul></ul>").addClass("four_up tiles");if(g!=c)for(var k=0;k<g.length;k++){var m=g[k],n=x("contenedorBotonesVentajas"),o=b("<ul></ul>").addClass("four_up tiles");i.append("<h3>"+m.etiqueta+"</h3>"),o.attr("id",m.categoria.replace(/\s+/g,"")),n.append(o),i.append(n)}else i.append(j);h.append(i);for(var p=0;p<a.length;p++){d.opcion=a[p].etiqueta,a[p].categoria!=c&&(d.categoria=a[p].categoria);var q=Qg("big pretty primary btn",a[p].etiqueta,e.isDisabled(d));q.addClass("botonDialogoOpciones"),a[p].tooltip!=c&&l(q,a[p].tooltip),q.css("width","100%"),g!=c?b("#"+a[p].categoria.replace(/\s+/g,"")).append(b("<li></li>").append(q)):j.append(b("<li></li>").append(q)),q.on("click",{opcion:a[p].etiqueta,categoria:a[p].categoria},function(a){h.dialog("close"),h.empty(),d.opcion=a.data.opcion,d.categoria=a.data.categoria,e.principal(d)})}g!=c&&i.accordion({heightStyle:"content"})}function Lg(){return!1}function Mg(a,b){var c=Qg("small pretty primary btn","X");return b?c.on("click",b,a):c.on("click",a),c}function Ng(a,c,d){var e=b("<div></div>");e.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!0,title:vF,position:"center",closeOnEscape:!0,width:In,height:Jn,maxHeight:Jn,close:function(){e.empty()},buttons:[{text:"Ok",click:function(){b(this).dialog("close"),c.gruposOpciones=a,d(c)}}]});for(var f=0;f<a.length;f++){var g=a[f];e.append(g.etiqueta);for(var h=b("<div></div>").attr("id","botones"+f),i=0;i<g.opciones.length;i++){var j=b("<input>").attr("type","checkbox").attr("id","checkBotones"+f+"_"+i).addClass("checkBotones"+f),k=b("<label></label>").attr("for","checkBotones"+f+"_"+i).append(g.opciones[i]);h.append(j).append(k),j.on("click",{grupoOpciones:a[f],claseChecks:".checkBotones"+f,item:g.opciones[i]},function(a){var c=a.data.grupoOpciones,d=a.data.claseChecks,e=a.data.item;if(this.checked)c.opcionesElegidas[c.checked]=e,b(this).attr("indice",c.checked),c.checked++,c.checked==c.numAElegir&&(b(d).prop("disabled",!0),b(d+":checked").prop("disabled",!1));else{var f=b(this).attr("indice");b(this).removeAttr("indice"),c.checked>1?(c.opcionesElegidas[f]=c.opcionesElegidas[c.checked-1],c.opcionesElegidas[c.checked-1]=""):c.opcionesElegidas[f]="",c.checked--,c.checked<c.numAElegir&&b(d).prop("disabled",!1)}})}h.buttonset(),e.append(h)}}function Og(a,b,c){this.etiqueta=a,this.opciones=b,this.numAElegir=c,this.checked=0,this.opcionesElegidas=[]}function Pg(a,b,c,d){var e=Qg("small primary btn pretty",a);return e.attr("id",d),e.on("click",b,c),e}function Qg(a,b,c){var d=x(a);return d.append("<a href='#'>"+b+"</a>"),c&&Sg(d),d}function Rg(a){a.preventDefault(),a.stopImmediatePropagation(),console.log("prevented")}function Sg(a){a.addClass("disabledButton"),a.on("click",Rg)}function Tg(a){a.removeClass("disabledButton"),a.off("click",Rg)}function Ug(a,b){b?Tg(a):Sg(a)}function Vg(){var a=x("");a.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!1,title:qF,width:500,height:500,dialogClass:"no-close",closeOnEscape:!1,close:function(){a.empty()}});var c=x("row");a.append(c);var d=4;wk&&(d=5);for(var e=1;d>=e;e++){var f=x("two columns"),g=Qg("big primary btn pretty",sE+" "+e);g.css("width","100%"),f.append(g),c.append(f),g.on("click",{tipo:e},function(b){a.dialog("close"),$h(b.data.tipo)}),g.on("mouseenter",{metodo:e},function(a){b("."+tE).empty().append(_h(a.data.metodo))}),g.on("mouseleave",function(){b("."+tE).empty()})}var h=x(tE);a.append(h)}function Wg(a,c){var e=x("");e.attr("id",uE);var f=function(a,c,g,h){var i,j,k=x(""),l=x(""),m=x("");for(e.empty(),w(),k.append(x("row").append(x("four columns").append(Gp)).append(x("four columns").append(Hp).addClass(lq)).append(x("four columns").append(Ip).addClass(lq))),i=0;i<al.length;i++){var n=x("");n.droppable({hoverClass:"ui-state-highlight"}),n.on("drop",{caracteristica:al[i],indice:i},function(b,e){var i,j=e.draggable.attr("valor"),k=e.draggable.attr("origen");isNaN(k)?(i=d(k),k=g[i],g[i]=!1):c[k]=!0,SE.setCaracteristica(b.data.caracteristica,j),g[b.data.indice]&&(c[g[b.data.indice]]=!1),g[b.data.indice]=k,f(a,c,g,h)});var o=x(Sp),p=x(Tp),r=x(Up),s=x(Vp);p.append(al[i]),g[i]?(r.append(Xg(SE.getCaracteristica(al[i]),al[i])),s.append(q(SE.getBonoCaracteristica(al[i])))):(r.append("--"),s.append("--")),o.append(x("row").append(x("four columns").append(p)).append(x("four columns").append(r).addClass(lq)).append(x("four columns").append(s).addClass(lq))),n.append(o),k.append(n)}var t=x("sixteen colgrid"),u=x("row");for(j=0;j<a.length;j++){var y=x("two columns");c[j]||y.append(Xg(a[j],j)),u.append(y)}t.append(u),l.append(t);var z=b("<ul></ul>").addClass("five_up tiles");for(j=0;j<h.length;j++)z.append(Yg(h[j]));m.append(z),e.append(k).append(l).append(m);var A=!0;for(i=0;i<g.length;i++)A=A&&g[i];A&&e.dialog("option","buttons",[{text:"Ok",disabled:!1,click:function(){e.dialog("close"),v(),gi()}}])};e.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!1,title:vE,width:500,height:600,dialogClass:"no-close",closeOnEscape:!1,buttons:[{text:"Ok",disabled:!0,click:function(){e.dialog("close"),v(),gi()}}]}),f(a,[!1,!1,!1,!1,!1,!1,!1,!1],[!1,!1,!1,!1,!1,!1,!1,!1],c)}function Xg(a,b){var c=x("listaValores");return c.addClass("valorCaracteristica"),c.draggable({cursor:"pointer",revert:"invalid"}),c.attr("valor",a),c.attr("origen",b),c.append(a),c}function Yg(a){var c=b("<li></li>").addClass(lq);return c.addClass(mq),c.append(a),c}function Zg(a,c){var d=x("");d.attr("id",uE),w();var e=function(a,f){var g=x(""),h=x("");d.empty(),h.append(x("row").append(x("four columns").append(Gp)).append(x("four columns").append(Hp).addClass(lq)).append(x("four columns").append(Ip).addClass(lq)));for(var i=0;i<al.length;i++){var j=x("row"),k=x(Tp),l=x(Up),m=x(Vp);k.append(al[i]);var n=b("<input>");n.prop("type","number"),n.prop("value",SE.getCaracteristica(al[i])),n.addClass(gq),n.addClass("spinnerMetodo4"),n.spinner({incremental:!1,max:10,min:1,page:1}),n.on("change",{caracteristica:al[i],divSpinner:n},function(b){var d=b.data.caracteristica,g=SE.getCaracteristica(d),h=b.data.divSpinner.spinner("value"),i=h-g,j=!1;10>=h&&h>=1&&(i>0?f>=i&&(j=!0):a-7+i>=f&&(j=!0)),j&&(c&&(10>g&&10==h&&i++,10==g&&10>h&&i--),f-=i,SE.setCaracteristica(d,h)),e(a,f)}),l.append(n),m.append(q(SE.getBonoCaracteristica(al[i]))),j.append(x("four columns").append(k)).append(x("four columns").append(l).addClass(lq)).append(x("four columns").append(m).addClass(lq)),h.append(j),d.dialog("option","buttons",[{text:"Ok",disabled:f>0,click:function(){b(this).dialog("close"),v(),gi()}}])}var o=x(""),p=x("");o.append("Total: "+a),p.append("Libres: "+f),g.append(o).append(p),d.append(h).append(g)};d.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!1,title:vE,width:500,height:600,dialogClass:"no-close",closeOnEscape:!1,buttons:[{text:"Ok",disabled:!0,click:function(){b(this).dialog("close"),v(),gi()}}]});for(var f=0;f<al.length;f++)SE.setCaracteristica(al[f],1);e(a,a-8)}function $g(a,d,e){for(var f=[],g=0;g<al.length;g++)f.push({text:al[g],click:function(c){b(this).dialog("close"),a(c.target.innerHTML,d)}});var h="";h=e!=c?e:b("<div></div>"),h.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!1,title:vF,dialogClass:"no-close",closeOnEscape:!1,buttons:f,width:In})}function _g(){var a=x("");a.prop("id",TE),a.empty(),a.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!0,closeOnEscape:!0,title:VE,width:In,height:Jn,maxHeight:Jn});for(var c=b("<ul></ul>").addClass("four_up tiles"),d=0;d<aD.length;d++){var e=aD[d],f=Qg("big primary btn pretty",e.getNombre(),!Ef(e.getNombre()));f.css("width","100%"),c.append(b("<li></li>").append(f)),f.on("click",{categoria:e},function(b){a.dialog("close"),ii(b.data.categoria)}),f.on("mouseenter",{categoria:e},fh)}a.append(c);var g=b("<div></div>");g.addClass(dq),g.attr("id",UE),a.append(g)}function ah(a,c){var d=b("<div></div>");d.addClass(eq),d.addClass(fq),d.append(sp),a.append(d);var e=c.getCostesReducidos();if(0==e.length){var f=b("<div></div>");f.addClass(eq),f.append(vp),a.append(f)}else for(var g=0;g<e.length;g++){var h=e[g],i=b("<div></div>");i.addClass(eq);var j=b("<div></div>");j.addClass(gq),j.addClass(fq),j.append(h.getNombre()+": ");var k=b("<div></div>");k.addClass(gq),k.append(h.getCoste()),i.append(j).append(k),a.append(i)}}function bh(a,c){var d=b("<div></div>");d.addClass(eq),d.addClass(fq),d.append(tp),a.append(d);var e=c.getBonosInnatos();if(0==e.length){var f=b("<div></div>");f.addClass(eq),f.append(vp),a.append(f)}else for(var g=0;g<e.length;g++){var h=e[g],i=b("<div></div>");i.addClass(eq);var j=b("<div></div>");j.addClass(gq),j.addClass(fq),j.append(h.item+": ");var k=b("<div></div>");k.addClass(gq),k.append("+"+h.bono+" "+up),i.append(j).append(k),a.append(i)}}function ch(a,c){var d=c.getDescripcion(),e=b("<div></div>");e.addClass(hq),e.addClass(eq),e.append(d),a.append(e)}function dh(a,c){var d=c.getArquetipo().toString(),e=b("<div></div>");e.addClass(eq);var f=b("<div></div>");f.addClass(gq),f.addClass(fq),f.append(eo+": ");var g=b("<div></div>");g.addClass(gq),g.append(d),e.append(f).append(g),a.append(e)}function eh(a,c,d){for(var e=d.getCostes(),f=0;f<e.length;f++){var g=e[f],h=b("<div></div>");h.addClass(eq);var i=b("<div></div>");i.addClass(gq),i.addClass(fq),i.append(g.getNombre()+": ");var j=b("<div></div>");j.addClass(gq),j.append(g.getCoste()),h.append(i).append(j),f<e.length/2?a.append(h):c.append(h)}}function fh(a){var c=a.data.categoria,d=b("<div></div>");d.addClass(iq);var e=b("<div></div>");e.addClass(kq),e.css("width","50%"),e.css("margin-right","1em");var f=b("<div></div>");f.addClass(kq),f.css("width","40%"),ch(e,c),dh(e,c),eh(e,f,c),ah(f,c),bh(f,c),d.append(e).append(f),b("#"+UE).empty().append(d)}function gh(){var a,b=[],c=[];for(a=0;a<iz.length;a++)c.push(new k(iz[a],iz[a]+"ElegirTablaArmas"));for(a=0;a<bz.length;a++){var d=bz[a],e=d.getCategoriaTabla();b.push(new k(d.getNombre(),e+"ElegirTablaArmas",d.getDescripcion()))}Kg(b,{},{principal:Ki,isDisabled:hh},!0,c)}function hh(a){var b=a.opcion,c=hf(b);return c.getTipoTabla()==jz?!1:SE.hasTablaArmas(b)}function ih(){var a=[];for(i=0;i<dx.length;i++){var b=dx[i],c=b.getCategoria();c!=kw&&a.push(c)}kh(a,{principal:Ii,isDisabled:Lg},{})}function jh(a,b,c){var d,e,f=[];a:for(d=0;d<a.length;d++){var g=a[d];for(e=0;e<f.length;e++)if(g==f[e].etiqueta)continue a;f.push(new k(g,""))}c.elegir=!0,Kg(f,c,b,!0)}function kh(a,b,c){var d,e,f,g=[],h=[];for(d=0;d<dx.length;d++){var i=dx[d],j=i.getCategoria(),l=!1;for(f=0;f<a.length;f++)if(j==a[f]){l=!0;break}if(l){var m=j.replace("/",""),n=!1;for(e=0;e<h.length;e++)if(h[e].etiqueta==j){n=!0;break}n||h.push(new k(j,m+"ElegirArma")),g.push(new k(i.nombre,m+"ElegirArma"))}}c.elegir=!0,Kg(g,c,b,!0,h)}function lh(){var a=b("<div></div>"),c=function(){a.empty(),a.append(mh()),a.append(og()),a.append(nh()),a.append(pg()),a.append(oh()),a.append(ph())};c(),a.dialog({modal:!0,autoOpen:!0,resizable:!0,draggable:!0,title:xF,position:"center",width:In,height:Jn,maxHeight:Jn,closeOnEscape:!0,close:function(){a.empty(),Pf(Bn,c)}}),Of(Bn,c)}function mh(){var a=b("<div></div>");a.append(Uf(io,!1));var c=b("<div></div>").addClass(Xp);return c.append(dg(io,0,SE.getBonos(Bq,Bq,Nq)).addClass(gq)),c.append(" - CM Libre: "+(SE.getCMTotal()-SE.getCMGastado())),a.append(c),a}function nh(){var a=Qg("medium primary pretty btn","Comprar habilidad de ki");return a.on("click",Sc),a}function oh(){var a=Qg("medium primary pretty btn","Comprar técnica de dominio existente",uc());return a.on("click",Tc),a}function ph(){var a=Qg("medium primary pretty btn","Crear técnica de dominio",uc());return a.on("click",vc),a}function qh(a){var c,d,e=b("<div></div>"),f=!1,g=function(){e.empty();var g=b("<div></div>");g.addClass("row"),e.append(g);var h=b("<div></div>");h.addClass("four columns").addClass(jq),g.append(h);var i=b("<div></div>");for(c=0;c<wu.length;c++){var j=b("<h3></h3>");j.append(wu[c]),i.append(j);var k=b("<div></div>");for(d=0;d<yu.length;d++)if(yu[d].getTipoEfecto()==wu[c]){var l=b("<div></div>").addClass("row"),m=b("<div></div>").addClass("seven columns");m.append(yu[d].getNombre());var n=b("<div></div>").addClass("two columns"),o=Qg("small primary pretty btn","1ª",!Uc(a,yu[d],!0));n.append(o),o.on("click",{tecnicaKi:a,efecto:yu[d]},Cc);var p=b("<div></div>").addClass("push_one two columns"),q=Qg("small secondary pretty btn","2ª",!Uc(a,yu[d],!1));p.append(q),q.on("click",{tecnicaKi:a,efecto:yu[d]},Fc),l.append(m).append(n).append(p),k.append(l)}i.append(k)}var r=b("<h3></h3>");r.append(Ep),i.append(r);var s=b("<div></div>");for(d=0;d<Au.length;d++){var t=b("<div></div>").addClass("row"),u=b("<div></div>").addClass("nine columns");u.append(Au[d].getNombre());var v=b("<div></div>").addClass("three columns"),w=Qg("small primary pretty btn","+",!Nc(a,Au[c]));v.append(w),w.on("click",{tecnicaKi:a,desventaja:Au[d]},Gc),t.append(u).append(v),s.append(t)}i.append(s),h.append(i);var x=b("<div></div>");x.addClass("eight columns");var y=b("<div></div>");x.append(y);var z=b("<div></div>").append(Yf(Ln,a.getNombre(),!0,wc,{tecnicaKi:a})),A=b("<div></div>").append(Yf(bo,a.getNivel(),!0,yc,{tecnicaKi:a})),B=b("<div></div>").append("CM: "+a.getCosteCM()+" / CM Mínimo: "+a.getMinCM()+" / CM Máximo: "+a.getMaxCM()),C=b("<div></div>").append(Yf(oo,a.getDescripcion(),!0,Ac,{tecnicaKi:a})),D=b("<div></div>").append(Yf(po,a.getCosteKi().toString(),!1)),E=b("<div></div>");a.isMantenida()&&E.append(Yf(qo+". "+ro,a.getCosteMantenimiento().toString(),!1));var F=b("<div></div>").append("Efectos de la técnica:").addClass(jq),G=b("<div></div>").addClass("row"),H=b("<div></div>").addClass("three columns").append("Efecto"),I=b("<div></div>").addClass("one columns").append("CM"),J=b("<div></div>").addClass("three columns").append("Ki"),K=b("<div></div>").addClass("three columns").append("Mantenimiento"),L=b("<div></div>").addClass("one columns").append("Ventajas"),M=b("<div></div>").addClass("one columns").append("Borrar");G.append(H).append(I).append(J).append(K).append(L).append(M),F.append(G);var N,O=a.getEfectoPrimario();if(O)for(F.append(rh(O,a,!1)),N=O.getVentajasOpcionalesElegidas(),c=0;c<N.length;c++)F.append(sh(N[c],O,a,!0));var P=a.getEfectosSecundarios();for(c=0;c<P.length;c++)for(F.append(rh(P[c],a,!0)),N=P[c].getVentajasOpcionalesElegidas(),d=0;d<N.length;d++)F.append(sh(N[d],P[c],a,!0));var Q=b("<div></div>").addClass("row"),R=b("<div></div>").addClass("four columns").append("Desventaja"),S=b("<div></div>").addClass("seven columns").append("CM"),T=b("<div></div>").addClass("one columns").append("Borrar");Q.append(R).append(S).append(T);var U=b("<div></div>").append("Desventajas de la técnica (Max. "+a.getMaxDesventajas()+"):").addClass(jq);U.append(Q);var V=a.getDesventajas();for(c=0;c<V.length;c++)U.append(yh(V[c],a,!0));x.append(z).append(A).append(C).append(B).append(D).append(E).append(F).append(U),g.append(x),i.accordion({heightStyle:"content"}),f&&e.dialog("option","buttons",[{text:"Crear",disabled:!(a.isCorrecta()&&SE.puedeComprarTecnicaKi(a)),click:function(){e.dialog("close"),SE.addTecnicaKi(a),SE.addCMGastado(a.getCosteCM())}}])};g(),e.dialog({modal:!0,autoOpen:!0,resizable:!0,draggable:!0,title:zF,position:"center",closeOnEscape:!0,width:Kn,height:Jn,maxHeight:Jn,closeOnEscape:!0,close:function(){e.empty(),Pf(au,g)},buttons:[{text:"Crear",disabled:!(a.isCorrecta()&&SE.puedeComprarTecnicaKi(a)),click:function(){e.dialog("close"),SE.addTecnicaKi(a),SE.addCMGastado(a.getCosteCM())}}]}),f=!0,Of(au,g)}function rh(a,c,d){var e=b("<div></div>").addClass("row"),f=b("<div></div>").addClass("three columns"),g=b("<div></div>");g.addClass(Xp).append(a.getNombreCompleto()),f.append(g);var h=b("<div></div>").addClass("one columns"),i=b("<div></div>");i.append(a.getCosteCM()),h.append(i);var j=b("<div></div>").addClass("three columns"),k=x(gq);k.append(a.getCosteKi().toString()),j.append(k),j.append(Pg("?",{costeKi:a.getCosteKi()},Ch,""));var l=b("<div></div>").addClass("three columns"),m=b("<div></div>").addClass("row"),n=b("<div></div>").addClass("six columns"),o=b("<div></div>").addClass("six columns"),p=b("<div></div>").addClass(Wp),q=b("<div></div>").addClass(gq);if(a.isMantenible()){var r=a.isMantenido();p.attr("id",a.getNombre().replace(/\s+/g,"")+"_mant");var s=b("<input>").attr("type","radio").attr("id",a.getNombre().replace(/\s+/g,"")+"_mantOn").attr("name",a.getNombre().replace(/\s+/g,"")+"_mant"),t=b("<label></label>").attr("for",a.getNombre().replace(/\s+/g,"")+"_mantOn").append("On"),u=b("<input>").attr("type","radio").attr("id",a.getNombre().replace(/\s+/g,"")+"_mantOff").attr("name",a.getNombre().replace(/\s+/g,"")+"_mant"),v=b("<label></label>").attr("for",a.getNombre().replace(/\s+/g,"")+"_mantOff").append("Off");r?s.attr("checked","checked"):u.attr("checked","checked"),p.append(s).append(t).append(u).append(v),p.buttonset(),a.isMantenido()&&(q.append(a.getCosteMantenimiento().toString()),q.append(Pg("?",{costeKi:a.getCosteMantenimiento()},Ch,""))),s.on("click",{tecnicaKi:c,efectoTecnica:a,activado:!0},Mc),u.on("click",{tecnicaKi:c,efectoTecnica:a,activado:!1},Mc)}n.append(q),o.append(p),m.append(n).append(o),l.append(m);var w=b("<div></div>").addClass("one columns");if(a.getVentajasOpcionales().length>0){var y=Qg("small primary pretty btn","+");y.on("click",{tecnicaKi:c,efectoTecnica:a},th),w.append(y)}var z=b("<div></div>").addClass("one columns");return d&&z.append(Mg(Jc,{tecnicaKi:c,efecto:a})),e.append(f).append(h).append(j).append(l).append(w).append(z),e}function sh(a,c,d,e){var f=b("<div></div>").addClass("row"),g=b("<div></div>").addClass("push_one two columns"),h=b("<div></div>");h.addClass(Xp).append(a.getNombre()),g.append(h);var i=b("<div></div>").addClass("one columns"),j=b("<div></div>");j.append("+"+a.getCosteCM()),i.append(j);var k=b("<div></div>").addClass("three columns"),l=b("<div></div>");l.append("+"+a.getCosteKi().toString()),k.append(l);var m=b("<div></div>").addClass("three columns"),n=b("<div></div>").addClass(Wp);c.isMantenible(),m.append(n);var o=b("<div></div>").addClass("push_one one columns");return e&&o.append(Mg(Kc,{tecnicaKi:d,efecto:c,ventaja:a})),f.append(g).append(i).append(k).append(m).append(o),f}function th(a){for(var b=a.data.tecnicaKi,c=a.data.efectoTecnica,d=[],e=c.getVentajasOpcionales(),f=0;f<e.length;f++)d.push(new k(e[f].getNombre(),"",e[f].getDescripcion()));var g={tecnicaKi:b,efecto:c};Kg(d,g,{principal:uh,isDisabled:xh},!0)}function uh(a){var b=(a.tecnicaKi,a.efecto),c=a.opcion,d=b.getVentajaOpcionalPorNombre(c);if(a.ventaja=d,d.getNivelesVentaja().length>1){for(var e=[],f=d.getNivelesVentaja(),g=0;g<f.length;g++)e.push(new k(f[g].getNombre(),"","CM: "+f[g].getCosteCM()+", Ki: "+f[g].getCosteKi()));Kg(e,a,{principal:vh,isDisabled:wh},!0)}else a.opcion=d.getNivelesVentaja()[0].getNombre(),wh(a)||vh(a)}function vh(a){var b=a.tecnicaKi,c=a.efecto,d=a.ventaja,e=d.getNivelPorNombre(a.opcion),f=new Pb(d,e);b.addVentajaEfecto(c,f)}function wh(){return!1}function xh(a){for(var b=!0,c=(a.tecnicaKi,a.efecto),d=a.opcion,e=c.getVentajasOpcionalesElegidas(),f=0;f<e.length;f++)e[f].getNombre()==d&&(b=!1);return!b}function yh(a,c,d){var e=b("<div></div>").addClass("row"),f=b("<div></div>").addClass("four columns");f.addClass(Xp).append(a.getNombre());var g=b("<div></div>").addClass("seven columns");g.append(a.getCosteCM());var h=b("<div></div>").addClass("one columns");return d&&h.append(Mg(Lc,{tecnicaKi:c,desventaja:a})),e.append(f).append(g).append(h),e}function zh(a){var c=b("<div></div>"),d=function(){c.empty();var b=x("row"),d=x("five columns"),e=x("push_two five columns"),f=x(""),g=x(""),h=x(lq);h.append(a.caracbase);var i=x(lq);i.append(a.getCoste(a.caracbase)),f.append(h).append(i),d.append(f);for(var j=a.getCaracteristicasDestino(),k=0;k<j.length;k++){var l=j[k],m=x(lq);m.append(l+" (+"+a.mod[l]+")");var n=x(lq);n.append(a.getCoste(l));var o=Ah(a,l);g.append(m).append(n).append(o)}e.append(g),b.append(d).append(e),c.append(b)};d(),Of(bu,d),c.dialog({modal:!0,autoOpen:!0,resizable:!0,draggable:!0,title:AF,position:"center",closeOnEscape:!0,width:In,height:Jn,maxHeight:Jn,close:function(){c.empty(),Pf(bu,d),u(au)},buttons:[{text:"Ok",click:function(){b(this).dialog("close")}}]})}function Ah(a,c){var d=b("<div></div>"),e=Qg("small primary pretty btn","+"),f=Qg("small secondary pretty btn","+");return d.append(e).append(f),e.on("click",{costeKi:a,caracDestino:c,unidades:1},Bh),f.on("click",{costeKi:a,caracDestino:c,unidades:-1},Bh),d}function Bh(a){a.data.costeKi.pasaCoste(a.data.caracDestino,a.data.unidades),u(bu)}function Ch(a){zh(a.data.costeKi)}function Dh(){var a,d=b("<div></div>"),e=function(){d.empty(),d.append(Uf(aF,!0));var e=b("<div></div>");e.append("Niveles máximos a repartir: "+SE.nivelMagiaMaximo()+"<br>Niveles libres para repartir: "+(SE.nivelMagiaMaximo()-SE.getNivelMagiaGastado())),d.append(e),d.append(Uf(bF,!1));var f=!1;SE.nivelMagiaMaximo()-SE.getNivelMagiaGastado()<2&&(f=!0),SE.hasFlag(Bl)||(f=!0),SE.getViasMagia().length==ht.length&&(f=!0);var g=Qg("medium primary pretty btn","Acceso a nueva vía de magia",f);d.append(g),g.on("click",eb);for(var h=b("<div></div>"),i=SE.getViasMagia(),j=0;j<i.length;j++){var k=i[j],l=k.getVia(),m=k.getNivel()*SE.getCosteVia(k.getVia().getNombre());a=b("<h3></h3>"),a.append(k.getVia().getNombre()+" - Nv: "+k.getNivel()+" ("+m+" niveles gastados)"),a.append(Eh(k)),a.append(Mg(db,{via:l,coste:m})),h.append(a);for(var n=b("<div></div>"),o=2;o<=k.getNivel();o+=2)if(l.isNivelLibreAcceso(o)){if(n.append("<br><b>Nivel "+o+": Libre Acceso"),k.getConjuroLibre(o)!=c){var p=k.getConjuroLibre(o);n.append(" - "+p.getNombre())}n.append("</b>"),n.append(Fh(l,o))}else{var q=l.getConjuro(o);n.append("<br><b>Nivel "+o+": "+q.getNombre()+"</b>")}h.append(n)}a=b("<h3></h3>"),a.append(cF),h.append(a);var r=b("<div></div>");r.append(Gh());for(var s=SE.getConjurosSueltos(),t=0;t<s.length;t++)r.append("<br><b>Nivel "+s[t].getNivel()+": "+s[t].getNombre()+"</b>");h.append(r),d.append(h),h.accordion({heightStyle:"content"})};e(),d.dialog({modal:!0,autoOpen:!0,resizable:!0,draggable:!0,title:yF,position:"center",width:In,height:Jn,maxHeight:Jn,closeOnEscape:!0,close:function(){d.empty()}}),d.on("close",function(){d.empty(),Pf(Cn,e)}),Of(Cn,e)}function Eh(a){var c=b("<div></div>"),d=Qg("small primary pretty btn","+"),e=Qg("small secondary pretty btn","+");return c.append(d).append(e),d.on("click",{nivelEnVia:a,unidades:2},ib),e.on("click",{nivelEnVia:a,unidades:-2},ib),c}function Fh(a,b){var c=Qg("small primary pretty btn",$o);return c.on("click",{via:a,nivel:b},jb),c}function Gh(){var a=Qg("small primary pretty btn","Comprar conjuro suelto");return a.on("click",{},mb),a}function Hh(){var a=x(),c=function(){var c,d,e=SE.getHabilidadDePersonaje(yr).valorFinalActual()-SE.getCVGastados();a.empty(),a.append(Uf(eF,!1));var f=x();f.append(Bg());var g=x().append(kg(yr,ip,!0)),h=x().append(Eg(0,fF,e,{})),i=x().append(kg(Ar,kp,!0)),j=Qg("small primary pretty btn","+",2>e),k=Qg("small secondary pretty btn","-",0==SE.getInnatosPsiquicos()),l=x().append(j).append(k),m=x().append(Eg("2 CV",gF,SE.getInnatosPsiquicos(),{},l));j.on("click",{cantidad:1},Fb),k.on("click",{cantidad:-1},Fb),f.append(g).append(h).append(i).append(m),a.append(f),a.append(Uf(dF,!1));var n=!1;1>e&&(n=!0),SE.hasFlag(El)?SE.hasFlag(Fl)||SE.getDisciplinasPsiquicas().length==SE.getAccesoDisciplinas().length&&(n=!0):n=!0;var o=Pg("Afinidad con nueva disciplina [1 CV]",{},vb);a.append(o),n&&Sg(o);for(var p=x(),q=SE.getDisciplinasPsiquicas(),r=0;r<q.length;r++)c=b("<h3></h3>").append(q[r].getNombre()),c.append(Mg(yb,{disciplina:q[r]})),d=x().attr("id","disciplinaPsiquica"+q[r].getNombre().replace(/\s+/g,"")),Ih(d,q[r]),p.append(c).append(d);var s=tb(zt);c=b("<h3></h3>").append(s.getNombre()),d=x().attr("id","disciplinaPsiquica"+s.getNombre().replace(/\s+/g,"")),SE.hasFlag(El)&&Ih(d,s),p.append(c).append(d),p.accordion({heightStyle:"content"}),a.append(p)};c(),a.dialog({modal:!0,autoOpen:!0,resizable:!0,draggable:!0,title:wF,position:"center",width:In,height:Jn,maxHeight:Jn,closeOnEscape:!0}),a.on("close",function(){a.empty(),Pf(Dn,c)
}),Of(Dn,c)}function Ih(a,b){var c=SE.getPoderesDominadosDisciplina(b),d=SE.getHabilidadDePersonaje(yr).valorFinalActual()-SE.getCVGastados()==0,e=Pg("Dominar un nuevo poder [1 CV]",{disciplina:b},Jh);a.append(e),(c.length==b.getPoderesPsiquicos().length||d)&&Sg(e);for(var f=0;f<c.length;f++){var g=c[f],h=x(),i=Qg("small primary pretty btn","+",10==g.getFortalecimiento()||d),j=Qg("small primary pretty btn","-",0==g.getFortalecimiento()),k=x().append(i).append(j),l=Eg(" [Nvl:"+g.getPoder().getNivel()+"]",g.getPoder().getNombre(),10*g.getFortalecimiento(),{descripcion:"potencial"},k);h.append(l),i.on("click",{disciplina:b,poder:g,cantidad:1},Db),j.on("click",{disciplina:b,poder:g,cantidad:-1},Db),h.append(i).append(j).append(Mg(Eb,{disciplina:b,poder:g})),a.append(h)}}function Jh(a){for(var b=a.data.disciplina,c=[],d=b.getPoderesPsiquicos(),e=0;e<d.length;e++){var f=d[e];c.push(new k(f.getNombre(),"",f.getDescripcion()))}Kg(c,{disciplina:b},{principal:Bb,isDisabled:Cb},!0)}function Kh(a){var b=Tf(a),c=SE.getArtesMarciales(),d=a==mF||a==pF;b.append(Uf(ho,!0));var e=x(Yp);if(d){var f=x("");f.append(Pg("Comprar artes marciales",{},Lh,FE)),e.append(f)}else 0==c.length&&e.append(x($p).addClass(iq).html("<br>"));for(var g=0;g<c.length;g++){var h=c[g],i=1==c.length,j=x(jq),k=x($p).append(h.getNombre());j.append(k),l(k,h.getDescripcion()),d&&h.isAnulable()&&j.append(Mg(Mi,{arteMarcial:h,esPrimera:i})),e.append(j)}return b.append(e),b}function Lh(){var a,b=[],c=[];for(c.push(new k(WE,YE+hF)),c.push(new k(XE,ZE+hF)),a=0;a<AB.length;a++)b.push(new k(AB[a].getNombre(),YE+hF,AB[a].getDescripcion()+"<hr>"+AB[a].getDescripcionVentajas()));for(a=0;a<BB.length;a++)b.push(new k(BB[a].getNombre(),ZE+hF,BB[a].getDescripcion()+"<hr>"+BB[a].getDescripcionVentajas()));var d=SE.puedeComprarNuevaArteMarcial();d.puedeComprar?Kg(b,{},{principal:Ni,isDisabled:Mh},!0,c):alert(d.mensajeFallo)}function Mh(a){var b=of(a.opcion);return!b.cumpleRequisitos(SE)||SE.hasArteMarcial(a.opcion)}function Nh(){Ph(sF,!0)}function Oh(){Ph(tF,!1)}function Ph(a,c){var d=b("#dialogPuntosCreacion");d.empty();for(var e=b("<div></div>"),f=0;f<Pv.length;f++){var g=Pv[f],h=b("<div></div>");c?(e.append("<h3>"+g+"</h3>"),h.attr("id",g.replace(/\s+/g,""))):(e.append("<h3>"+g.replace("Ventaja","Desventaja")+"</h3>"),h.attr("id",g.replace(/\s+/g,"")+"Desv")),h.addClass("contenedorBotonesVentajas"),e.append(h)}d.append(e);var i;i=c?fv:gv;for(var j=0;j<i.length;j++){var k=i[j];if(k.repetible!=nv){for(var l=k.nombre+"<br>[",m=0;m<k.costes.length;m++)l+=k.costes[m],m<k.costes.length-1&&(l+=",");l+="]";var n=!SE.puedeComprar(k),o=Qg("big primary pretty btn",l,n);c?(b("#"+k.grupo.replace(/\s+/g,"")).append(o),o.attr("ventaja",k.nombre)):(b("#"+k.grupo.replace(/\s+/g,"")+"Desv").append(o),o.attr("desventaja",k.nombre)),o.on("click",{elementoPC:k,isVentaja:c},ji),o.on("mouseenter",function(){if(c)var a=ad(b(this).attr("ventaja"));else var a=ad(b(this).attr("desventaja"));var d=b("<div></div>");d.addClass(iq);var e=a.descripcion+" - "+a.descripcionEfecto,f=b("<div></div>");f.addClass(hq),f.addClass("muestraBlock"),f.append(e),d.append(f),b(xE).empty().append(d)})}o.on("mouseleave",function(){})}e.accordion({heightStyle:"content"});var p=b("<div></div>");p.addClass("explicacionVentaja"),d.append(p),d.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!0,title:a,width:In,height:Jn,maxHeight:Jn,closeOnEscape:!0})}function Qh(){var a=b("#dialogElegirRaza");a.empty(),a.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!0,title:rF,width:In,height:Jn,maxHeight:Jn,closeOnEscape:!0}),a.on("close",vk);for(var c=0;c<rz.length;c++){var d=rz[c],e=Qg("big primary pretty btn",d.nombre,d.nombre==SE.raza.nombre);a.append(e),e.attr("raza",d.nombre),e.on("click",{raza:d},hi),e.on("mouseenter",function(){for(var a=lf(b(this).attr("raza")),c=a.getExplicacion(),d=b("<div></div>"),e=0;e<c.length;e++){var f=b("<div></div>");f.addClass("muestraBlock");var g=b("<div></div>"),h=b("<div></div>"),i=b("<div></div>");g.addClass(gq),g.addClass("textoFuerte"),g.addClass(iq),h.addClass(gq),h.addClass(iq),i.addClass(iq),i.addClass(hq),i.addClass(gq),g.append(c[e].nombre+": "),h.append(c[e].descripcion),i.append(" ("+c[e].reglas+") "),f.append(g).append(h).append(i),d.append(f)}b(wE).empty().append(d)}),e.on("mouseleave",function(){})}var f=b("<div></div>");f.addClass("explicacionRaza"),a.append(f)}function Rh(){for(var a=b("<div></div>"),c=b("<div></div>"),d=SE.getElan(),e=0;e<d.length;e++){var f=b("<h3></h3>");f.append(d[e].getNombre()+" - Sincronización: "+d[e].getSincronizacion()+" / Libre: "+d[e].sincLibre());var g=b("<div></div>");g.attr("id","donesElan"+d[e].getNombre()),Sh(g,d[e].getNombre(),a),c.append(f).append(g)}c.accordion({heightStyle:"content"}),a.append(c),a.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!0,title:vF,position:"center",width:In,height:Jn,maxHeight:Jn,closeOnEscape:!0,close:function(){a.empty()}})}function Sh(a,c,d){for(var e=xf(c),f=e.getDones(),g=b("<ul></ul>").addClass("three_up tiles"),h=0;h<f.length;h++){var i="["+f[h].getCoste()+"] "+f[h].getNombre()+"<br>";if(i+="Req: Sinc. "+f[h].getElanMinimo(),f[h].getDonesRequisito().length>0){i+=", ";for(var j=f[h].getDonesRequisito(),k=0;k<j.length;k++)i+=j[k],k+1<j.length&&(i+=", ")}var l=Qg("big primary pretty btn",i,!f[h].puedeComprarse());l.css("width","100%"),l.on("click",{indice:h},function(a){var b=a.data.indice;d.dialog("close"),yf(f[b],c)}),g.append(b("<li></li>").append(l))}a.append(g)}function Th(){var a,c=b("#dialogBonosNaturales");c.empty(),c.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!0,title:uF,width:In,height:Jn,maxHeight:Jn,closeOnEscape:!0,buttons:[{text:"Ok",click:function(){b(this).dialog("close")}}]});var d=b("<div></div>");for(a=0;5>a;a++){var e=b("<div></div>"),f=b("<div></div>");f.addClass(gq),f.append(Vo+" "+(a+1)+": ");var g=b("<div></div>");if(g.attr("id","habilidadNaturalElegida"+a),g.addClass(gq),-1!=SE.getBonoHabilidadNatural(a,SE.getNivel())){var h=SE.getBonoHabilidadNatural(a,SE.getNivel()).getItem();g.append(h)}f.append(g),e.append(f);var i=Qg("medium pretty primary btn",$o);e.append(i),i.on("click",{indice:a,nivel:SE.getNivel()},zi),d.append(e)}if(!SE.hasFlag(Yl)){var j=b("<div></div>"),k=b("<div></div>"),l=b("<div></div>");l.addClass(gq),l.append(Wo+": ");var m=b("<div></div>");if(m.addClass(gq),m.attr("id","bonificadorNaturalElegido"+Em),""!=SE.getBonificadorNatural(Em,1)){var n=SE.getBonificadorNatural(Em,1);m.append(n)}l.append(m),k.append(l);var o=Qg("medium pretty primary btn",$o);k.append(o),j.append(k),o.on("click",{tipo:Em},Di);var p=b("<div></div>"),q=b("<div></div>");q.addClass(gq),q.append(Xo+": ");var r=b("<div></div>");if(r.addClass(gq),r.attr("id","bonificadorNaturalElegido"+Fm),""!=SE.getBonificadorNatural(Fm,1)){var s=SE.getBonificadorNatural(Fm,1);r.append(s)}q.append(r),p.append(q);var t=Qg("medium pretty primary btn",$o);if(p.append(t),j.append(p),t.on("click",{tipo:Fm},Di),SE.hasFlag(Xl)){var u=b("<div></div>"),v=b("<div></div>");v.addClass(gq),v.append(Yo+": ");var w=b("<div></div>");if(w.addClass(gq),w.attr("id","bonificadorNaturalElegido"+Gm),""!=SE.getBonificadorNatural(Gm,1)){var x=SE.getBonificadorNatural(Gm,1);w.append(x)}v.append(w),u.append(v);var y=Qg("medium pretty primary btn",$o);u.append(y),j.append(u),y.on("click",{tipo:Gm},Di)}d.append(j)}if(SE.getCategoria().getNombre()==DD)for(a=0;5>a;a++){var z=b("<div></div>"),A=b("<div></div>");A.addClass(gq),A.append(Zo+" "+(a+1)+": ");var B=b("<div></div>");if(B.attr("id","habilidadNaturalElegidaNovel"+a),B.addClass(gq),""!=SE.getBonoNovel(a,SE.getNivel())){var C=SE.getBonoNovel(a,SE.getNivel());B.append(C)}A.append(B),z.append(A);var D=Qg("medium pretty primary btn",$o);D.css("cursor","pointer"),z.append(D),D.on("click",{indice:a,nivel:SE.getNivel()},Ai),d.append(z)}c.append(d),yi()}function Uh(a){var c=b("<div></div>"),d=Qg("small primary pretty btn","+"),e=Qg("small secondary pretty btn","-");return c.append(d).append(e),d.on("click",{nombreHabilidad:a,unidades:1},Oi),e.on("click",{nombreHabilidad:a,unidades:-1},Oi),c}function Vh(a){var c=b("<div></div>"),d=Qg("small info pretty btn","E");return c.append(d),d.on("click",{nombreHabilidad:a},bj),c}function Wh(a,b,c){var d,e,f,g,h=[],i=[];for(d=0;d<As.length;d++)for(f=As[d],i.push(new k(Bs[d],Bs[d]+"_tipo"+c)),e=0;e<f.length;e++)g=G(f[e]),(c==Gm||c==Em&&(g.getCaracteristica()==Ek||g.getCaracteristica()==Fk||g.getCaracteristica()==Gk||g.getCaracteristica()==Hk)||c==Fm&&(g.getCaracteristica()==Ik||g.getCaracteristica()==Kk||g.getCaracteristica()==Jk||g.getCaracteristica()==Lk))&&h.push(new k(g.getNombre(),Bs[d]+"_tipo"+c));Kg(h,b,{principal:a.principal,isDisabled:a.isDisabled},!0,i)}function Xh(){b("#logCambios").dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!1,title:jF,position:"center",closeOnEscape:!0,width:In,height:Jn,maxHeight:Jn}),localStorage.ultimosCambiosVistos=lF}function Yh(){b("#licencia").dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!1,title:kF,position:"center",closeOnEscape:!0,width:In,height:Jn,maxHeight:Jn})}function Zh(){if(PF){var a=confirm("¿Seguro? Esto sustituirá al personaje actual");if(!a)return}w(),SE=new Hf,SE.setRaza(lf(tz)),SE.setCategoria(ED),SE.GENERACION_INICIADA=mF,PF=!0,v(),vk(),Vg()}function $h(a){switch(a){case 1:ai();break;case 2:bi();break;case 3:ci();break;case 4:di();break;case 5:ei();break;default:throw HF}}function _h(a){switch(a){case 1:return BF;case 2:return CF;case 3:return DF;case 4:return EF;case 5:return FF;default:throw HF}}function ai(){for(var a=[],b=[],c=0;c<al.length;c++)a[c]=h();for(var d=30,e=0,f=0;f<a.length;f++){for(;a[f]<=3;)b.push(a[f]),a[f]=h();a[f]<=d&&(d=a[f],e=f)}b.push(d),a[e]=9,a.sort(),b.sort(),Wg(a,b)}function bi(){for(var a=[],b=[],c=0;c<al.length;c++){var d=h(),e=h();e>d?(b.push(d),a.push(e)):(b.push(e),a.push(d))}a.sort(),b.sort(),Wg(a,b)}function ci(){w();for(var a=0;a<al.length;a++)SE.setCaracteristica(al[a],h());v(),gi()}function di(){for(var a=0,b=0;7>b;b++)a+=h();Zg(a,!1)}function ei(){Kg([new k("45",""),new k("55",""),new k("65","")],{},{principal:fi,isDisabled:Lg},!1)}function fi(a){var b=parseInt(a.opcion);Zg(b,!0)}function gi(){w(),SE.setTamaño(SE.getCaracteristica(Ek)+SE.getCaracteristica(Hk)),SE.setApariencia(h()),SE.setFlag(Pl),v(),u(vn),SE.updateBonoyBases()}function hi(a){b("#dialogElegirRaza").dialog("close");var c=a.data.raza;SE.setRaza(c)}function ii(a){SE.setCategoria(a)}function ji(a){b("#dialogPuntosCreacion").dialog("close");var c=a.data.elementoPC,d=a.data.isVentaja,e=c.getCostes();if(e.length>1){for(var f=[],g=0;g<e.length;g++)f.push(new k(e[g],""));Kg(f,{elementoPC:c,isVentaja:d},{principal:ki,isDisabled:Lg},!0)}else ki({elementoPC:c,opcion:e[0],isVentaja:d})}function ki(a){var b=a.opcion,c=a.elementoPC,d=a.isVentaja,e=c.getElegir();e.length>0?Jg(e[0],{elementoPC:c,coste:b,isVentaja:d},{principal:pi,isDisabled:li}):pi({elementoPC:c,coste:b,opcion:"",isVentaja:d})}function li(a){var b=a.elementoPC,c=a.opcion;return!SE.puedeComprar(b,c)}function mi(a,b,d,e){var f=new Wc,g=0;e!=c&&(g=SE[e]),SE.getPCLibres()+g>=a?(SE.addVentaja(b,a,d,Dv,!0,f,!0),SE.updatePC()):alert(GF)}function ni(a,b,c){a.getGrupo()==Iv?mi(b,a,c,"PC_libres_don","don"):a.getGrupo()==Jv?mi(b,a,c,"PC_libres_psiquicas","psiquica"):mi(b,a,c)}function oi(a,b,c){for(var d=new Wc,e=SE.getDesventajas(),f=e.length,g=0;g<e.length;g++)e[g].getOrigen()!=Dv&&f--;3>f?(SE.addVentaja(a,b,c,Dv,!1,d,!0),SE.updatePC()):alert(IF)}function pi(a){var b=a.elementoPC,c=a.coste,d=a.opcion,e=a.isVentaja;if(a.isDesequilibrioSephirotico){var f=a.gruposOpciones;d="[";for(var g=0;g<f.length;g++)d+=f[g].opcionesElegidas[0],g+1<f.length&&(d+=",");d+="]"}e?ni(b,c,d):oi(b,c,d)}function qi(a){var b=a.data.elementoPCComprado;SE.removeVentaja(b)}function ri(a){return new r(SE.getHabilidadDePersonaje(yr).valorFinalActual()-SE.getCVGastados()>=a,"CVs libres insuficientes")}function si(){var a=!1,b=SE.getHabilidadDePersonaje(Zq).getPDinvertidos(),c=SE.getHabilidadDePersonaje(_q).getPDinvertidos(),d=SE.getHabilidadDePersonaje($q).getPDinvertidos();return(0==b||0==d&&0==c)&&(a=b>0?Zq:d>0?_q:$q),a}function ti(a,b,c,d){var e="";"habilidad"in b&&(e=b.habilidad.getNombre());var f=SE.getHabilidadDePersonaje(Zq).valorFinalActual(),g=SE.getHabilidadDePersonaje($q).valorFinalActual(),h=SE.getHabilidadDePersonaje(_q).valorFinalActual();console.log("ataque:"+f+" - parada:"+g+" - esquiva:"+h);var i=new r(!0);if(a==KF&&(e==Zq||e==$q||e==_q))if(si()==e)console.log("desarrollado solo ataque o defensa"),SE.gastoActualPDsAtaqueDefensa()+d>SE.maxPDsAtaqueDefensa()/2&&(i.puedeComprar=!1,i.mensajeFallo="Max PDs en Ataque/Defensa alcanzados (Mitad del normal por no desarrollar defensa)");else if(console.log("desarrollados ataque y defensa"),SE.gastoActualPDsAtaqueDefensa()+d<=SE.maxPDsAtaqueDefensa()){switch(console.log("gastoActualPDsAtaqueDefensa:"+SE.gastoActualPDsAtaqueDefensa()+" más coste: "+(SE.gastoActualPDsAtaqueDefensa()+d)),e){case Zq:f+=c*b.habilidad.getPuntosAComprar();break;case $q:g+=c*b.habilidad.getPuntosAComprar();break;default:h+=c*b.habilidad.getPuntosAComprar()}var j=g>h?g:h;console.log("ahora son -- ataque:"+f+" - defensa:"+j),console.log("ataque y defensa:"+Math.abs(f-j)),Math.abs(f-j)>OF&&(i.puedeComprar=!1,i.mensajeFallo="Ataque y Defensa base no pueden separarse en más de 50.")}else i.puedeComprar=!1,i.mensajeFallo="Max PDs en Ataque/Defensa alcanzados";return i}function ui(a,b,c){var d="";"habilidad"in b&&(d=b.habilidad.getNombre());var e=SE.getHabilidadDePersonaje(sr),f=new r(!0);return a==KF&&d==sr&&e.getPDinvertidos()+c>SE.maxPDsGrupoHabilidad(pr)/2&&(f.puedeComprar=!1,f.mensajeFallo="Max PDs en Proyección Mágica alcanzados (mitad del tope en sobrenaturales)"),f}function vi(a,b,c,d){var e="";"habilidad"in b&&(e=b.habilidad.getNombre());var f=SE.getHabilidadDePersonaje(zr),g=SE.getHabilidadDePersonaje(yr),h=new r(!0);return a==KF&&(e==zr?f.getPDinvertidos()+d>SE.maxPDsGrupoHabilidad(xr)/2&&(h.puedeComprar=!1,h.mensajeFallo="Max PDs en Proyección Psíquica alcanzados (mitad del tope en sobrenaturales)"):e==yr&&g.valorFinalActual()+c*b.habilidad.getPuntosAComprar()-SE.getCVGastados()<0&&(h.puedeComprar=!1,h.mensajeFallo="CVs ya gastados. Primero devuelvelos.")),h}function wi(a,b,c,d,e){var f="";"habilidad"in b&&(f=b.habilidad.getNombre());var g=new r(!0);if(f==Ar)g=ri(e);else if(SE.getPDLibres()>=e&&SE.getPDLibres()-e<=SE.getPDTotales()){if(!(SE.gastoActualPDsGrupoHabilidad(c)+e<=SE.maxPDsGrupoHabilidad(c)))return g.puedeComprar=!1,void(g.mensajeFallo="Max PDs en "+c+" alcanzados");switch(c){case Yq:g=ti(a,b,d,e);break;case pr:g=ui(a,b,e);break;case xr:g=vi(a,b,d,e)}}else g.puedeComprar=!1,g.mensajeFallo="PDs insuficientes";g.puedeComprar?xi(a,b,e):alert(g.mensajeFallo)}function xi(a,b,c){switch(a){case KF:SE.aumentaPDHabilidad(b.habilidad.getNombre(),c);break;case LF:var d=hf(b.tablaArmas.getNombre());d.getTipoTabla()==jz?SE.addTablaArmasEspecial(b.tablaArmas.getNombre(),b.opcion):SE.addTablaArmas(b.tablaArmas.getNombre()),SE.addPDLibres(-1*c);break;case MF:SE.hasArmaManejada(hx)||(SE.addArmaManejada(hx,!1),SE.setFlag(Gl)),SE.addArteMarcial(b.arteMarcial.getNombre()),SE.addPDLibres(-1*c),1==SE.numArtesMarciales()&&sf(!0);break;case NF:var e=SE.getHabilidadDePersonaje(b.habilidad.getNombre());e.CVsGastados+=c,c>0?e.bono+=10:e.bono-=10,SE.addCVGastados(c)}}function yi(){b("#dialogBonosNaturales").dialog("open")}function zi(a){var b=a.data.indice,c=a.data.nivel;Wh({principal:Bi,isDisabled:Gi},{indice:b,nivel:c})}function Ai(a){var b=a.data.indice,c=a.data.nivel;Wh({principal:Ci,isDisabled:Fi},{indice:b,nivel:c})}function Bi(a){var c=a.opcion,d=a.indice,e=new y(sq,c,10,"",!1,Mq,Gq);e.indice=d,e.nivel=1,SE.addBonoHabilidadNatural(e,d),b("#habilidadNaturalElegida"+d).empty().append(c)}function Ci(a){var c=a.opcion,d=a.indice,e=new y(sq,c,10,"",!1,Iq,Fq,DD);e.indice=d,e.nivel=1,SE.bonoNovel[SE.getNivel()][d]=c,SE.addBonoHabilidadNatural(e,d),b("#habilidadNaturalElegidaNovel"+d).empty().append(c)}function Di(a){var b=a.data.tipo;Wh({principal:Hi,isDisabled:Ei},{tipo:b},b)}function Ei(a){var b=!0;return SE.getBonoCaracteristica(G(a.opcion).getCaracteristica())<=0&&(b=!1),!b}function Fi(a){for(var b=!0,c=0;5>c;c++)c!=a.indice&&(b=b&&!(SE.getBonoNovel(c,a.nivel)==a.opcion));return!b}function Gi(a){for(var b=!0,c=0;5>c;c++)c!=a.indice&&-1!=SE.getBonoHabilidadNatural(c,a.nivel)&&(b=b&&!(SE.getBonoHabilidadNatural(c,a.nivel).getItem()==a.opcion));return!b}function Hi(a){var c=a.opcion,d=a.tipo;SE.addBonificadorNatural(c,d,1),b("#bonificadorNaturalElegido"+d).empty().append(c)}function Ii(a){var b=a.opcion;SE.addArmaManejada(b,!0)}function Ji(a,b,c){for(var d=a.getOpciones(),e=0;e<d.length;e++){var f=d[e];if(f==nz){var g=SE.getTiposArmasConocidos(!1);kh(g,{principal:Li,isDisabled:bf},{tablaArmas:a,tipoCompra:b,costeFinal:c})}else if(f==oz){var h=$e(SE.getTiposArmasConocidos(!0));kh(h,{principal:Li,isDisabled:bf},{tablaArmas:a,tipoCompra:b,costeFinal:c})}else if(f==pz){var i=_e(SE.getTiposArmasConocidos(!0));kh(i,{principal:Li,isDisabled:bf},{tablaArmas:a,tipoCompra:b,costeFinal:c})}else if(f==qz){var j=af();jh(j,{principal:Li,isDisabled:cf},{tablaArmas:a,tipoCompra:b,costeFinal:c})}}}function Ki(a){var b=a.opcion,c=hf(b),d=Yq,e=c.getCoste();switch(c.getCategoriaTabla()){case gz:d=pr;break;case hz:d=xr;break;default:d=Yq,SE.getCategoria().getNombre()==yD&&(e/=2)}c.getTipoTabla()==jz?Ji(c,d,e):wi(LF,{tablaArmas:c},d,1,e)}function Li(a){wi(LF,{tablaArmas:a.tablaArmas,opcion:a.opcion},a.tipoCompra,1,a.costeFinal)}function Mi(a){var b=a.data.arteMarcial,c=a.data.esPrimera;c&&sf(!1),SE.hasFlag(Gl)&&SE.removeArmaManejada(hx),SE.addPDLibres(pf(c)),SE.removeArteMarcial(b.getNombre())}function Ni(a){var b,c,d=a.opcion,e=of(d);b=0==SE.numArtesMarciales(),c=pf(b),wi(MF,{arteMarcial:e},Yq,1,c)}function Oi(a){var b,c,d=a.data.nombreHabilidad,e=a.data.unidades,f=SE.getHabilidadDePersonaje(d),g=KF;if(d==Ar){if(e>0){if(b=zb(f.CVsGastados),-1==b)return void alert("No se puede aumentar más")}else if(b=Ab(f.CVsGastados),-1==b)return void alert("No se puede disminuir más");c=b*f.getHabilidad().getPuntosAComprar()*e,g=NF}else if(b=SE.getCoste(f.getHabilidad().getNombre(),f.getHabilidad().isPrincipal()),c=b*f.getHabilidad().getPuntosAComprar()*e/f.getHabilidad().getPuntosPorCoste(),0>c&&f.getPDinvertidosActuales()<Math.abs(c))return void alert("No se puede disminuir más");wi(g,{habilidad:f.getHabilidad()},f.getHabilidad().getTipo(),e,c)}function Pi(){for(var a=[],b=1;10>=b;b++)a.push(new k(b,""));Kg(a,{},{principal:Zi,isDisabled:Lg},!0)}function Qi(){alert("Con tu tamaño, tu peso debería ser de "+Ri(SE.getTamaño())),Jg(yv,{},{principal:$i,isDisabled:Lg})}function Ri(a){switch(a){case 2:return"5 a 15 kg";case 3:return"10 a 20 kg";case 4:return"20 a 30 kg";case 5:return"20 a 50 kg";case 6:return"30 a 50 kg";case 7:return"30 a 60 kg";case 8:return"35 a 70 kg";case 9:return"40 a 80 kg";case 10:return"40 a 90 kg";case 11:return"50 a 100 kg";case 12:return"50 a 120 kg";case 13:return"50 a 140 kg";case 14:return"50 a 150 kg";case 15:return"60 a 180 kg";case 16:return"70 a 220 kg";case 17:return"80 a 240 kg";case 18:return"90 a 260 kg";case 19:return"100 a 280 kg";case 20:return"110 a 320 kg";case 21:return"120 a 450 kg";default:return"más de 400 kg"}}function Si(a){switch(a){case 2:return"0’20 a 0’60 m";case 3:return"0’40 a 0’60 m";case 4:return"0’60 a 1’00 m";case 5:return"0’80 a 1’20 m";case 6:return"1’00 a 1’40 m";case 7:return"1’10 a 1’50 m";case 8:return"1’20 a 1’60 m";case 9:return"1’30 a 1’60 m";case 10:return"1’40 a 1’70 m";case 11:return"1’40 a 1’80 m";case 12:return"1’50 a 1’80 m";case 13:return"1’50 a 1’80 m";case 14:return"1’60 a 1’90 m";case 15:return"1’60 a 2’00 m";case 16:return"1’70 a 2’10 m";case 17:return"1’70 a 2’10 m";case 18:return"1’80 a 2’20 m";case 19:return"1’90 a 2’30 m";case 20:return"2’00 a 2’40 m";case 21:return"2’10 a 2’60 m";default:return"más de 2'5 m"}}function Ti(){alert("Con tu tamaño, tu altura debería ser de "+Si(SE.getTamaño())),Jg(yv,{},{principal:_i,isDisabled:Lg})}function Ui(){alert("Introduce la nueva cantidad de PX"),Jg(yv,{},{principal:aj,isDisabled:Lg})}function Vi(){Kg([new k(yl,""),new k(zl)],{},{principal:Yi,isDisabled:Lg},!0)}function Wi(){Jg(yv,{},{principal:Xi,isDisabled:Lg})}function Xi(a){SE.setNombre(a.opcion)}function Yi(a){SE.setSexo(a.opcion)}function Zi(a){SE.setApariencia(a.opcion),SE.removeFlag(Pl)}function $i(a){SE.setPeso(a.opcion)}function _i(a){SE.setAltura(a.opcion)}function aj(a){isNaN(a.opcion)||SE.setPX(a.opcion)}function bj(a){var b=G(a.data.nombreHabilidad);alert("Ejemplos de especialidades "+b.getEspecializacionesPosibles()),Jg(yv,{nombreHabilidad:a.data.nombreHabilidad},{principal:cj,isDisabled:Lg})}function cj(a){a.opcion==c&&(a.opcion=""),SE.setEspecializacionHabilidadSecundaria(a.nombreHabilidad,a.opcion)}function dj(){SE.nivelGeneracionTerminada=SE.getNivel(),SE.GENERACION_INICIADA=oF,vk()}function ej(){var a=!0;return a}function fj(a,b){var c=a.getCategoria(),d=Gf(c,b),e=a.getNivel(),f=e+2;a.hasFlag(Wl)&&(f=e+1,d/=2),a.getPDLibres()>=d?(a.addPDLibres(-1*d),a.cambioCategoria=f,a.proximaCategoria=b):alert("PDs insuficientes")}function gj(){var a=x("");a.prop("id",TE),a.empty(),a.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!0,closeOnEscape:!0,title:VE,width:In,height:Jn,maxHeight:Jn});for(var c=b("<ul></ul>").addClass("four_up tiles"),d=0;d<aD.length;d++){var e=aD[d],f=Qg("big primary btn pretty",e.getNombre()+"["+Gf(SE.getCategoria(),e)+" PD]",!Ef(e.getNombre()));f.css("width","100%"),c.append(b("<li></li>").append(f)),f.on("click",{categoria:e},function(b){a.dialog("close"),fj(SE,b.data.categoria)}),f.on("mouseenter",{categoria:e},fh)}a.append(c);var g=b("<div></div>");g.addClass(dq),g.attr("id",UE),a.append(g)}function hj(){var a=SE.getNivel()+SE.getRaza().getModNivel(),b=kj(SE.getPX());b>a&&(SE.GENERACION_INICIADA=pF,SE.subeNivel(b-a))}function ij(a){SE.hasAumentoDeCaracteristicasLibre()&&(SE.gastaAumentoDeCaracteristicas(a.data.caracteristica),SE.setCaracteristica(a.data.caracteristica,SE.getCaracteristica(a.data.caracteristica)+1))}function jj(a){SE.recuperaAumentoDeCaracteristicas(a.data.caracteristica)&&SE.setCaracteristica(a.data.caracteristica,SE.getCaracteristica(a.data.caracteristica)-1)}function kj(a){var b=0,c=0;if(a>=3675){var d=a-3675;c=1+Math.floor(d/450),a=3674}return 100>a?b=1:225>a?b=2:375>a?b=3:550>a?b=4:750>a?b=5:975>a?b=6:1225>a?b=7:1500>a?b=8:1800>a?b=9:2125>a?b=10:2475>a?b=11:2850>a?b=12:3250>a?b=13:3675>a&&(b=14),b+=c}function lj(a){var b=0;if(0>a)throw QF;return b=0==a?400:600+100*(a-1)}function mj(a){var b=0;return b=2>a?0:Math.floor(a/2)}function nj(a,b){var c,d;for(d in a)Object.prototype.hasOwnProperty.call(a,d)&&(c=a[d],b.call(a,d,c))}function oj(){var a=b("#dialogFileSystem");a.empty();var c=JSON.stringify(SE),d=b("<div></div>"),e=x(cq).append("Método base: Servidor de personajes"),f=x(jq),g=x().append("Si tienes conexión de internet, puedes guardar tu personaje en el servidor de personajes de Anima: Único."),h=b("<form name='salvaPersonaje' action='http://www.helechaloscuro.net/cake/personajes/salva' method='post' target='_blank'><input type='text' name='nombre' hidden value='"+SE.getNombre()+"'/> <input type='text' name='categoria' hidden value='"+SE.getStringCategoria()+"'/> <input type='text' name='nivel' hidden value='"+SE.getNivel()+"'/> <input type='text' name='raza' hidden value='"+SE.getRaza().toString()+"'/> <input type='text' name='json' hidden value='"+c+"'/> <input type='submit' value='Guardar'/></form>");a.append(d.append(e).append(f.append(g).append(h)));var i=b("<div></div>"),j=x(cq).append("Método 1: Enlace de descarga"),k=x(jq),l=x().append("En algunos navegadores puedes descargarlo directamente como fichero con el siguiente enlace:"),m=b("<a href='#' onclick='descarga();'>Descarga en fichero de texto</a>");a.append(i.append(j).append(k.append(l).append(m)));var n=b("<div></div>"),o=x(cq).append("Método 2: Copia y pega"),p=x(jq),q=x().append("Si lo anterior no te funciona, puedes copiar el siguiente texto (¡entero! No te dejes nada) a algún fichero de texto y guardarlo manualmente.  No es necesario quele pongas .animaUnico como extensión para que la aplicación pueda cargarlo más tarde. Si lo prefieres, pulsa el botón para facilitar el copiado."),r=b("<textarea></textarea>").append(c),s=Pg("Copia",{texto:c},pj);a.append(n.append(o).append(p.append(q).append(r).append(s)));var t=b("<div></div>"),u=x(cq).append("Método 3: Almacenamiento Web"),v=x(jq),w="";w=x().append("undefined"!=typeof Storage?"Con este método el personaje se almacenará internamente en tu ordenador, en el navegador web y luego podrás cargarlo desde allí.":"Tu navegador no permite usar este método. Lo siento.");var y=Pg("Guarda en el navegador",{texto:c},rj);a.append(t.append(u).append(v.append(w).append(y))),a.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!1,closeOnEscape:!0,title:"Guardar personaje",width:500,height:500})}function pj(a){window.prompt("Ahora copia al portapapeles pulsando Control+C (o Cmd+C) y luego pégalo donde quieras con Control+v (o Cmd+v)",a.data.texto)}function qj(){var a=b("#dialogFileSystem");a.empty();var c=b("<div></div>"),d=x(cq).append("Método base: Servidor de personajes"),e=x(jq),f=x().append("Si tienes conexión de internet, puedes cargar un personaje del servidor de personajes de Anima: Único."),g=b("<a href='http://helechaloscuro.net/cake/personajes/index' target='_blank'>Accede al servidor de personajes</a>");a.append(c.append(d).append(e.append(f).append(g)));var h=b("<div></div>"),i=x(cq).append("Método 1: Carga el fichero"),j=x(jq),k=x().append("En algunos navegadores puedes cargar directamente el fichero de texto .animaUnico:"),l=b("<input>");l.attr("type","file"),l.attr("id","loadCharacterFile"),l.attr("name","file"),l.attr("accept",".animaUnico"),a.append(h.append(i).append(j.append(k).append(l))),document.getElementById("loadCharacterFile").addEventListener("change",function(b){a.dialog("close"),vj(b)},!1);var m=b("<div></div>"),n=x(cq).append("Método 2: Copia y pega"),o=x(jq),p=x().append("Si lo anterior no te funciona, puedes copiar el texto que te descargaste y pegarlo en el siguiente cuadro de texto. Luego dale al botón cargar."),q=b("<textarea></textarea>").attr("id","zonaCargaPersonaje"),r=Pg("Carga",{},uj);a.append(m.append(n).append(o.append(p).append(q).append(r)));var s=b("<div></div>"),t=x(cq).append("Método 3: Almacenamiento Web"),u=x(jq),v="",w=x("");"undefined"!=typeof Storage?(v=x().append("Con este método el personaje se carga internamente de tu ordenador, en el navegador web. En estos momentos sólo se carga el último guardado"),localStorage.getItem("numPersonajes")&&w.append(sj())):v=x().append("Tu navegador no permite usar este método. Lo siento."),a.append(s.append(t).append(u.append(v).append(w))),a.dialog({modal:!0,autoOpen:!0,draggable:!0,resizable:!1,closeOnEscape:!0,title:"Cargar personaje",width:500,height:500})}function rj(a){var b=0;b=localStorage.getItem("numPersonajes")?Number(localStorage.getItem("numPersonajes"))+1:1;var c="per"+b;localStorage.setItem("numPersonajes",b),localStorage.setItem(c,a.data.texto),localStorage.setItem(c+"_Nombre",SE.getNombre()),localStorage.setItem(c+"_Categoria",SE.getStringCategoria()),localStorage.setItem(c+"_Raza",SE.getRaza()),localStorage.setItem(c+"_Nivel",SE.getNivel())}function sj(){for(var a=Number(localStorage.getItem("numPersonajes")),b=x(jq),c=1;a>=c;c++){var d=localStorage.getItem("per"+c),e=localStorage.getItem("per"+c+"_Nombre"),f=localStorage.getItem("per"+c+"_Categoria"),g=localStorage.getItem("per"+c+"_Raza"),h=(localStorage.getItem("per"+c+"_Nivel"),x(gq).append(e+" ["+f+" "+g+"]")),i=Pg("Carga",{personaje:d},tj);b.append(h).append(i)}return b}function tj(a){uk(a.data.personaje)}function uj(){var a=b("#zonaCargaPersonaje")[0].value;uk(a)}function vj(a){for(var b,c=0;c<a.target.files.length;c++){var d=a.target.files[c];b=new FileReader,b.onload=function(){return function(a){uk(a.target.result)}}(d),b.readAsText(d)}}function wj(a){for(var b=[],c=0;c<a.length;c++){var d=new uf("",0);xj(d,a[c]),b.push(d)}return b}function xj(a,b){nj(b,function(b,c){switch(b){case"dones":a[b]=yj(c);break;default:a[b]=c}})}function yj(a){for(var b=[],c=0;c<a.length;c++){var d=new wf("","",0,0,[],[]);zj(d,a[c])}return b}function zj(a,b){nj(b,function(b,c){a[b]=c})}function Aj(a){for(var b=[],c=0;c<a.length;c++){var d=new X(ab(Us),0);Bj(d,a[c]),b.push(d)}return b}function Bj(a,b){nj(b,function(b,c){switch(b){case"via":a[b]=Cj(c);break;case"conjurosLibres":a[b]=Ej(c);break;default:a[b]=c}})}function Cj(a){return ab(a)}function Dj(a){for(var b=[],c=0;c<a.length;c++){var d=Df(a[c]);b.push(d)}return b}function Ej(a){for(var b=[],c=0;c<a.length;c++){var d=new W("",1,"",[],"",new Y(0,0,0,0,!1),new Y(0,0,0,0,!1),new Y(0,0,0,0,!1),new Y(0,0,0,0,!1));Fj(d,a[c]),b.push(d)}return b}function Fj(a,b){nj(b,function(b,c){switch(b){case"mantenimiento":if(0==c){a[b]=c;break}case"costesZeon":case"intReq":case"objetivo":a[b]=new Y(0,0,0,0,!1),zj(a[b],c);break;default:a[b]=c}})}function Gj(a){for(var b=[],c=0;c<a.length;c++){var d=new y("","",0,"",!1,"","");zj(d,a[c]),b.push(d)}return b}function Hj(a){for(var b=[],c=0;c<a.length;c++){var d=new Cf("",0,!1,"");zj(d,a[c]),b.push(d)}return b}function Ij(a){for(var b=[],c=0;c<a.length;c++){var d=new z;zj(d,a[c]),b.push(d)}return b}function Jj(a){for(var b=[],c=new Vc("","","","",[],[],!1,[],null,""),d=0;d<a.length;d++){var e=new Xc(c,0,"","");Kj(e,a[d]),b.push(e)}return b}function Kj(a,b){nj(b,function(b,c){switch(b){case"ventaja":a[b]=Lj(c);break;case"repartoCostes":a[b]=new Wc,zj(a[b],c);break;default:a[b]=c}})}function Lj(a){return ad(a)}function Mj(a){for(var b=[],c=0;c<a.length;c++){var d=new A("","");zj(d,a[c]),b.push(d)}return b}function Nj(a){for(var b=[],c=0;c<a.length;c++){var d=new D(G($r));Oj(d,a[c]),b.push(d),SE[d.getNombre()]=d}return b}function Oj(a,b){nj(b,function(b,c){switch(b){case"habilidad":a[b]=Pj(c);break;default:a[b]=c}})}function Pj(a){return G(a)}function Qj(a){for(var b=[],c=0;c<a.length;c++)b.push(Rj(a[c]));return b}function Rj(a){return Ye(a)}function Sj(a){for(var b=[],c=new ff("","","",0,"",[],""),d=0;d<a.length;d++){var e=new gf(c,"");Tj(e,a[d]),b.push(e)}return b}function Tj(a,b){nj(b,function(b,c){switch(b){case"tablaArmas":a[b]=hf(c);break;default:a[b]=c}})}function Uj(a){for(var b=[],c=0;c<a.length;c++)b.push(Vj(a[c]));return b}function Vj(a){var b,c;nj(a,function(a,d){switch(a){case"arteMarcial":b=d;break;case"anulable":c=d}});var d=new nf(of(b));return d.anulable=c,d}function Wj(a){for(var b=[],c=0;c<a.length;c++){var d=new Ub(Wb(Nu),!1,!1);Xj(d,a[c]),b.push(d)}return b}function Xj(a,b){nj(b,function(b,c){switch(b){case"habilidadKi":a[b]=Yj(c);break;default:a[b]=c}})}function Yj(a){return Wb(a)}function Zj(a){for(var b=[],c=0;c<a.length;c++){var d=new Nb(1);$j(d,a[c]),b.push(d)}return b}function $j(a,b){nj(b,function(b,c){switch(b){case"efectoPrimario":0==c?a[b]=!1:(a[b]=new Ob,ak(a[b],c),a.allEfectos[b]=a[b]);break;case"efectosSecundarios":a[b]=_j(c,a);break;case"desventajas":a[b]=hk(c);break;case"ataduraElemental":a[b]=new Sb([]),zj(a[b],c);break;case"costeKi":case"costeMantenimiento":0==c?a[b]=!1:(a[b]=new Tb(0,0,0,0,0,0,Gk),zj(a[b],c));break;default:a[b]=c}})}function _j(a,b){for(var c=[],d=0;d<a.length;d++){var e=new Ob;ak(e,a[d]),b.allEfectos[e.getNombre()]=e,c.push(e)}return c}function ak(a,b){nj(b,function(b,c){switch(b){case"efectoTecnica":a[b]=bk(c);break;case"nivelElegido":a[b]=ck(c);break;case"ventajasOpcionalesElegidas":a[b]=dk(c);break;case"caracSec":a[b]=kk(c);break;case"costeKi":case"costeMantenimiento":a[b]=new Tb(0,0,0,0,0,0,Gk),zj(a[b],c);break;default:a[b]=c}})}function bk(a){return Xb(a)}function ck(a){var b=a.split("--"),c=b[0],d=b[1],e=Xb(d);return e.getNivelEfectoPorNombre(c)}function dk(a){for(var b=[],c=0;c<a.length;c++){var d=new Pb;ek(d,a[c]),b.push(d)}return b}function ek(a,b){nj(b,function(b,c){switch(b){case"ventajaTecnica":a[b]=fk(c);break;case"nivelElegido":a[b]=gk(c);
break;default:a[b]=c}})}function fk(a){var b=a.split("--"),c=b[0],d=b[1],e=Xb(d);return e.getVentajaOpcionalPorNombre(c)}function gk(a){var b=a.split("--"),c=b[0],d=b[1],e=b[2],f=Xb(e),g=f.getVentajaOpcionalPorNombre(d);return g.getNivelPorNombre(c)}function hk(a){for(var b=[],c=0;c<a.length;c++){var d=new Qb(new Mb("","",[],[],0,0));ik(d,a[c]),b.push(d)}return b}function ik(a,b){nj(b,function(b,c){switch(b){case"desventajaTecnica":a[b]=jk(c);break;case"ataduraElemental":a[b]=new Sb([]),zj(a[b],c);break;default:a[b]=c}})}function jk(a){return Yb(a)}function kk(a){for(var b=[],c=0;c<a.length;c++){var d=new Rb("",0);zj(d,a[c]),b.push(d)}return b}function lk(a){for(var b=[],c=0;c<a.length;c++){var d=new pb("","");mk(d,a[c]),b.push(d)}return b}function mk(a,b){nj(b,function(b,c){switch(b){case"poderesPsiquicos":a[b]=nk(c);break;default:a[b]=c}})}function nk(a){for(var b=[],c=0;c<a.length;c++)b.push(ok(a[c]));return b}function ok(a){var b=a.split("--"),c=b[0],d=b[1],e=tb(d);return ub(e,c)}function pk(a){for(var b=[],c=0;c<a.length;c++){var d=new sb;qk(d,a[c]),b.push(d)}return b}function qk(a,b){nj(b,function(b,c){switch(b){case"poder":a[b]=ok(c);break;case"disciplina":a[b]=new pb("",""),mk(a[b],c);break;default:a[b]=c}})}function rk(a){var b=new Te(0,0,0);return zj(b,a),b}function sk(a){var b={nivel1:0,nivel2:0,nivel3:0};return zj(b,a),b}function tk(a){var b=new Jf("",[0,0,0,0,0,0],!1);return zj(b,a),b}function uk(a){SE=new Hf;var b;RF(a,function(a,c){switch(a){case"raza":SE.raza=lf(c);break;case"categoria":case"proximaCategoria":SE[a]=Df(c);break;case"categoriasPorNiveles":SE.categoriasPorNiveles=Dj(c);break;case"armaduraNatural":case"capaArmaduraDura":case"capaArmaduraBlanda1":case"capaArmaduraBlanda2":SE[a]=tk(c);break;case"elan":SE[a]=wj(c);break;case"viasMagia":SE[a]=Aj(c);break;case"conjurosSueltos":SE[a]=Ej(c);break;case"bonos":SE[a]=Gj(c);break;case"costesReducidos":SE[a]=Hj(c);break;case"bonificadoresNaturales":SE[a]=Ij(c);break;case"ventajas":case"desventajas":SE[a]=Jj(c);break;case"prohibidos":SE[a]=Mj(c);break;case"allHabilidades":b=c;break;case"manejoArmas":SE[a]=Qj(c);break;case"tablasArmas":SE[a]=Sj(c);break;case"artesMarciales":SE[a]=Uj(c);break;case"habilidadesKi":SE[a]=Wj(c);break;case"tecnicasKi":SE[a]=Zj(c);break;case"numTecnicas":SE.numTecnicas=sk(c);break;case"disciplinasPsiquicas":SE[a]=lk(c);break;case"poderesPsiquicosDominados":SE[a]=pk(c);break;case"dinero":SE[a]=rk(c);break;default:SE[a]=c}}),SE.allHabilidades=Nj(b),vk(),PF=!0}function vk(){Qf(SE)}var wk=!0,xk="FLAG_PANTALLA_ENABLED",yk=!0,zk=b(document),Ak=20,Bk=40,Ck="PD",Dk="%",Ek="Fuerza",Fk="Destreza",Gk="Agilidad",Hk="Constitución",Ik="Inteligencia",Jk="Poder",Kk="Voluntad",Lk="Percepción",Mk="FUE",Nk="DES",Ok="AGI",Pk="CON",Qk="INT",Rk="POD",Sk="VOL",Tk="PER",Uk=0,Vk=1,Wk=2,Xk=3,Yk=4,Zk=5,$k=6,_k=7,al=[Gk,Hk,Fk,Ek,Ik,Lk,Jk,Kk],bl=[Ok,Pk,Nk,Mk,Qk,Tk,Rk,Sk],cl="Error: Nombre de característica erróneo",dl="Error: Valor de característica fuera de rango";g.prototype={constructor:g,isMixto:function(){return this.esMixto},toString:function(){return mixto?this.arquetipo1+"/"+this.arquetipo2:this.arquetipo1},comparteArquetipoMixto:function(a){if(this.isMixto()){var b=!1;return this.arquetipo1==a.arquetipo1&&(b=!0),this.arquetipo2==a.arquetipo1&&(b=!0),a.isMixto()&&(this.arquetipo1==a.arquetipo2&&(b=!0),this.arquetipo2==a.arquetipo2&&(b=!0)),b}return!1}};var el="Luchador",fl="Místico",gl="Psíquico",hl="Acechador",il="Domine",jl="Sin Categoría",kl=new g(!1,el),ll=new g(!1,fl),ml=new g(!1,gl),nl=new g(!1,hl),ol=new g(!1,il),pl=new g(!1,jl),ql=new g(!0,el,il),rl=new g(!0,el,hl),sl=new g(!0,fl,hl),tl=new g(!0,fl,gl),ul=new g(!0,el,fl),vl=new g(!0,el,gl),wl="Múltiplos de vida",xl="Error: Nombre de habilidad erróneo",yl="Hombre",zl="Mujer",Al="FLAG_CONOCEDOR_TODAS_MATERIAS",Bl="FLAG_DON",Cl="FLAG_DESARROLLAR_VALORACION_MAGICA",Dl="FLAG_LAZO_EXISTENCIAL",El="FLAG_PSIQUICO",Fl="FLAG_ACCESO_TODAS_DISCIPLINAS",Gl="FLAG_SIN_ARMAS_POR_ARTES_MARCIALES",Hl="FLAG_PRIMERA_DISCIPLINA_OBLIGATORIA",Il="FLAG_PUEDE_USAR_PODERES_MONSTRUO",Jl="FLAG_RE_A_MITAD",Kl="FLAG_RV_A_MITAD",Ll="FLAG_RF_A_MITAD",Ml="FLAG_RM_A_MITAD",Nl="FLAG_RP_A_MITAD",Ol="FLAG_IGNORAR_DESVENTAJAS",Pl="FLAG_APARIENCIA_ALEATORIA",Ql="FLAG_APARIENCIA_MINIMA_7",Rl="FLAG_PUEDE_USAR_TECNICAS",Sl="FLAG_DETECCION_KI",Tl="FLAG_OCULTACION_KI",Ul="FLAG_INHUMANIDAD",Vl="FLAG_ZEN",Wl="FLAG_VERSATIL",Xl="FLAG_BONO_NATURAL_EXTRA",Yl="FLAG_SIN_BONIFICADOR_NATURAL",Zl="FLAG_MAGIA_OPUESTA",$l="Rutinario",_l="RUT",am=20,bm="Fácil",cm="FAC",dm=40,em="Media",fm="MED",gm=80,hm="Difícil",im="DIF",jm=120,km="Muy Difícil",lm="MDF",mm=120,nm="Absurdo",om="ABS",pm=180,qm="Casi Imposible",rm="CIM",sm=240,tm="Imposible",um="IMP",vm=280,wm="Inhumano",xm="INH",ym=320,zm="Zen",Am="ZEN",Bm=440,Cm="Error: dificultad desconocida",Dm=[$l,bm,em,hm,km,nm,qm,tm,wm,zm],Em="fisico",Fm="mental",Gm="extra",Hm=["Perros","Lobos","Loros","Elefantes","Caballos"],Im=["Matemáticas","Mecánica","Astronomía","Filosofía"],Jm=["Abel","Guerras de la Cruz","Imperio de Abel","Fábulas","Economía"],Km=["Pintura","Escultura"],Lm=["Baile de Salón","Bailes de Espheria","Bailes Antiguos"],Mm=["Armaduras pesadas","Espadas","Utensilios de cocina"],Nm=["Flauta","Clavicordio","Arpa"],Om=["Juegos de cartas","Malabares"],Pm="FILo",Qm="CONtundente",Rm="PENetrante",Sm="CALor",Tm="FRIo",Um="ELEctricidad",Vm="ENErgía",Wm="FIL",Xm="CON",Ym="PEN",Zm="CAL",$m="FRI",_m="ELE",an="ENE",bn=[Wm,Xm,Ym,Zm,$m,_m,an],cn="Disponibilidad normal",dn="Disponibilidad B",en="Disponibilidad A",fn="Activa",gn="Pasiva",hn=1,jn=.5,kn="BONO_FUE",ln="BONO_POD",mn="BONO_FUE_REDONDEADO",nn="BONO_POD_REDONDEADO",on="BONO_NO",pn="ROTURA_PLUS_10",qn="TA_ENEMIGA_MENOS_2",rn={},sn=20,tn="EVENT_CHARACTER_SECCION_PERSONALES",un="EVENT_CHARACTER_SECCION_CAPACIDADES",vn="EVENT_CHARACTER_SECCION_CARACTERISTICAS",wn="EVENT_CHARACTER_SECCION_DESARROLLO",xn="EVENT_CHARACTER_SECCION_VENTAJAS",yn="EVENT_CHARACTER_SECCION_DESVENTAJAS",zn="EVENT_CHARACTER_SECCION_RESISTENCIAS",An="EVENT_CHARACTER_SECCION_COMBATE_GENERAL",Bn="EVENT_CHARACTER_SECCION_KI",Cn="EVENT_CHARACTER_SECCION_MAGIA",Dn="EVENT_CHARACTER_SECCION_PSIQUICA",En="EVENT_CHARACTER_SECCION_ELAN",Fn="EVENT_CHARACTER_SECCION_ARTES_MARCIALES",Gn="EVENT_CHARACTER_SECCION_SECUNDARIAS",Hn=!0,In=900,Jn=700,Kn=900,Ln="Nombre",Mn="Sexo",Nn="Raza",On="Peso",Pn="Altura",Qn="Categoría",Rn="Puntos de Cansancio",Sn="Tipo de Movimiento",Tn="Puntos de vida",Un="Apariencia",Vn="Tamaño",Wn="Regeneración",Xn="Puntos de Desarrollo",Yn="Puntos de Creación",Zn="Aumentos de características",$n="sin usar",_n="del Don",ao="de psíquica",bo="Nivel",co="Puntos de Experiencia",eo="Arquetipo",fo="Turno",go="Tablas",ho="Artes Marciales",io="CM",jo="Armadura",ko="Armas manejadas",lo="Capacidades físicas",mo="Desarrollo del personaje",no="Elan",oo="Descripción",po="Coste de Ki",qo="Técnica mantenida",ro="Coste de mantenimiento",so="PDs en combate",to="PDs en ataque y defensa",uo="PDs en sobrenaturales",vo="PDs en psíquicas",wo="PDs en secundarias",xo="Múltiplo de vida",yo="PV por nivel",zo="Turno por nivel",Ao="CM por nivel",Bo="Niveles para CV",Co="Máximo en Combate",Do="Ataque",Eo="Parada",Fo="Esquiva",Go="Llevar Armadura",Ho="Ki",Io="Acumulación de Ki",Jo="Ki Agilidad",Ko="Ac. de Ki Agilidad",Lo="Ki Destreza",Mo="Ac. de Ki Destreza",No="Ki Fuerza",Oo="Ac. de Ki Fuerza",Po="Ki Constitución",Qo="Ac. de Ki Constitución",Ro="Ki Poder",So="Ac. de Ki Poder",To="Ki Voluntad",Uo="Ac. de Ki Voluntad",Vo="Habilidad Natural (+10)",Wo="Bonificador natural físico (añadir bono de característica)",Xo="Bonificador natural mental (añadir bono de característica)",Yo="Bonificador natural extra (añadir bono de característica)",Zo="Bono innato de Novel (+10)",$o="?",_o="Máximo en Sobrenatural",ap="Zeon",bp="ACT",cp="Proyección Mágica",dp="Convocar",ep="Dominar",fp="Atar",gp="Desconvocar",hp="Máximo en Psíquica",ip="CV",jp="Proyección Psíquica",kp="Potencial Psíquico",lp="Atléticas",mp="Sociales",np="Perceptivas",op="Intelectuales",pp="Vigor",qp="Subterfugio",rp="Creativas",sp="Costes Reducidos",tp="Bonos innatos",up="por nivel",vp="Ninguno",wp="Resistencia Física",xp="Resistencia contra Enfermedades",yp="Resistencia contra Venenos",zp="Resistencia Mágica",Ap="Resistencia Psíquica",Bp="Datos Personales",Cp="Resistencias",Dp="Ventajas",Ep="Desventajas",Fp="Características",Gp="Característica",Hp="Valor",Ip="Bono",Jp="Habilidades de Combate",Kp="Dominios del Ki",Lp="Magia",Mp="Convocatoria",Np="Poderes Psíquicos",Op="Habilidades Secundarias",Pp="recuadroDatos",Qp="campoDatosPersonales",Rp="valorPersonales",Sp="campoCaracteristicas",Tp="etiquetaCaracteristicas",Up="valorCaracteristicas",Vp="bonoCaracteristicas",Wp="botonFilaEfectoTecnica",Xp="etiquetaEfectoTecnica",Yp="contenidoRecuadro",Zp="listaInline",$p="etiquetaCampoHoja",_p="costeCampoHoja",aq="tabulado",bq="tituloSeccion",cq="subtituloSeccion",dq="explicacionCategoria",eq="muestraBlock",fq="textoFuerte",gq="muestraInline",hq="textoItalic",iq="textoSmaller",jq="textoSmall",kq="floatLeft",lq="textCenter",mq="valorCaracteristicaTachado",nq="Resistencia Física",oq="Resistencia a Enfermedades",pq="Resistencia a Venenos",qq="Resistencia Mágica",rq="Resistencia Psíquica",sq="bono a habilidad",tq="bono al turno",uq="bono al daño",vq="bono a la entereza",wq="bono a la rotura",xq="bono al tamaño",yq="bono a Resistencia",zq="bono a los pv",Aq="bono a la regeneración",Bq="bono al CM",Cq="bono a una habilidad de ki",Dq="bono a la INT para aprender conjuros",Eq="bono a la magia innata",Fq="Categoría",Gq="Habilidad Natural",Hq="Bonificador Natural",Iq="Innato",Jq="Característica",Kq="Especial",Lq="Categoría",Mq="Natural",Nq="CATEGORIA_BONO_CUALQUIERA";y.prototype={constructor:y,getTipo:function(){return this.tipo},getItem:function(){return this.item},getBono:function(){return this.bono},getBonoString:function(){return this.bono<0?""+this.bono:"+"+this.bono},getBonoParaNivel:function(a,b){var c;if(this.porNivel)if(this.origen==Fq){var d=b.getNivelesDeCategoriaHastaNivel(this.categoriaPersonaje,a);c=this.bono*d}else c=this.bono*a;else c=this.bono;return c},getOpcion:function(){return this.opcion},getCategoria:function(){return this.categoria},getOrigen:function(){return this.origen},isPorNivel:function(){return this.porNivel}},z.prototype={constructor:z,getFisico:function(){return this[Em]},setFisico:function(a){this[Em]=a},getMental:function(){return this[Fm]},setMental:function(a){this[Fm]=a},getExtra:function(){return this[Gm]},setExtra:function(a){this[Gm]=a}},A.prototype={constructor:A,getTipo:function(){return this.tipo},getNombre:function(){return this.nombre},getCandados:function(){return this.candados},setCandados:function(a){this.candados=a},abreCandado:function(){this.candados--},cierraCandado:function(){this.candados++},hasOpcion:function(){return this.opcion!=c},getOpcion:function(){return this.opcion}};var Oq="Requisito de habilidad",Pq="Requisito de Habilidad del Ki",Qq="Requisito de Arte Marcial",Rq="Requisito uno entre varios",Sq="Uno de los siguientes requisitos";B.prototype={constructor:B,toString:function(){var a="";if(this.tipo==Rq){a=Sq+": ";for(var b=0;b<this.requisitos.length;b++)a+=this.requisitos[b].toString(),b<this.requisitos.length-1&&(a+="; ")}else a=this.tipo+": "+this.item,this.tipo==Oq&&(a+=" "+this.valor);return a},getTipo:function(){return this.tipo},getItem:function(){return this.item},getRequisitos:function(){return this.requisitos},getValor:function(){return this.valor},cumple:function(a){var b=!0;switch(this.tipo){case Oq:b=a.getHabilidadDePersonaje(this.item).valorFinalActual()>=this.valor;break;case Pq:b=a.hasHabilidadKi(this.item);break;case Qq:b=a.hasArteMarcial(this.item);break;case Rq:for(var c=!1,d=0;d<this.requisitos.length;d++)c=c||this.requisitos[d].cumple(a);b=c}return b}},C.prototype={constructor:C,getNombre:function(){return this.nombre},getTipo:function(){return this.tipo},isPrincipal:function(){return this.esPrincipal},getCaracteristica:function(){return this.caracteristica},isConocimiento:function(){return this.esConocimiento},getPenalizadorArmadura:function(){return this.penalizadorArmadura},getEspecializacionesPosibles:function(){return this.especializacionesPosibles},getPuntosAComprar:function(){return this.puntosAComprar},getPuntosPorCoste:function(){return this.puntosPorCoste},toJSON:function(){return this.nombre}},D.prototype={constructor:D,getHabilidad:function(){return this.habilidad},getNombre:function(){return this.habilidad.getNombre()},getCaracteristica:function(){return this.habilidad.getCaracteristica()},getTipo:function(){return this.habilidad.getTipo()},getEspecializacion:function(){return this.especializacion},setEspecializacion:function(a){this.especializacion=a},getPDinvertidos:function(){return this.PDinvertidos+this.PDinvertidosPrevios},getPDinvertidosActuales:function(){return this.PDinvertidos},setPDinvertidos:function(a){this.PDinvertidos=a},getPDInvertidosPrevios:function(){return this.PDinvertidosPrevios},addPDinvertidos:function(a){this.PDinvertidos+=a},getMultiploBonificadorNatural:function(){return this.multiploBonificadorNatural},setMultiploBonificadorNatural:function(a){this.multiploBonificadorNatural=a},addMultiploBonificadorNatural:function(a){this.multiploBonificadorNatural+=a},getValorInicial:function(){return this.valorInicial},setValorInicial:function(a){this.valorInicial=a},valorBase:function(a){if(this.habilidad.getNombre()==Ar){var b=SE.getPotencialPsiquicoBase();return b+=SE.getHabilidadDePersonaje(Ar).bono}return this.habilidad.getNombre()==rr?this.valorInicial*(1+this.valorPrevio+Math.floor(this.PDinvertidos/a)):this.PDinvertidos+this.PDinvertidosPrevios==0?this.habilidad.esPrincipal?this.valorInicial:SE.hasFlag(Al)?this.valorInicial:this.habilidad.esConocimiento?Vq:Wq:this.valorInicial+this.valorPrevio+Math.floor(this.PDinvertidos/a)*this.getHabilidad().getPuntosPorCoste()},ajustarPDEnMultiplo:function(a){var b=0,c="";if(this.PDinvertidos%a!=0){var d=this.PDinvertidos%a;this.PDinvertidos-=d,b=d,c="Recuperados "+d+" PD para dejar valor de "+this.habilidad.getNombre()+" justo"}if(this.PDinvertidos/a%this.habilidad.getPuntosAComprar()!=0){var e=this.PDinvertidos/a%this.habilidad.getPuntosAComprar()*a;this.PDinvertidos-=e,b=e,c="Recuperados "+e+" PD para dejar valor de "+this.habilidad.getNombre()+" en múltiplo de "+this.habilidad.getPuntosAComprar()}return{pdDevueltos:b,mensaje:c}},valorFinalActual:function(){var a,b=SE.getCoste(this.habilidad.getNombre(),this.habilidad.isPrincipal()),c=this.valorBase(b),d=0,e=0,f=SE.getBonos(sq,this.habilidad.getNombre(),Nq);for(a=0;a<f.length;a++){var g=f[a],h=g.getBonoParaNivel(SE.getNivel(),SE);c+=parseInt(h),g.getCategoria()==Iq?e+=h:(g.getCategoria()==Mq||g.getCategoria()==Jq)&&(d+=h)}return(this.getNombre()==Zq||this.getNombre()==$q||this.getNombre()==_q)&&e>50&&(c-=e-50),d>100&&(c-=d-100),c},subirNivel:function(){this.valorPrevio=this.valorBase(SE.getCoste(this.habilidad.getNombre(),this.habilidad.isPrincipal())),this.PDinvertidosPrevios+=this.PDinvertidos,this.PDinvertidos=0}};var Tq=[],Uq={},Vq=-99999,Wq=-30,Xq="Capacidad especial",Yq="Habilidades de Combate",Zq="Habilidad de Ataque",$q="Habilidad de Parada",_q="Habilidad de Esquiva",ar="Llevar Armadura",br="Ki",cr="Ki Fuerza",dr="Ki Destreza",er="Ki Agilidad",fr="Ki Voluntad",gr="Ki Poder",hr="Ki Constitución",ir="Acumulación Ki",jr="Acumulación Ki Fuerza",kr="Acumulación Ki Destreza",lr="Acumulación Ki Agilidad",mr="Acumulación Ki Voluntad",nr="Acumulación Ki Poder",or="Acumulación Ki Constitución",pr="Habilidades Sobrenaturales",qr="Zeon",rr="ACT",sr="Proyección Mágica",tr="Convocar",ur="Dominar",vr="Atar",wr="Desconvocar",xr="Habilidades Psíquicas",yr="CV",zr="Proyección Psíquica",Ar="Potencial Psíquico",Br="Múltiplos de vida",Cr="Atléticas",Dr="Acrobacias",Er="Atletismo",Fr="Montar",Gr="Nadar",Hr="Saltar",Ir="Trepar",Jr=[Dr,Er,Fr,Gr,Hr,Ir],Kr="Sociales",Lr="Estilo",Mr="Intimidar",Nr="Liderazgo",Or="Persuasión",Pr=[Lr,Mr,Nr,Or],Qr="Subterfugio",Rr="Cerrajería",Sr="Disfraz",Tr="Ocultarse",Ur="Robo",Vr="Sigilo",Wr="Trampería",Xr="Venenos",Yr=[Rr,Sr,Tr,Ur,Vr,Wr,Xr],Zr="Perceptivas",$r="Advertir",_r="Buscar",as="Rastrear",bs=[$r,_r,as],cs="Intelectuales",ds="Animales",es="Ciencia",fs="Herbolaria",gs="Historia",hs="Medicina",is="Memorizar",js="Navegación",ks="Ocultismo",ls="Tasación",ms="Valoración mágica",ns=[ds,es,fs,gs,hs,is,js,ks,ls,ms],os="Vigor",ps="Frialdad",qs="Proezas de fuerza",rs="Resistencia al dolor",ss=[ps,qs,rs],ts="Creativas",us="Arte",vs="Baile",ws="Forja",xs="Música",ys="Trucos de manos",zs=[us,vs,ws,xs,ys],As=[Jr,Pr,Yr,bs,ns,ss,zs],Bs=[Cr,Kr,Qr,Zr,cs,os,ts],Cs="Sin penalizador por armadura",Ds="Con penalizador por armadura",Es="Con penalizador por armadura, no reducible",Fs="Con penalizador por armadura, reducible a la mitad",Gs="--",Hs="Error: nombre de conjuro desconocido";V.prototype={constructor:V,toString:function(){return this.nombre},getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getOpuestas:function(){return this.opuestas},getConjuros:function(){return this.conjuros},getConjuro:function(a){return this["nivel"+a]!=c?this["nivel"+a]:c},getConjuroPorNombre:function(a){for(var b=0;b<this.conjuros.length;b++)if(this.conjuros[b].getNombre()==a)return this.conjuros[b];throw Hs+": "+a},addConjuro:function(a){this.conjuros.push(a),this["nivel"+a.getNivel()]=a},getNivelesLibreAcceso:function(){return this.nivelesLibreAcceso},isNivelLibreAcceso:function(a){for(var b=0;b<this.nivelesLibreAcceso.length;b++){if(this.nivelesLibreAcceso[b]==a)return!0;if(this.nivelesLibreAcceso[b]>a)return!1}return!1},toJSON:function(){return this.nombre}},W.prototype={constructor:W,toString:function(){return this.nombre},getNombre:function(){return this.nombre},getNivel:function(){return this.nivel},getViasCerradas:function(){return this.viasCerradas},compatibleConVia:function(a){for(var b=0;b<this.viasCerradas.length;b++)if(this.viasCerradas[b]==a)return!1;return!0},toJSON:function(){return this.nombre}},X.prototype={constructor:X,toString:function(){return this.via.toString()+" "+this.nivel},getVia:function(){return this.via},getNivel:function(){return this.nivel},setNivel:function(a){this.nivel=a},addNivel:function(a){this.getNivel()+a>=this.nivelMinimo&&this.setNivel(this.getNivel()+a)},setNivelMinimo:function(a){this.nivelMinimo=a},getNivelMinimo:function(){return this.nivelMinimo},getConjurosLibres:function(){return this.conjurosLibres},getConjuro:function(a){var b;return b=this.via.isNivelLibreAcceso(a)?this.getConjuroLibre(a):this.via.getConjuro(a)},getConjuroLibre:function(a){return this["nivel"+a]},addConjuroLibre:function(a,b){var d=hb(a,b);this["nivel"+b]!=c&&this.removeConjuroLibre(b),this.conjurosLibres.push(d),this["nivel"+b]=d},removeConjuroLibre:function(a){if(this["nivel"+a]!=c){delete this["nivel"+a];for(var b=[],d=0;d<this.conjurosLibres.length;d++)this.conjurosLibres[d].getNivel()!=a&&b.push(this.conjurosLibres[d]);this.conjurosLibres=b}},isAnulable:function(){return this.anulable},setAnulable:function(a){this.anulable=a}},Y.prototype={constructo:Y,getBase:function(){return this.base},getAvanzado:function(){return this.avanzado},getIntermedio:function(){return this.intermedio},getArcano:function(){return this.arcano},isDiario:function(){return this.diario}};var Is="Error: Vía desconocida",Js=[],Ks="Luz",Ls="Esta vía es la que permite a los hechiceros controlar uno de los dos elementos superiores, la luz pura. Es la que controla las emociones positivas del hombre, como el amor, la tranquilidad o el placer. También domina el conocimiento y la detección. Su poder ofensivo y defensivo está muy equilibrado.",Ms="Oscuridad",Ns="La oscuridad no controla la ausencia de luz, sino el puro poder de las tinieblas. Domina todas las emociones negativas como el miedo, la ira y el odio. Es también el poder de los secretos, entre los que se incluyen los conjuros de ocultación y ofuscación. Al igual que la Luz, su poder está muy equilibrado.",Os="Creación",Ps="El poder de la creación es la capacidad mágica de componer y alterar la realidad que rodea a los hechiceros. Sus conjuros engloban el cambio, la curación y la creación de cosas. Es una magia marcadamente defensiva.",Qs="Destrucción",Rs="Esta vía permite utilizar el poder del flujo de almas para destruir la propia realidad. Sus conjuros afectan tanto al mundo material como al espiritual. Su poder es por naturaleza muy ofensivo.",Ss="Fuego",Ts="La primera de las cuatro vías elementales menores tiene el control sobre las altas temperaturas. Sus conjuros crean calor, fuego y arrasan grandes cantidades de terreno. También reúne conjuros de sacrificio, que permiten consumir ciertos aspectos de un individuo para potenciar a cambio otros.",Us="Agua",Vs="El elemento del agua recoge dentro de sí muchos conceptos distintos. Es la vía que controla los líquidos y la pureza de las cosas. También representa el poder del hielo y el de las bajas temperaturas. Su poder es muy equilibrado ofensiva y defensivamente.",Ws="Tierra",Xs="La Tierra es el poder del planeta, la piedra y los minerales. Es la magia más material de todas y controla las leyes de la física, como la gravedad y el magnetismo. Su influencia sobre los espíritus y lo inmaterial es muy limitada. Los conjuros de piedra recogen la magia relacionada con la resistencia, la dureza y la lentitud.",Ys="Aire",Zs="Es la vía de lo etéreo y lo incorpóreo. Recoge los conjuros de velocidad y movimiento. Con su poder se puede alterar el espacio y transportar cuerpos de un lugar a otro. También es la vía que controla el clima y la electricidad.",$s="Esencia",_s="La Esencia controla la vida y las almas. Esta vía tiene el poder sobre los espíritus y los seres naturales que pertenecen al mundo. Es también la vía de la naturaleza y los conjuros de origen druídicos.",at="Ilusión",bt="El poder de esta vía permite al hechicero controlar el engaño y la ilusión. Sus conjuros pueden alterar la realidad, y con ella la percepción de las personas.",ct="Nigromancia",dt="La nigromancia es una perversión de la magia como tal. Mientras que el resto de vías se alimenta de las energías de la red de almas, la nigromancia las arranca de allí. Sus conjuros destruyen la esencia de la vida, estancando y pervirtiendo las almas que utiliza. Su poder permite devolver la vida a los muertos, destruir las almas y drenar la vida y la esencia de otros seres.",et="Todas las vías",ft="Libre acceso",gt="Conjuros de libre acceso",ht=[Ks,Ms,Os,Qs,Ss,Us,Ws,Ys,$s,at,ct],it=new V(ft,gt,"");it.addConjuro(new W("Crear Llamas",10,[Us])),it.addConjuro(new W("Mover Objetos",10,[Qs,Ws])),it.addConjuro(new W("Crear Música",10,[Qs])),it.addConjuro(new W("Aseamiento",10,[])),it.addConjuro(new W("Saltar",10,[Ws])),it.addConjuro(new W("Apertura",10,[Qs,Ss])),it.addConjuro(new W("Atar",10,[Qs,at])),it.addConjuro(new W("Detección de Magia",10,[Ms])),it.addConjuro(new W("Detener Caída",10,[Ws])),it.addConjuro(new W("Deshacer Escritura",10,[Os])),it.addConjuro(new W("Mensaje Estático",10,[Qs])),it.addConjuro(new W("Cambiar de Color",10,[Qs])),it.addConjuro(new W("Crear Sonidos",20,[Qs])),it.addConjuro(new W("Recrear Imagen",20,[Qs])),it.addConjuro(new W("Encantar",20,[])),it.addConjuro(new W("Respirar Líquidos",20,[Ws,Ss])),it.addConjuro(new W("Trepar",20,[Ys])),it.addConjuro(new W("Niebla",20,[Ss])),it.addConjuro(new W("Zona Resbaladiza",20,[Ss])),it.addConjuro(new W("Reparación",20,[Qs,at])),it.addConjuro(new W("Pasar Sin Dejar Marca",20,[Ks])),it.addConjuro(new W("Atraer Alimañas Menores",20,[])),it.addConjuro(new W("Bolsa Infinita",20,[])),it.addConjuro(new W("Inhumanidad",20,[])),it.addConjuro(new W("Nubes",30,[Ss,Ws])),it.addConjuro(new W("Causar Miedo",30,[Ks])),it.addConjuro(new W("Protección Mágica",30,[Qs])),it.addConjuro(new W("Escudo Mágico",30,[Qs])),it.addConjuro(new W("Celeridad",30,[Ws])),it.addConjuro(new W("Serenidad",30,[Ss,Ms])),it.addConjuro(new W("Red",30,[])),it.addConjuro(new W("Comprensión de Idiomas",30,[])),it.addConjuro(new W("Levitación",30,[Ws])),it.addConjuro(new W("Enviar Mensaje",30,[])),it.addConjuro(new W("Protección Anticonceptiva",30,[])),it.addConjuro(new W("Cerrar Mágicamente",30,[Qs])),it.addConjuro(new W("Cerrar Realmente",40,[])),it.addConjuro(new W("Purificación",40,[Os])),it.addConjuro(new W("Cambio de Aspecto",40,[Qs])),it.addConjuro(new W("Modificar el Tamaño",40,[Qs])),it.addConjuro(new W("Invocar Agresividad",40,[Ks])),it.addConjuro(new W("Eliminar Conjuros",40,[Os])),it.addConjuro(new W("Resistencia al Dolor",40,[$s])),it.addConjuro(new W("Descarga de Magia",40,[Os])),it.addConjuro(new W("Eliminar los Sueños",40,[Ks,Ms])),it.addConjuro(new W("Extender la Presencia",40,[])),it.addConjuro(new W("Curar Enfermedades",40,[])),it.addConjuro(new W("Percibir Sentimientos",40,[])),it.addConjuro(new W("Anulación de Magia",50,[Os])),it.addConjuro(new W("Deshacer",50,[Os])),it.addConjuro(new W("Maldición",50,[])),it.addConjuro(new W("Leer la Mente",50,[Ms])),it.addConjuro(new W("Alterar Energía",50,[Qs])),it.addConjuro(new W("Enviar Sueños",50,[])),it.addConjuro(new W("Absorber Información",50,[])),it.addConjuro(new W("Amistad",50,[Ms])),it.addConjuro(new W("Causar Enfermedad",50,[at,Us])),it.addConjuro(new W("Transporte Rápido",50,[Ws])),it.addConjuro(new W("Enlentecer",50,[Ys])),it.addConjuro(new W("Mostrar lo Invisible",50,[Ms])),it.addConjuro(new W("Ceguera",60,[Os,Ks])),it.addConjuro(new W("Visualizar Cartografía",60,[Ms])),it.addConjuro(new W("Sordera",60,[Os])),it.addConjuro(new W("Mudez",60,[Os])),it.addConjuro(new W("Curar Heridas",60,[Qs])),it.addConjuro(new W("Eliminar Cansancio",60,[Ms])),it.addConjuro(new W("Montura Mágica",60,[at])),it.addConjuro(new W("Andar por las Paredes",60,[Us])),it.addConjuro(new W("Fusionar con el Cuerpo",60,[Qs])),it.addConjuro(new W("Nube Ácida",60,[Ws])),it.addConjuro(new W("Desproteger",60,[Os])),it.addConjuro(new W("Dormir",60,[])),it.addConjuro(new W("Aumentar Características Mentales",70,[Qs])),it.addConjuro(new W("Alteración Menor",70,[Qs])),it.addConjuro(new W("Crear Emociones",70,[at])),it.addConjuro(new W("Paralizar",70,[Ys])),it.addConjuro(new W("Aumentar Características Físicas",70,[Qs])),it.addConjuro(new W("Arma Mágica",70,[Qs])),it.addConjuro(new W("Debilidad",70,[Os])),it.addConjuro(new W("Cuerpo a Magia",70,[Ws])),it.addConjuro(new W("Resistir",70,[Qs])),it.addConjuro(new W("Olvido",70,[$s])),it.addConjuro(new W("Rechazo",70,[$s,Us])),it.addConjuro(new W("Plaga",70,[at])),it.addConjuro(new W("Inutilidad",80,[Us])),it.addConjuro(new W("Esfera de Levitación",80,[Ws,Us])),it.addConjuro(new W("Vuelo",80,[Ws])),it.addConjuro(new W("Dominio",80,[])),it.addConjuro(new W("Erudición Defensiva",80,[Qs])),it.addConjuro(new W("Invisibilidad",80,[$s])),it.addConjuro(new W("Desviar Trayectoria",80,[Ss])),it.addConjuro(new W("Estancar Conjuro",80,[Ys])),it.addConjuro(new W("Contención",80,[])),it.addConjuro(new W("Marca de Detección",80,[Ms])),it.addConjuro(new W("Erudición Ofensiva",80,[Os])),it.addConjuro(new W("Blanco Perfecto",80,[])),it.addConjuro(new W("Desencantamiento",90,[Os])),it.addConjuro(new W("Conjuro Natural",90,[])),it.addConjuro(new W("Inmortalidad",90,[Qs])),it.addConjuro(new W("Eliminar Necesidades",90,[$s])),it.addConjuro(new W("Robar Conjuro",90,[])),it.addConjuro(new W("Portal",90,[])),it.addConjuro(new W("Prisma de Magia",90,[Qs])),it.addConjuro(new W("Localización",90,[Ms])),it.addConjuro(new W("Inmunidad Física",90,[$s])),it.addConjuro(new W("Devolución de Conjuro",90,[])),it.addConjuro(new W("Preparar Conjuro",90,[])),it.addConjuro(new W("Teletransporte",90,[Ws])),it.addConjuro(new W("Ojo del Tiempo",100,[Ms])),it.addConjuro(new W("Sellar",100,[])),it.addConjuro(new W("El Don del Conocimiento",100,[Qs])),it.addConjuro(new W("Escudar Contra Poderes",100,[Os])),it.addConjuro(new W("Fortalecer la Magia",100,[Qs])),it.addConjuro(new W("Condicionamiento",100,[])),it.addConjuro(new W("Posesión",100,[])),it.addConjuro(new W("Imitar Conjuro",100,[Qs])),it.addConjuro(new W("Magia Innata",100,[])),it.addConjuro(new W("Vincular Mantenimiento",100,[])),it.addConjuro(new W("El Magistrado",100,[])),it.addConjuro(new W("Predestinación",100,[])),Js.push(it);var jt=new V(Us,Vs,Ss);jt.nivelesLibreAcceso.push(4),jt.nivelesLibreAcceso.push(8),jt.nivelesLibreAcceso.push(14),jt.nivelesLibreAcceso.push(18),jt.nivelesLibreAcceso.push(24),jt.nivelesLibreAcceso.push(28),jt.nivelesLibreAcceso.push(34),jt.nivelesLibreAcceso.push(38),jt.nivelesLibreAcceso.push(44),jt.nivelesLibreAcceso.push(48),jt.nivelesLibreAcceso.push(54),jt.nivelesLibreAcceso.push(58),jt.nivelesLibreAcceso.push(64),jt.nivelesLibreAcceso.push(68),jt.nivelesLibreAcceso.push(74),jt.nivelesLibreAcceso.push(78),jt.nivelesLibreAcceso.push(84),jt.nivelesLibreAcceso.push(88),jt.nivelesLibreAcceso.push(94),jt.nivelesLibreAcceso.push(98),jt.addConjuro(new W("Manantial",2)),jt.addConjuro(new W("Crear Frío",6)),jt.addConjuro(new W("Capacidad Acuática",10)),jt.addConjuro(new W("Inmunidad al Frío",12)),jt.addConjuro(new W("Burbuja Protectora",16)),jt.addConjuro(new W("Impacto de Agua",20)),jt.addConjuro(new W("Control sobre los Líquidos",22)),jt.addConjuro(new W("Congelar las Emociones",26)),jt.addConjuro(new W("Controlar el Frío",30)),jt.addConjuro(new W("Congelar",32)),jt.addConjuro(new W("Pantalla de Hielo",36)),jt.addConjuro(new W("Crear Líquidos",40)),jt.addConjuro(new W("Ataque de Hielo",42)),jt.addConjuro(new W("Cristalización",46)),jt.addConjuro(new W("Control Reflejo",50)),jt.addConjuro(new W("Cuerpo Líquido",52)),jt.addConjuro(new W("Reflejar Estados",56)),jt.addConjuro(new W("Tormenta de Hielo",60)),jt.addConjuro(new W("Control de las Mareas",62)),jt.addConjuro(new W("Prisión de Agua",66)),jt.addConjuro(new W("Glacial",70)),jt.addConjuro(new W("Tsunami",72)),jt.addConjuro(new W("Reflejo del Alma",76)),jt.addConjuro(new W("Enlentecer el Tiempo",80)),jt.addConjuro(new W("Crear Ondina",82)),jt.addConjuro(new W("Congelar la Magia",86)),jt.addConjuro(new W("En el Interior del Espejo",90)),jt.addConjuro(new W("Señor de los Hielos",92)),jt.addConjuro(new W("Señor de las Aguas",96)),jt.addConjuro(new W("Un mundo Perfecto",100)),Js.push(jt);var kt=new V(Ys,Zs,Ws);kt.nivelesLibreAcceso.push(4),kt.nivelesLibreAcceso.push(8),kt.nivelesLibreAcceso.push(14),kt.nivelesLibreAcceso.push(18),kt.nivelesLibreAcceso.push(24),kt.nivelesLibreAcceso.push(28),kt.nivelesLibreAcceso.push(34),kt.nivelesLibreAcceso.push(38),kt.nivelesLibreAcceso.push(44),kt.nivelesLibreAcceso.push(48),kt.nivelesLibreAcceso.push(54),kt.nivelesLibreAcceso.push(58),kt.nivelesLibreAcceso.push(64),kt.nivelesLibreAcceso.push(68),kt.nivelesLibreAcceso.push(74),kt.nivelesLibreAcceso.push(78),kt.nivelesLibreAcceso.push(84),kt.nivelesLibreAcceso.push(88),kt.nivelesLibreAcceso.push(94),kt.nivelesLibreAcceso.push(98),kt.addConjuro(new W("Crear Viento",2)),kt.addConjuro(new W("Mover",6)),kt.addConjuro(new W("Reducir Peso",10)),kt.addConjuro(new W("No Respirar",12)),kt.addConjuro(new W("Movimiento Libre",16)),kt.addConjuro(new W("Golpe de Aire",20)),kt.addConjuro(new W("Pantalla de Aire",22)),kt.addConjuro(new W("Transporte Automático",26)),kt.addConjuro(new W("Vuelo",30)),kt.addConjuro(new W("Incremento de Reacción",32)),kt.addConjuro(new W("Electrificar",36)),kt.addConjuro(new W("Tajo de Aire",40)),kt.addConjuro(new W("Velocidad",42)),kt.addConjuro(new W("Rayo",46)),kt.addConjuro(new W("Remolino",50)),kt.addConjuro(new W("Forma etérea",52)),kt.addConjuro(new W("Control del Aire",56)),kt.addConjuro(new W("Control de la Electricidad",60)),kt.addConjuro(new W("Movimiento Defensivo",62)),kt.addConjuro(new W("Teletransportación",66)),kt.addConjuro(new W("Inmaterialidad",70)),kt.addConjuro(new W("Huracán",72)),kt.addConjuro(new W("Aire Sólido",76)),kt.addConjuro(new W("Control del Clima",80)),kt.addConjuro(new W("Crear Silfo",82)),kt.addConjuro(new W("Telequinesis Superior",86)),kt.addConjuro(new W("Ubicar Magia",90)),kt.addConjuro(new W("Magia Pasiva",92)),kt.addConjuro(new W("Señor del Aire",96)),kt.addConjuro(new W("Un Lugar en el Mundo",100)),Js.push(kt);
var lt=new V(Os,Ps,Qs);lt.addConjuro(new W("Creación Menor",2)),lt.nivelesLibreAcceso.push(4),lt.addConjuro(new W("Reconstruir",6)),lt.addConjuro(new W("Crear Energía",8)),lt.addConjuro(new W("Regeneración",10)),lt.addConjuro(new W("Modificación Inorgánica",12)),lt.nivelesLibreAcceso.push(14),lt.addConjuro(new W("Aumentar Resistencias",16)),lt.addConjuro(new W("Escudo Real",18)),lt.addConjuro(new W("Curación",20)),lt.addConjuro(new W("Barrera de Daño",22)),lt.nivelesLibreAcceso.push(24),lt.addConjuro(new W("Crear Homúnculo",26)),lt.addConjuro(new W("Cambio Menor",28)),lt.addConjuro(new W("Imitar",30)),lt.addConjuro(new W("Inmunidad",32)),lt.nivelesLibreAcceso.push(34),lt.addConjuro(new W("Reducción de Daño",36)),lt.addConjuro(new W("Control Físico",38)),lt.addConjuro(new W("Adquirir Habilidades",40)),lt.addConjuro(new W("Fusionar",42)),lt.nivelesLibreAcceso.push(44),lt.addConjuro(new W("Crear Recuerdos",46)),lt.addConjuro(new W("Recuperar",48)),lt.addConjuro(new W("Adquirir Poderes",50)),lt.addConjuro(new W("Crear Engendro",52)),lt.nivelesLibreAcceso.push(54),lt.addConjuro(new W("Aura de Protección",56)),lt.addConjuro(new W("Estancar Esencia",58)),lt.addConjuro(new W("Escudo Perfecto",60)),lt.addConjuro(new W("Vitalidad",62)),lt.nivelesLibreAcceso.push(64),lt.addConjuro(new W("Creación Completa",66)),lt.addConjuro(new W("Potenciar Magia",68)),lt.addConjuro(new W("Transmutar",70)),lt.addConjuro(new W("Metamorfismo",72)),lt.nivelesLibreAcceso.push(74),lt.addConjuro(new W("Recrear",76)),lt.addConjuro(new W("Crear Ser",78)),lt.addConjuro(new W("Quimera",80)),lt.addConjuro(new W("Zona de Salvaguardia",82)),lt.nivelesLibreAcceso.push(84),lt.addConjuro(new W("Mantenimiento",86)),lt.addConjuro(new W("Otorgar Alma",88)),lt.addConjuro(new W("Creación Mayor",90)),lt.addConjuro(new W("Magia eterna",92)),lt.nivelesLibreAcceso.push(94),lt.addConjuro(new W("La Barrera",96)),lt.addConjuro(new W("El Don de la Vida",98)),lt.addConjuro(new W("Crear",100)),Js.push(lt);var mt=new V(Qs,Rs,Os);mt.nivelesLibreAcceso.push(4),mt.nivelesLibreAcceso.push(14),mt.nivelesLibreAcceso.push(24),mt.nivelesLibreAcceso.push(34),mt.nivelesLibreAcceso.push(44),mt.nivelesLibreAcceso.push(54),mt.nivelesLibreAcceso.push(64),mt.nivelesLibreAcceso.push(74),mt.nivelesLibreAcceso.push(84),mt.nivelesLibreAcceso.push(94),mt.addConjuro(new W("Fragilidad",2)),mt.addConjuro(new W("Desmantelar",6)),mt.addConjuro(new W("Destruir Intensidades",8)),mt.addConjuro(new W("Destrucción Menor",10)),mt.addConjuro(new W("Esfera de Destrucción",12)),mt.addConjuro(new W("Incrementar Debilidad",16)),mt.addConjuro(new W("Destrucción de Magia",18)),mt.addConjuro(new W("Agravar Daño",20)),mt.addConjuro(new W("Destrucción de Matrices",22)),mt.addConjuro(new W("Herir",26)),mt.addConjuro(new W("Destrucción de Ki",28)),mt.addConjuro(new W("Producir Daño",30)),mt.addConjuro(new W("Destrucción de Sentidos",32)),mt.addConjuro(new W("Descarga",36)),mt.addConjuro(new W("Desatar Vínculos",38)),mt.addConjuro(new W("Destruir Resistencias",40)),mt.addConjuro(new W("Deshacer Estados",42)),mt.addConjuro(new W("Cúpula de Destrucción",46)),mt.addConjuro(new W("Área de Decaimiento",48)),mt.addConjuro(new W("Aura de Destrucción",50)),mt.addConjuro(new W("Destruir Recuerdos",52)),mt.addConjuro(new W("Bloquear Aprendizaje",56)),mt.addConjuro(new W("Negar",58)),mt.addConjuro(new W("Destruir Poderes",60)),mt.addConjuro(new W("Descarga Mayor",62)),mt.addConjuro(new W("Destruir la Voluntad",66)),mt.addConjuro(new W("Zona de Debilidad",68)),mt.addConjuro(new W("Esencia de Destrucción",70)),mt.addConjuro(new W("Muerte",72)),mt.addConjuro(new W("Zona Devoradora",76)),mt.addConjuro(new W("Destruir Capacidades",78)),mt.addConjuro(new W("Sesgar la Existencia",80)),mt.addConjuro(new W("Lluvia de Destrucción",82)),mt.addConjuro(new W("Destrucción de Zeon",86)),mt.addConjuro(new W("Arrojar de los Cielos",88)),mt.addConjuro(new W("Vacío",90)),mt.addConjuro(new W("Destrucción Mayor",92)),mt.addConjuro(new W("Destrucción de Almas",96)),mt.addConjuro(new W("Caos",98)),mt.addConjuro(new W("Descrear",100)),Js.push(mt);var nt=new V($s,_s,at);nt.nivelesLibreAcceso.push(4),nt.nivelesLibreAcceso.push(8),nt.nivelesLibreAcceso.push(14),nt.nivelesLibreAcceso.push(18),nt.nivelesLibreAcceso.push(24),nt.nivelesLibreAcceso.push(28),nt.nivelesLibreAcceso.push(34),nt.nivelesLibreAcceso.push(38),nt.nivelesLibreAcceso.push(44),nt.nivelesLibreAcceso.push(48),nt.nivelesLibreAcceso.push(54),nt.nivelesLibreAcceso.push(58),nt.nivelesLibreAcceso.push(64),nt.nivelesLibreAcceso.push(68),nt.nivelesLibreAcceso.push(74),nt.nivelesLibreAcceso.push(78),nt.nivelesLibreAcceso.push(84),nt.nivelesLibreAcceso.push(88),nt.nivelesLibreAcceso.push(94),nt.nivelesLibreAcceso.push(98),nt.addConjuro(new W("Afinidad Natural",2)),nt.addConjuro(new W("Detectar Esencia",6)),nt.addConjuro(new W("Comunicación por Esencia",10)),nt.addConjuro(new W("Conocimiento Natural",12)),nt.addConjuro(new W("Sanación",16)),nt.addConjuro(new W("Barrera de Almas",20)),nt.addConjuro(new W("Compartir Sentidos",22)),nt.addConjuro(new W("Modificar la Esencia",26)),nt.addConjuro(new W("Veneno de Almas",30)),nt.addConjuro(new W("Analizar el Alma",32)),nt.addConjuro(new W("Adquirir Capacidades Naturales",36)),nt.addConjuro(new W("Revitalizar",40)),nt.addConjuro(new W("Mente de Vida",42)),nt.addConjuro(new W("Alterar el Crecimiento",46)),nt.addConjuro(new W("Imitación Natural",50)),nt.addConjuro(new W("Forma Espiritual",52)),nt.addConjuro(new W("Control Natural",56)),nt.addConjuro(new W("Inducción de Estados",60)),nt.addConjuro(new W("Devolver al Flujo",62)),nt.addConjuro(new W("Escudar",66)),nt.addConjuro(new W("Control Sobrenatural",70)),nt.addConjuro(new W("Compartir Esencia",72)),nt.addConjuro(new W("Transmigrar Almas",76)),nt.addConjuro(new W("Existencia Espiritual",80)),nt.addConjuro(new W("Creación de Espíritus",82)),nt.addConjuro(new W("Atar Esencia Vital",86)),nt.addConjuro(new W("Verdor",90)),nt.addConjuro(new W("Dominio de la Vida",92)),nt.addConjuro(new W("Resurrección",96)),nt.addConjuro(new W("Señor de las Almas",100)),Js.push(nt);var ot=new V(Ss,Ts,Us);ot.nivelesLibreAcceso.push(4),ot.nivelesLibreAcceso.push(8),ot.nivelesLibreAcceso.push(14),ot.nivelesLibreAcceso.push(18),ot.nivelesLibreAcceso.push(24),ot.nivelesLibreAcceso.push(28),ot.nivelesLibreAcceso.push(34),ot.nivelesLibreAcceso.push(38),ot.nivelesLibreAcceso.push(44),ot.nivelesLibreAcceso.push(48),ot.nivelesLibreAcceso.push(54),ot.nivelesLibreAcceso.push(58),ot.nivelesLibreAcceso.push(64),ot.nivelesLibreAcceso.push(68),ot.nivelesLibreAcceso.push(74),ot.nivelesLibreAcceso.push(78),ot.nivelesLibreAcceso.push(84),ot.nivelesLibreAcceso.push(88),ot.nivelesLibreAcceso.push(94),ot.nivelesLibreAcceso.push(98),ot.addConjuro(new W("Crear Fuego",2)),ot.addConjuro(new W("Mitigar Fuego",6)),ot.addConjuro(new W("Inmunidad Contra el Fuego",10)),ot.addConjuro(new W("Sentir el Calor",12)),ot.addConjuro(new W("Bola de Fuego",16)),ot.addConjuro(new W("Control Sobre el Fuego",20)),ot.addConjuro(new W("Barrera de Fuego",22)),ot.addConjuro(new W("Arma Ígnea",26)),ot.addConjuro(new W("Descarga de Calor",30)),ot.addConjuro(new W("Ver en las Cenizas",32)),ot.addConjuro(new W("Aumentar la Temperatura Ambiental",36)),ot.addConjuro(new W("Mina de Fuego",40)),ot.addConjuro(new W("Aumentar el Crítico",42)),ot.addConjuro(new W("Secar",46)),ot.addConjuro(new W("Fundir",50)),ot.addConjuro(new W("Cuerpo a Fuego",52)),ot.addConjuro(new W("Sacrificio Vital",56)),ot.addConjuro(new W("Incinerar",60)),ot.addConjuro(new W("Consumir Esencia",62)),ot.addConjuro(new W("Sacrificio de Poder",66)),ot.addConjuro(new W("Crítico Directo",70)),ot.addConjuro(new W("Magia por Capacidades",72)),ot.addConjuro(new W("Tormenta de Fuego",76)),ot.addConjuro(new W("Consumir Vida por Magia",80)),ot.addConjuro(new W("Crear Ifreet",82)),ot.addConjuro(new W("Pira Absoluta",86)),ot.addConjuro(new W("Devastación",90)),ot.addConjuro(new W("Sacrificar a Otros",92)),ot.addConjuro(new W("Señor del Fuego",96)),ot.addConjuro(new W("Armagedón",100)),Js.push(ot);var pt=new V(at,bt,$s);pt.nivelesLibreAcceso.push(4),pt.nivelesLibreAcceso.push(8),pt.nivelesLibreAcceso.push(14),pt.nivelesLibreAcceso.push(18),pt.nivelesLibreAcceso.push(24),pt.nivelesLibreAcceso.push(28),pt.nivelesLibreAcceso.push(34),pt.nivelesLibreAcceso.push(38),pt.nivelesLibreAcceso.push(44),pt.nivelesLibreAcceso.push(48),pt.nivelesLibreAcceso.push(54),pt.nivelesLibreAcceso.push(58),pt.nivelesLibreAcceso.push(64),pt.nivelesLibreAcceso.push(68),pt.nivelesLibreAcceso.push(74),pt.nivelesLibreAcceso.push(78),pt.nivelesLibreAcceso.push(84),pt.nivelesLibreAcceso.push(88),pt.nivelesLibreAcceso.push(94),pt.nivelesLibreAcceso.push(98),pt.addConjuro(new W("Ilusión Sonora",2)),pt.addConjuro(new W("Ilusión Olfativa",6)),pt.addConjuro(new W("Ilusión Táctil",10)),pt.addConjuro(new W("Ilusión Visual",12)),pt.addConjuro(new W("Detectar Ilusiones",16)),pt.addConjuro(new W("Engatusar",20)),pt.addConjuro(new W("Alterar Apariencia",22)),pt.addConjuro(new W("Invisibilidad Ilusoria",26)),pt.addConjuro(new W("Imagen Espejo",30)),pt.addConjuro(new W("Ilusión Total",32)),pt.addConjuro(new W("Confusión",36)),pt.addConjuro(new W("Crear Ser Ilusorio",40)),pt.addConjuro(new W("Resistencia a las Ilusiones",42)),pt.addConjuro(new W("Detectar Mentira",46)),pt.addConjuro(new W("Ilusión Fantasmal",50)),pt.addConjuro(new W("Falsear Detección",52)),pt.addConjuro(new W("Mentira",56)),pt.addConjuro(new W("Destruir Ilusiones",60)),pt.addConjuro(new W("Ser Fantasmal",62)),pt.addConjuro(new W("Credulidad",66)),pt.addConjuro(new W("Ataque Fantasmal",70)),pt.addConjuro(new W("El Don de la Mentira",72)),pt.addConjuro(new W("Vida Ilusoria",76)),pt.addConjuro(new W("Ilusión Mayor",80)),pt.addConjuro(new W("Fijar Ilusión",82)),pt.addConjuro(new W("Ilusión de Sentidos",86)),pt.addConjuro(new W("Inexistencia",90)),pt.addConjuro(new W("Engañar a la Muerte",92)),pt.addConjuro(new W("Mundo de Mentiras",96)),pt.addConjuro(new W("La Falsa Realidad",100)),Js.push(pt);var qt=new V(Ks,Ls,Ms);qt.nivelesLibreAcceso.push(4),qt.nivelesLibreAcceso.push(14),qt.nivelesLibreAcceso.push(24),qt.nivelesLibreAcceso.push(34),qt.nivelesLibreAcceso.push(44),qt.nivelesLibreAcceso.push(54),qt.nivelesLibreAcceso.push(64),qt.nivelesLibreAcceso.push(74),qt.nivelesLibreAcceso.push(84),qt.nivelesLibreAcceso.push(94),qt.addConjuro(new W("Crear Luz",2)),qt.addConjuro(new W("Imbuir Calma",6)),qt.addConjuro(new W("Flash Cegador",8)),qt.addConjuro(new W("Escudo de Luz",10)),qt.addConjuro(new W("Percibir",12)),qt.addConjuro(new W("Armadura de Luz",16)),qt.addConjuro(new W("Destrucción de Sombras",18)),qt.addConjuro(new W("Detectar lo Negativo",20)),qt.addConjuro(new W("Descarga de Luz",22)),qt.addConjuro(new W("Holograma",26)),qt.addConjuro(new W("Lazos de Luz",28)),qt.addConjuro(new W("Dominio Lumínico",30)),qt.addConjuro(new W("Detectar Vida",32)),qt.addConjuro(new W("Espía de Luz",36)),qt.addConjuro(new W("Éxtasis",38)),qt.addConjuro(new W("Destruir Sentimientos Negativos",40)),qt.addConjuro(new W("Luz Sanadora",42)),qt.addConjuro(new W("Esfera Buscadora",46)),qt.addConjuro(new W("Zona de Detección",48)),qt.addConjuro(new W("Introducirse en los Sueños",50)),qt.addConjuro(new W("Cuerpo a Luz",52)),qt.addConjuro(new W("Bendición",56)),qt.addConjuro(new W("Crear Sentimientos Positivos",58)),qt.addConjuro(new W("Ver Realmente",60)),qt.addConjuro(new W("Escudar Contra lo Negativo",62)),qt.addConjuro(new W("Encontrar",66)),qt.addConjuro(new W("Restituir",68)),qt.addConjuro(new W("Esquema Hipnótico",70)),qt.addConjuro(new W("Luz Catastrófica",72)),qt.addConjuro(new W("Objetos Luminosos Materiales",76)),qt.addConjuro(new W("Transmisión por Luz",78)),qt.addConjuro(new W("Señor de los Sueños",80)),qt.addConjuro(new W("Creación de Luz",82)),qt.addConjuro(new W("Prisma Reflectante",86)),qt.addConjuro(new W("Omnisciencia Radial",86)),qt.addConjuro(new W("Predecir",90)),qt.addConjuro(new W("Prisión de Luz",92)),qt.addConjuro(new W("Esencia de Luz",96)),qt.addConjuro(new W("Ascensión",98)),qt.addConjuro(new W("Holocausto de Luz",100)),Js.push(qt);var rt=new V(ct,dt,et);rt.nivelesLibreAcceso.push(4),rt.nivelesLibreAcceso.push(14),rt.nivelesLibreAcceso.push(24),rt.nivelesLibreAcceso.push(34),rt.nivelesLibreAcceso.push(44),rt.nivelesLibreAcceso.push(54),rt.nivelesLibreAcceso.push(64),rt.nivelesLibreAcceso.push(74),rt.nivelesLibreAcceso.push(84),rt.nivelesLibreAcceso.push(94),rt.addConjuro(new W("Sentir la Muerte",2)),rt.addConjuro(new W("Más Allá",6)),rt.addConjuro(new W("Dominar a los Carroñeros",8)),rt.addConjuro(new W("Escudo Espectral",10)),rt.addConjuro(new W("Drenar Vida",12)),rt.addConjuro(new W("Detección Nigromántica",16)),rt.addConjuro(new W("Hablar con los Muertos",18)),rt.addConjuro(new W("Paralización Nigromántica",20)),rt.addConjuro(new W("Necromitud",22)),rt.addConjuro(new W("Descarga de Muerte",26)),rt.addConjuro(new W("Levantar Cadáveres",28)),rt.addConjuro(new W("Cuerpo Muerto",30)),rt.addConjuro(new W("Drenar Magia",32)),rt.addConjuro(new W("Destruir No Muertos",36)),rt.addConjuro(new W("Drenar Características",38)),rt.addConjuro(new W("Controlar a los Muertos",40)),rt.addConjuro(new W("Marchitar la Vida",42)),rt.addConjuro(new W("Escudo Nigromántico",46)),rt.addConjuro(new W("Dominar la Vida",48)),rt.addConjuro(new W("Estigma Vampírico",50)),rt.addConjuro(new W("Forma Espectral",52)),rt.addConjuro(new W("Modificación Nigromántica",56)),rt.addConjuro(new W("Llamar a los Muertos",58)),rt.addConjuro(new W("Levantar Espectros",60)),rt.addConjuro(new W("Fuerza Vital",62)),rt.addConjuro(new W("Matar",66)),rt.addConjuro(new W("Descarga de Almas",68)),rt.addConjuro(new W("Quimera Nigromántica",70)),rt.addConjuro(new W("Perversión de Vida",72)),rt.addConjuro(new W("Vasallaje",76)),rt.addConjuro(new W("Drenar Almas",78)),rt.addConjuro(new W("Superar la Muerte",80)),rt.addConjuro(new W("Alzamiento",82)),rt.addConjuro(new W("Pozo de vida",86)),rt.addConjuro(new W("Tierra Maldita",88)),rt.addConjuro(new W("Sostenimiento",90)),rt.addConjuro(new W("Materia Prima",92)),rt.addConjuro(new W("Señor de los Muertos",96)),rt.addConjuro(new W("Regresar de Entre los Muertos",98)),rt.addConjuro(new W("El Despertar",100)),Js.push(rt);var st=new V(Ms,Ns,Ks);st.nivelesLibreAcceso.push(4),st.nivelesLibreAcceso.push(14),st.nivelesLibreAcceso.push(24),st.nivelesLibreAcceso.push(34),st.nivelesLibreAcceso.push(44),st.nivelesLibreAcceso.push(54),st.nivelesLibreAcceso.push(64),st.nivelesLibreAcceso.push(74),st.nivelesLibreAcceso.push(84),st.nivelesLibreAcceso.push(94),st.addConjuro(new W("Crear Oscuridad",2)),st.addConjuro(new W("Imbuir Miedo",6)),st.addConjuro(new W("Ver en la Oscuridad",8)),st.addConjuro(new W("Escudo Oscuro",10)),st.addConjuro(new W("Sombra",10)),st.addConjuro(new W("Armadura Oscura",16)),st.addConjuro(new W("Destrucción de Luz",18)),st.addConjuro(new W("Ocultación de Magia",20)),st.addConjuro(new W("Descarga Oscura",22)),st.addConjuro(new W("Oscuridad Ambiental",26)),st.addConjuro(new W("Lazos Oscuros",28)),st.addConjuro(new W("Dominio Oscuro",30)),st.addConjuro(new W("Ocultación",32)),st.addConjuro(new W("Ofuscar",36)),st.addConjuro(new W("Rabia",38)),st.addConjuro(new W("Destruir Sentimientos Positivos",40)),st.addConjuro(new W("Noche",42)),st.addConjuro(new W("Esfera Oscura",46)),st.addConjuro(new W("Zona de Ocultación",48)),st.addConjuro(new W("Introducirse en las Pesadillas",50)),st.addConjuro(new W("Cuerpo a Oscuridad",52)),st.addConjuro(new W("Perdición",56)),st.addConjuro(new W("Crear Sentimientos Negativos",58)),st.addConjuro(new W("Eliminar Residuos",60)),st.addConjuro(new W("Escudar Contra lo Positivo",62)),st.addConjuro(new W("Oscuridad Devoradora",66)),st.addConjuro(new W("Destrozar",68)),st.addConjuro(new W("Marca del Miedo",70)),st.addConjuro(new W("Oscuridad Catastrófica",72)),st.addConjuro(new W("Objetos Oscuros",76)),st.addConjuro(new W("Transmisión por Sombras",78)),st.addConjuro(new W("Rey de Pesadillas",80)),st.addConjuro(new W("Creación Oscura",82)),st.addConjuro(new W("Ocultarse Ante la Magia",86)),st.addConjuro(new W("Reino de Tinieblas",88)),st.addConjuro(new W("Indetección",90)),st.addConjuro(new W("Prisión de Oscuridad",92)),st.addConjuro(new W("Esencia Oscura",96)),st.addConjuro(new W("Ascensión Oscura",98)),st.addConjuro(new W("Holocausto de Oscuridad",100)),Js.push(st);var tt=new V(Ws,Xs,Ys);tt.nivelesLibreAcceso.push(4),tt.nivelesLibreAcceso.push(8),tt.nivelesLibreAcceso.push(14),tt.nivelesLibreAcceso.push(18),tt.nivelesLibreAcceso.push(24),tt.nivelesLibreAcceso.push(28),tt.nivelesLibreAcceso.push(34),tt.nivelesLibreAcceso.push(38),tt.nivelesLibreAcceso.push(44),tt.nivelesLibreAcceso.push(48),tt.nivelesLibreAcceso.push(54),tt.nivelesLibreAcceso.push(58),tt.nivelesLibreAcceso.push(64),tt.nivelesLibreAcceso.push(68),tt.nivelesLibreAcceso.push(74),tt.nivelesLibreAcceso.push(78),tt.nivelesLibreAcceso.push(84),tt.nivelesLibreAcceso.push(88),tt.nivelesLibreAcceso.push(94),tt.nivelesLibreAcceso.push(98),tt.addConjuro(new W("Detectar Minerales",2)),tt.addConjuro(new W("Control Mineral",6)),tt.addConjuro(new W("Aumentar Peso",10)),tt.addConjuro(new W("Transformar Mineral",12)),tt.addConjuro(new W("Firmeza",16)),tt.addConjuro(new W("Barrera de Piedra",20)),tt.addConjuro(new W("Lentitud",22)),tt.addConjuro(new W("Coraza",26)),tt.addConjuro(new W("Escudo Magnético",30)),tt.addConjuro(new W("Atravesar lo Sólido",32)),tt.addConjuro(new W("Espina de la Tierra",36)),tt.addConjuro(new W("Rotura",40)),tt.addConjuro(new W("Telemetría",42)),tt.addConjuro(new W("Control Magnético",46)),tt.addConjuro(new W("Forja",50)),tt.addConjuro(new W("Cuerpo Sólido",52)),tt.addConjuro(new W("Resistencia",56)),tt.addConjuro(new W("Petrificar",60)),tt.addConjuro(new W("Grieta",62)),tt.addConjuro(new W("Invertir la Gravedad",66)),tt.addConjuro(new W("Creación Mineral",70)),tt.addConjuro(new W("Erudición del Terreno",72)),tt.addConjuro(new W("Terremoto",76)),tt.addConjuro(new W("Destrucción Gravitacional",80)),tt.addConjuro(new W("Crear Golem",82)),tt.addConjuro(new W("Aumento de Gravedad",86)),tt.addConjuro(new W("Meteoro",90)),tt.addConjuro(new W("Control de la Gravedad",92)),tt.addConjuro(new W("Uno con la Tierra",96)),tt.addConjuro(new W("Control Atómico",100)),Js.push(tt);var ut="Poder sin dificultad mínima";pb.prototype={constructor:pb,getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getPoderesPsiquicos:function(){return this.poderesPsiquicos},isLibre:function(){return this.libre},addPoder:function(a){a.nombreDisciplinaPsiquica=this.nombre,this.poderesPsiquicos.push(a)},toJSON:function(){return this.nombre}},qb.prototype={constructor:qb,getNombre:function(){return this.nombre},getNivel:function(){return this.nivel},getAccion:function(){return this.accion},getMantenimiento:function(){return this.mantenimiento},getDescripcion:function(){return this.descripcion},getEfectos:function(){return this.efectos},dificultadMinima:function(){for(var a=0;a<this.efectos.length;a++)if(this.efectos[a].toUpperCase().indexOf("FATIGA")<0)return Dm[a];throw ut+": "+this.nombre},puedeComprarse:function(){return!0},toJSON:function(){return this.nombre+"--"+this.nombreDisciplinaPsiquica}},rb.prototype={constructor:rb,getNombre:function(){return this.disciplina.nombre},getDescripcion:function(){return this.disciplina.descripcion},getPoderesPsiquicos:function(){return this.disciplina.poderesPsiquicos},isLibre:function(){return this.disciplina.libre},isAnulable:function(){return this.anulable},setAnulable:function(a){this.anulable=a}},sb.prototype={constructor:sb,getPoder:function(){return this.poder},getDisciplina:function(){return this.disciplina},getFortalecimiento:function(){return this.fortalecimiento},addFortalecimiento:function(a){this.fortalecimiento+=a}};var vt=[],wt="Error: Disciplina Psiquica desconocida",xt="Error: Poder Psíquico desconocido",yt="CV insuficientes",zt="Poderes Matriciales",At="",Bt=new pb(zt,At);Bt.libre=!0,Bt.addPoder(new qb("Sentir matrices",0,fn,!0,"",["Fatiga 1","10 metros de radio. Permite ver matrices psíquicas activas","25 metros de radio. Detecta poderes latentes en las personas","50 metros de radio / Permite reconocer el poder que se esté utilizando","100 metros de radio","250 metros de radio / Nota las disciplinas a las que es afín un psíquico","500 metros de radio. Mide el potencial de otro psíquico","1 kilómetro de radio / Detecta los CV libres que le quedan a otro psíquico","5 kilómetros de radio. Nota los poderes que posee otro psíquico","100 kilómetros de radio"])),Bt.addPoder(new qb("Destruir matrices",0,gn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","Poderes de nivel Medio","Poderes de nivel Difícil","Poderes de nivel Muy Difícil","Poderes de nivel Absurdo","Poderes de nivel Casi Imposible","Poderes de nivel Imposible","Poderes de nivel Inhumano"])),Bt.addPoder(new qb("Ocultar matrices",0,gn,!0,"",["Fatiga 2","Fatiga 1","-2 grados de dificultad","-3 grados de dificultad","-4 grados de dificultad","-5 grados de dificultad","-6 grados de dificultad","-7 grados de dificultad","-8 grados de dificultad","-9 grados de dificultad"])),Bt.addPoder(new qb("Conectar matrices",0,fn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","2 individuos","3 individuos","4 individuos","6 individuos","8 individuos","10 individuos","20 individuos"])),vt.push(Bt);var Ct="Crioquinesis",Dt="",Et=new pb(Ct,Dt);Et.addPoder(new qb("Percibir temperatura",1,fn,!0,"",["Fatiga 4","Fatiga 2","Fatiga 1","10 metros de radio","50 metros de radio","100 metros de radio","500 metros de radio","1 kilómetro de radio","10 kilómetros de radio","100 kilómetros de radio"])),Et.addPoder(new qb("Congelar",1,fn,!0,"",["Fatiga 8","Fatiga 6","Fatiga 4","80 RF","100 RF","120 RF","140 RF","160 RF","180 RF","220 RF"])),Et.addPoder(new qb("Crear frío",1,fn,!0,"",["Fatiga 1","1 intensidad","3 intensidades","5 intensidades","7 intensidades","10 intensidades","13 intensidades","16 intensidades","20 intensidades","25 intensidades"])),Et.addPoder(new qb("Eliminar el frío",1,fn,!1,"",["Fatiga 1","-1 intensidad / 80 RF","-3 intensidades / 100 RF","-5 intensidades / 120 RF","-7 intensidades / 140 RF","-10 intensidades / 160 RF","-15 intensidades / 180 RF","-20 intensidades / 200 RF","-30 intensidades / 220 RF","-40 intensidades / 260 RF"])),Et.addPoder(new qb("Control sobre el frío",1,fn,!0,"",["Fatiga 2","Fatiga 1","4 intensidades / 80 RF","6 intensidades / 100 RF","8 intensidades / 120 RF","12 intensidades / 140 RF","16 intensidades / 160 RF","20 intensidades / 180 RF","25 intensidades / 200 RF","30 intensidades / 240 RF"])),Et.addPoder(new qb("Esquirlas de hielo",2,fn,!1,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","Fatiga 1","Daño base 80","Daño base 100","Daño base 120","Daño base 160 / Área de 5 metros","Daño base 200 / Área de 25 metros"])),Et.addPoder(new qb("Disminuir la temperatura ambiental",2,fn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","Fatiga 1","-5º / 1 kilómetro de radio","-10º / 5 kilómetros de radio","-15º / 10 kilómetros de radio","-20º / 25 kilómetros de radio","-30º / 50 kilómetros de radio","-40º / 100 kilómetros de radio"])),Et.addPoder(new qb("Escudo de hielo",2,gn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","600 PV","800 PV","1.200 PV","1.800 PV","2.500 PV","4.000 PV","6.000 PV"])),Et.addPoder(new qb("Cristalizar",2,fn,!0,"",["Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","120 RF","140 RF","160 RF","180 RF","220 RF"])),Et.addPoder(new qb("Un instante eterno",3,fn,!0,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","120 RF / 5 metros de radio","140 RF / 10 metros de radio","160 RF / 20 metros de radio","180 RF / 50 metros de radio","200 RF / 100 metros de radio"])),Et.addPoder(new qb("Cero absoluto",3,fn,!0,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","5 metros de radio","10 metros de radio","20 metros de radio","50 metros de radio","100 metros de radio"])),Et.addPoder(new qb("Frío mayor",3,fn,!0,"",["Fatiga 20","Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","30 intensidades","40 intensidades","50 intensidades","60 intensidades"])),vt.push(Et),yk&&Et.addPoder(new qb("Inmunidad al frío",2,gn,!0,"Permite al psíquico, o al individuo designado por este, ser inmune al efecto de varias intensidades de frío, incluso si se trata de uno de carácter sobrenatural. En el caso de que se reciba un ataque basado en dicho elemento, cada intensidad a la que es inmune disminuye 5 puntos el daño base del ataque, y aumenta en +5 las Resistencias contra sus efectos.",["Fatiga 4","Fatiga 2","Fatiga 1","5 intensidades","10 intensidades","15 intensidades","20 intensidades","30 intensidades","40 intensidades","50 intensidades"]));var Ft="Energía",Gt="",Ht=new pb(Ft,Gt);Ht.addPoder(new qb("Crear energía",1,fn,!0,"",["Fatiga 2","Fatiga 1","1 intensidad","3 intensidades","5 intensidades","7 intensidades","10 intensidades","13 intensidades","16 intensidades","20 intensidades"])),Ht.addPoder(new qb("Percibir energía",1,fn,!0,"",["Fatiga 2","Fatiga 1","10 metros de radio","50 metros de radio","100 metros de radio","250 metros de radio","500 metros de radio","1 kilómetro de radio","10 kilómetros de radio","100 kilómetros de radio"])),Ht.addPoder(new qb("Creación de energía",1,fn,!0,"",["Fatiga 4","Fatiga 2","Fatiga 1","1 metro cúbico","2 metros cúbicos","3 metros cúbicos","4 metros cúbicos","5 metros cúbicos","10 metros cúbicos","20 metros cúbicos"])),Ht.addPoder(new qb("Descarga de energía",1,fn,!1,"",["Fatiga 4","Fatiga 2","Fatiga 1","Daño 50","Daño 70","Daño 100","Daño 120","Daño 140 / Afecta a seres inmateriales","Daño 180 / Afecta a seres inmateriales","Daño 220 / Afecta a seres inmateriales"])),Ht.addPoder(new qb("Escudo de energía",1,gn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","300 PV","500 PV","800 PV","1.000 PV","1.400 PV","2.000 PV","3.000 PV"])),Ht.addPoder(new qb("Deshacer energía",2,fn,!1,"",["Fatiga 6","Fatiga 4","Fatiga 2","-1 intensidad / 100 RF","-3 intensidades / 120 RF","-5 intensidades / 140 RF","-8 intensidades / 160 RF","-12 intensidades / 180 RF","-18 intensidades / 200 RF","-24 intensidades / 240 RF"])),Ht.addPoder(new qb("Inmunidad",2,gn,!0,"",["Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","10 intensidades","15 intensidades","20 intensidades","30 intensidades","40 intensidades"])),Ht.addPoder(new qb("Controlar energía",2,fn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","4 intensidades / 80 RF","6 intensidades / 100 RF","8 intensidades / 120 RF","12 intensidades / 140 RF","16 intensidades / 160 RF","20 intensidades / 180 RF","25 intensidades / 220 RF"])),Ht.addPoder(new qb("Modificar naturaleza",2,fn,!1,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","6 intensidades / 100 RF","8 intensidades / 120 RF","12 intensidades / 140 RF","16 intensidades / 160 RF","20 intensidades / 180 RF","25 intensidades / 220 RF"])),Ht.addPoder(new qb("Cúpula de energía",3,fn,!1,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","Daño 100 / 25 metros de radio","Daño 120 / 50 metros de radio","Daño 140 / 100 metros de radio","Daño 160 / 200 metros de radio Puede dañar a seres inmateriales","Daño 200 / 500 metros de radio Puede dañar a seres inmateriales"])),Ht.addPoder(new qb("Energía mayor",3,fn,!0,"",["Fatiga 20","Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","25 intensidades","35 intensidades","45 intensidades","55 intensidades"])),vt.push(Ht);var It="Incremento Físico",Jt="",Kt=new pb(It,Jt);Kt.addPoder(new qb("Incrementar Fuerza",1,fn,!0,"",["Fatiga 4","Fatiga 2","Fuerza +1","Fuerza +2","Fuerza +3","Fuerza +4","Fuerza +5","Fuerza +6","Fuerza +8","Fuerza +10"])),Kt.addPoder(new qb("Incrementar desplazamiento",1,fn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","Tipo de movimiento +1","Tipo de movimiento +2","Tipo de movimiento +3","Tipo de movimiento +4","Tipo de movimiento +5","Tipo de movimiento +6","Tipo de movimiento +8"])),Kt.addPoder(new qb("Incrementar habilidad",1,fn,!0,"",["Fatiga 4","Fatiga 2","Destreza o Agilidad +1","Destreza o Agilidad +2","Destreza o Agilidad +3","Destreza o Agilidad +4","Destreza o Agilidad +5","Destreza o Agilidad +6","Destreza o Agilidad +8","Destreza o Agilidad +10"])),Kt.addPoder(new qb("Inhumanidad",1,fn,!0,"",["Fatiga 4","Fatiga 2","Inhumanidad","Inhumanidad, +5 a las habilidades atléticas","Inhumanidad, +10 a las habilidades atléticas","Inhumanidad, +20 a las habilidades atléticas","Zen, +30 a las habilidades atléticas","Zen, +40 a las habilidades atléticas","Zen, +60 a las habilidades atléticas","Zen, +80 a las habilidades atléticas"])),Kt.addPoder(new qb("Incrementar capacidad de salto",1,fn,!0,"",["Fatiga 2","+10 a Saltar","+20 a Saltar","+40 a Saltar","+80 a Saltar","+120 a Saltar / Inhumanidad","+180 a Saltar / Inhumanidad","+220 a Saltar / Inhumanidad","+280 a Saltar / Zen","+320 a Saltar / Zen"])),Kt.addPoder(new qb("Incrementar el sentido acrobático",1,fn,!0,"",["Fatiga 2","+10 a Acrobacias","+20 a Acrobacias","+40 a Acrobacias","+80 a Acrobacias","+120 a Acrobacias / Inhumanidad","+180 a Acrobacias / Inhumanidad","+220 a Acrobacias / Inhumanidad","+280 a Acrobacias / Zen","+320 a Acrobacias / Zen"])),Kt.addPoder(new qb("Incremento de reacción",2,fn,!0,"",["Fatiga 8","Fatiga 4","Fatiga 2","+20 al turno","+40 al turno","+60 al turno","+80 al turno","+120 al turno","+160 al turno","+200 al turno"])),Kt.addPoder(new qb("Incremento de Percepción",2,fn,!0,"",["Fatiga 8","Fatiga 4","Fatiga 2","Percepción +1","Percepción +2","Percepción +3","Percepción +4","Percepción +5","Percepción +6","Percepción +8"])),Kt.addPoder(new qb("Incrementar aguante",2,gn,!0,"",["Fatiga 8","Fatiga 4","Fatiga 2","+10 a la RF","+20 a la RF","+40 a la RF","+80 a la RF","+120 a la RF","+160 a la RF","+200 a la RF"])),Kt.addPoder(new qb("Regeneración",2,fn,!0,"",["Fatiga 8","Fatiga 6","Fatiga 4","+1 nivel de Regeneración","+2 niveles de Regeneración","+4 niveles de Regeneración","+6 niveles de Regeneración","+8 niveles de Regeneración","+10 niveles de Regeneración","+12 niveles de Regeneración"])),Kt.addPoder(new qb("Incremento total",3,fn,!0,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","Características físicas +1","Características físicas +2","Características físicas +4","Características físicas +6","Características físicas +8"])),Kt.addPoder(new qb("Eliminación de cansancio",3,fn,!1,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","2 puntos de Cansancio recuperados","4 puntos de Cansancio recuperados","6 puntos de Cansancio recuperados","10 puntos de Cansancio recuperados","Completamente recuperado"])),Kt.addPoder(new qb("Imbuir",3,fn,!0,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","Poderes de nivel Muy Difícil","Poderes de nivel Absurdo","Poderes de nivel Casi Imposible","Poderes de nivel Imposible","Poderes de nivel Inhumano"])),vt.push(Kt);var Lt="Piroquinesis",Mt="",Nt=new pb(Lt,Mt);Nt.addPoder(new qb("Crear fuego",1,fn,!0,"",["Fatiga 1","1 intensidad","3 intensidades","5 Intensidades","7 intensidades","10 intensidades","13 intensidades","16 intensidades","20 intensidades","25 intensidades"])),Nt.addPoder(new qb("Mitigar fuego",1,fn,!1,"",["Fatiga 1","-1 intensidad / 80 RF","-3 intensidades / 100 RF","-5 intensidades / 120 RF","-7 intensidades / 140 RF","-10 intensidades / 160 RF","-15 intensidades / 180 RF","-20 intensidades / 200 RF","-30 intensidades / 220 RF","-40 intensidades / 260 RF"])),Nt.addPoder(new qb("Controlar el fuego",1,fn,!0,"",["Fatiga 2","Fatiga 1","4 intensidades / 80 RF","6 intensidades / 100 RF","8 intensidades / 120 RF","12 intensidades / 140 RF","16 intensidades / 160 RF","20 intensidades / 180 RF","25 intensidades / 200 RF","30 intensidades / 240 RF"])),Nt.addPoder(new qb("Inmolar",1,fn,!1,"",["Fatiga 4","Fatiga 2","Fatiga 1","Daño 60 / 5 metros de radio","Daño 80 / 10 metros de radio","Daño 100 / 20 metros de radio","Daño 120 / 30 metros de radio","Daño 150 / 50 metros de radio","Daño 200 / 100 metros de radio","Daño 250 / 200 metros de radio"])),Nt.addPoder(new qb("Mantenimiento ígneo",2,fn,!0,"",["Fatiga 4","Fatiga 2","Fatiga 1","5 intensidades","10 intensidades","15 intensidades","20 intensidades","30 intensidades","40 intensidades","50 intensidades"])),Nt.addPoder(new qb("Inmunidad al fuego",2,gn,!0,"",["Fatiga 4","Fatiga 2","Fatiga 1","5 intensidades","10 intensidades","15 intensidades","20 intensidades","30 intensidades","40 intensidades","50 intensidades"])),Nt.addPoder(new qb("Barrera ígnea",2,fn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","Fatiga 1","Daño base 60 / 5 metros de longitud","Daño base 80 / 10 metros de longitud","Daño base 120 / 20 metros de longitud","Daño base 160 / 30 metros de longitud","Daño base 200 / 40 metros de longitud","Daño base 240 / 50 metros de longitud"])),Nt.addPoder(new qb("Aumentar temperatura ambiental",2,fn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","Fatiga 1","+5ºC / 1 kilómetro de radio","+10ºC / 5 kilómetros de radio","+15ºC / 10 kilómetros de radio","+20ºC / 25 kilómetros de radio","+30ºC / 50 kilómetros de radio","+40ºC / 100 kilómetros de radio"])),Nt.addPoder(new qb("Consumir",3,fn,!1,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","120 RF / Daño automático de 80","140 RF / Daño automático de 120","160 RF / Daño automático de 160","180 RF / Daño automático de 200","220 RF / Daño automático de 250"])),Nt.addPoder(new qb("Nova",3,fn,!0,"",["Fatiga 16","Fatiga 12","Fatiga 8","10 puntos de vida","20 puntos de vida","30 puntos de vida","40 puntos de vida","60 puntos de vida","80 puntos de vida","120 puntos de vida"])),Nt.addPoder(new qb("Fuego mayor",3,fn,!0,"",["Fatiga 20","Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","30 intensidades","40 intensidades","50 intensidades","60 intensidades"])),vt.push(Nt);
var Ot="Sentiente",Pt="",Qt=new pb(Ot,Pt);Qt.addPoder(new qb("Percibir sentimientos",1,fn,!0,"",["Fatiga 2","Fatiga 1","100 RP","120 RP","140 RP","160 RP","180 RP","200 RP","220 RP","240 RP"])),Qt.addPoder(new qb("Detectar sentimientos",1,fn,!0,"",["Fatiga 2","Fatiga 1","80 RP / 10 metros de radio","100 RP / 50 metros de radio","120 RP / 100 metros de radio","140 RP / 250 metros de radio","160 RP / 500 metros de radio","180 RP / 1 kilómetro de radio","200 RP / 10 kilómetros de radio","220 RP / 100 kilómetros de radio"])),Qt.addPoder(new qb("Conectar sentidos",1,fn,!0,"",["Fatiga 2","Fatiga 1","60 RP / 10 metros de radio","80 RP / 100 metros de radio","100 RP / 500 metros de radio","120 RP / 1 kilómetro de radio","140 RP / 10 kilómetros de radio","160 RP / 100 kilómetros de radio","180 RP / 1.000 kilómetros de radio","200 RP / cualquier distancia"])),Qt.addPoder(new qb("Intensificar sentimientos",1,fn,!0,"",["Fatiga 2","Fatiga 1","100 RP","120 RP","140 RP","160 RP","180 RP","200 RP","220 RP","240 RP"])),Qt.addPoder(new qb("Eliminar sentidos",2,fn,!0,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","100 RP","120 RP","140 RP","160 RP","180 RP","220 RP"])),Qt.addPoder(new qb("Crear sentimientos",2,fn,!0,"",["Fatiga 8","Fatiga 4","Fatiga 2","80 RP","100 RP","120 RP","140 RP","160 RP","180 RP","200 RP"])),Qt.addPoder(new qb("Cargar con sentimientos",2,fn,!0,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","100 RP / área de 5 metros","120 RP / área de 10 metros","140 RP / área de 25 metros","160 RP / área de 50 metros","180 RP / área de 100 metros","220 RP / área de 500 metros"])),Qt.addPoder(new qb("Trasladar los sentidos",2,fn,!0,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","1 kilómetro de radio","10 kilómetros de radio","100 kilómetros de radio","500 kilómetros de radio","1.000 kilómetros de radio","Cualquier distancia"])),Qt.addPoder(new qb("Área",3,fn,!0,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 4","10 metros de radio","100 metros de radio","1 kilómetro de radio","10 kilómetros de radio","100 kilómetros de radio","500 kilómetros de radio"])),Qt.addPoder(new qb("Destruir sentimientos",3,fn,!1,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","120 RP","140 RP","160 RP","180 RP","200 RP"])),vt.push(Qt);var Rt="Telemetría",St="",Tt=new pb(Rt,St);Tt.addPoder(new qb("Percibir residuos",1,fn,!0,"",["Fatiga 1","Una hora","Seis horas","Un día","Tres días","Una semana","Un mes","Un año","Una década","Un siglo"])),Tt.addPoder(new qb("Leer el pasado",2,fn,!1,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","Una hora","Seis horas","Un día","Una semana","Un mes","Un año"])),Tt.addPoder(new qb("Erudición humana",2,fn,!1,"",["Fatiga 6","Fatiga 4","Fatiga 2","Un día / 80 RP","Una semana / 100 RP","Un mes / 120 RP","Un año / 140 RP","Diez años / 160 RP","Cincuenta años / 180 RP","Toda su vida / 200 RP"])),Tt.addPoder(new qb("Ver en la historia",3,fn,!0,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","Un año","Diez años","Un siglo","Un milenio","Cualquier periodo de tiempo"])),vt.push(Tt);var Ut="Telepatía",Vt="",Wt=new pb(Ut,Vt);Wt.addPoder(new qb("Escaneo de zona",1,fn,!0,"",["Fatiga 2","Fatiga 1","100 RP / 10 metros de radio","120 RP / 50 metros de radio","140 RP / 100 metros de radio","160 RP / 250 metros de radio","180 RP / 500 metros de radio","200 RP / 1 kilómetro de radio","220 RP / 10 kilómetros de radio","260 RP / 100 kilómetros de radio"])),Wt.addPoder(new qb("Lectura mental","1",fn,!0,"",["Fatiga 2","Fatiga 1","100 RP","120 RP","140 RP","160 RP","180 RP","200 RP","220 RP","240 RP"])),Wt.addPoder(new qb("Ilusión psíquica",1,fn,!0,"",["Fatiga 2","Fatiga 1","80 RP","100 RP","120 RP","140 RP","160 RP","180 RP","200 RP","220 RP"])),Wt.addPoder(new qb("Escudo psíquico",1,gn,!0,"",["Fatiga 2","Fatiga 1","+10 RP","+30 RP","+50 RP","+80 RP","+120 RP","+160 RP","+200 RP","+240 RP"])),Wt.addPoder(new qb("Comunicación mental",1,fn,!0,"",["Fatiga 2","Fatiga 1","100 metros","500 metros","1 kilómetro","10 kilómetros","100 kilómetros","1.000 kilómetros","5.000 kilómetros","Cualquier distancia"])),Wt.addPoder(new qb("Prohibición mental",1,fn,!0,"",["Fatiga 4","Fatiga 2","80 RP","100 RP","120 RP","140 RP","160 RP","180 RP","200 RP","220 RP"])),Wt.addPoder(new qb("Análisis mental",2,fn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","100 RP","120 RP","140 RP","160 RP","180 RP","200 RP","240 RP"])),Wt.addPoder(new qb("Conexión psíquica",2,fn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","100 metros de radio","500 metros de radio","1 kilómetro de radio","10 kilómetros de radio","100 kilómetros de radio","1.000 kilómetros de radio","Cualquier distancia"])),Wt.addPoder(new qb("Modificación de recuerdos",2,fn,!1,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","100 RP","120 RP","140 RP","160 RP","180 RP","200 RP"])),Wt.addPoder(new qb("Forma astral",2,fn,!0,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","Hasta 10 kilómetros de radio","Hasta 100 kilómetros de radio","Hasta 500 kilómetros de radio","Hasta 1.000 kilómetros de radio","Hasta 5.000 kilómetros de radio","Cualquier distancia"])),Wt.addPoder(new qb("Asalto psíquico",2,fn,!1,"",["Fatiga 8","Fatiga 4","Fatiga 2","120 RP","140 RP","160 RP","180 RP","200 RP","220 RP","260 RP"])),Wt.addPoder(new qb("Localización psíquica",2,fn,!0,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","Hasta 10 kilómetros de radio 140 RP","Hasta 100 kilómetros de radio 160 RP","Hasta 500 kilómetros de radio 180 RP","Hasta 1.000 kilómetros de radio 200 RP","Hasta 5.000 kilómetros de radio 220 RP","Cualquier distancia 260 RP"])),Wt.addPoder(new qb("Control mental",3,fn,!0,"",["Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","100 RP","120 RP","140 RP","160 RP","180 RP","220 RP"])),Wt.addPoder(new qb("Muerte psíquica",3,fn,!1,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","140 RP","160 RP","180 RP","220 RP","240 RP"])),Wt.addPoder(new qb("Área",3,fn,!0,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 4","10 metros de radio","100 metros de radio","1 kilómetro de radio","10 kilómetros de radio","100 kilómetros de radio","500 kilómetros de radio"])),vt.push(Wt);var Xt="Telequinesis",Yt="",Zt=new pb(Xt,Yt);Zt.addPoder(new qb("Telequinesis menor",1,fn,!0,"",["Fatiga 1","1 Kg. / Tipo de vuelo 4","2 Kg / Tipo de vuelo 6","5 Kg / Tipo de vuelo 8","10 Kg / Tipo de vuelo 10","20 Kg / Tipo de vuelo 12","40 Kg / Tipo de vuelo 14","100 Kg / Tipo de vuelo 16","200 Kg / Tipo de vuelo 18","500 Kg / Tipo de vuelo 20"])),Zt.addPoder(new qb("Impacto telequinético",1,fn,!1,"",["Fatiga 2","Fatiga 1","Fuerza 8","Fuerza 10","Fuerza 12","Fuerza 14","Fuerza 15","Fuerza 16","Fuerza 18","Fuerza 20"])),Zt.addPoder(new qb("Escudo telequinético",1,gn,!1,"",["Fatiga 2","Fatiga 1","300 PV","500 PV","700 PV","1.000 PV","1.500 PV / Barrera de daño 60","2.000 PV / Barrera de daño 80 Detiene energía","3.000 PV / Barrera de daño 120 Detiene energía","5.000 PV / Barrera de daño 160 Detiene energía"])),Zt.addPoder(new qb("Armadura telequinética",1,gn,!0,"",["Fatiga 2","Fatiga 1","TA 1","TA 2","TA 4","TA 6","TA 8","TA 10","TA 12","TA 14"])),Zt.addPoder(new qb("Presa telequinética",1,fn,!0,"",["Fatiga 2","Fatiga 1","Fuerza 6","Fuerza 8","Fuerza 10","Fuerza 12 / Radio de 5 metros","Fuerza 14 / Radio de 10 metros","Fuerza 15 /Rradio de 50 metros","Fuerza 16 / Radio de 100 metros","Fuerza 18 / Radio de 500 metros"])),Zt.addPoder(new qb("Balística",2,fn,!1,"",["Fatiga 4","Fatiga 2","Fatiga 1","+0 Proyección / 5 metros","+10 Proyección / 10 metros","+20 Proyección / 15 metros","+30 Proyección / 25 metros","+40 Proyección / 40 metros","+50 Proyección / 80 metros","+60 Proyección / 150 metros"])),Zt.addPoder(new qb("Repulsión",2,fn,!0,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","Fuerza 6 / Línea de 2 metros","Fuerza 8 / Línea de 5 metros","Fuerza 10 / Línea de 10 metros","Fuerza 12 / Línea de 20 metros","Fuerza 14 / Línea de 50 metros","Fuerza 18 / Línea de 100 metros"])),Zt.addPoder(new qb("Destrozar",2,fn,!1,"",["Fatiga 8","Fatiga 6","Fatiga 4","Fatiga 2","100 RF","120 RF","140 RF","160 RF","180 RF","220 RF"])),Zt.addPoder(new qb("Detección de movimiento",2,fn,!0,"",["Fatiga 4","Fatiga 2","Fatiga 1","120 RF / 10 metros de radio","160 RF / 50 metros de radio","200 RF / 100 metros de radio","240 RF / 500 metros de radio","280 RF / 1 kilómetro de radio","320 RF / 10 kilómetros de radio","400 RF / 100 kilómetros de radio"])),Zt.addPoder(new qb("Vuelo telequinético",2,fn,!0,"",["Fatiga 4","Fatiga 2","Fatiga 1","Tipo de vuelo 6","Tipo de vuelo 8","Tipo de vuelo 10","Tipo de vuelo 12","Tipo de vuelo 14","Tipo de vuelo 16","Tipo de vuelo 18"])),Zt.addPoder(new qb("Telequinesis orgánica",2,fn,!0,"",["Fatiga 6","Fatiga 4","Fatiga 2","100 Kg. / Tipo de vuelo 4 / 100 RF","250 Kg. / Tipo de vuelo 6 / 120 RF","500 Kg. / Tipo de vuelo 8 / 140 RF","1.000 Kg. / Tipo de vuelo 10 / 160 RF","2.500 Kg. / Tipo de vuelo 12 / 180 RF","5.000 Kg. / Tipo de vuelo 14 / 200 RF","10.000 Kg. / Tipo de vuelo 16 / 220 RF"])),Zt.addPoder(new qb("Telequinesis mayor",3,fn,!0,"",["Fatiga 24","Fatiga 20","Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 4","500 toneladas / Tipo de vuelo 4","10.000 toneladas / Tipo de vuelo 6","100.00 toneladas / Tipo de vuelo 8","1.000.000 toneladas / Tipo de vuelo 10"])),Zt.addPoder(new qb("Control del terreno",3,fn,!1,"",["Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","10 metros de radio / Barrera de daño 40","100 metros de radio / Barrera de daño 60","250 metros de radio / Barrera de daño 80","500 metros de radio / Barrera de daño 100","1 kilómetro de radio / Barrera de daño 140"])),Zt.addPoder(new qb("Reestructuración atómica",3,fn,!1,"",["Fatiga 24","Fatiga 20","Fatiga 16","Fatiga 12","Fatiga 8","Fatiga 6","Fatiga 4","140 RF / 100 Kg.","160 RF / 10 toneladas","200 RF / 100 toneladas"])),vt.push(Zt),Hb.prototype={constructor:Hb,getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getCosteCM:function(){return this.costeCM},getRequisitos:function(){return this.requisitos},getEfecto:function(){return this.efecto},isHabilidad:function(){return this.esHabilidad},getNombreHabilidadMedia:function(){return this.nombreHabilidadMedia},cumple:function(a){for(var b=!0,c=0;c<this.requisitos.length;c++)a.hasHabilidadKi(this.requisitos[c])||(b=!1);return b},toJSON:function(){return this.nombre}};var $t="Error: nivel de efecto desconocido";Ib.prototype={constructor:Ib,getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getNivelesEfecto:function(){return this.nivelesEfecto},getNivelEfectoPorNombre:function(a){for(var b=0;b<this.nivelesEfecto.length;b++)if(this.nivelesEfecto[b].getNombre()==a)return this.nivelesEfecto[b];throw $t+": "+a+" en efecto "+this.getNombre()},getCaracPrimaria:function(){return this.caracPrimaria},getElementosAfines:function(){return this.elementosAfines},getTipoEfecto:function(){return this.tipoEfecto},getCaracSecundarias:function(){return this.caracSecundarias},getVentajasOpcionales:function(){return this.ventajasOpcionales},getVentajaOpcionalPorNombre:function(a){for(var b=0;b<this.ventajasOpcionales.length;b++)if(this.ventajasOpcionales[b].getNombre()==a)return this.ventajasOpcionales[b];throw iv+": "+a},getEspecial:function(){return this.especial},toJSON:function(){return this.nombre}},Jb.prototype={constructor:Jb,getNombre:function(){return this.nombre},getCostePrimario:function(){return this.costePrimario},getCosteSecundario:function(){return this.costeSecundario},getCosteCM:function(){return this.costeCM},hasCosteMantenimiento:function(){return 0!=this.costeMantenimiento},getCosteMantenimiento:function(){return this.costeMantenimiento},getNivelMinimo:function(){return this.nivelMinimo},toJSON:function(){return this.nombre+"--"+this.nombreEfectoTecnica}},Kb.prototype={constructor:Kb,getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getNivelesVentaja:function(){return this.nivelesVentaja},getNivelPorNombre:function(a){for(var b=0;b<this.nivelesVentaja.length;b++)if(this.nivelesVentaja[b].getNombre()==a)return this.nivelesVentaja[b];throw $t+": nombre"},setNombreEfectoTecnica:function(a){this.nombreEfectoTecnica=a;for(var b=0;b<this.nivelesVentaja.length;b++)this.nivelesVentaja[b].nombreEfectoTecnica=a},toJSON:function(){return this.nombre+"--"+this.nombreEfectoTecnica}},Lb.prototype={constructor:Lb,getNombre:function(){return this.nombre},getCosteKi:function(){return this.costeKi},getCosteCM:function(){return this.costeCM},getCosteMantenimiento:function(){return this.costeMantenimiento},getNivel:function(){return this.nivel},toJSON:function(){return this.nombre+"--"+this.nombreVentajaTecnica+"--"+this.nombreEfectoTecnica}},Mb.prototype={constructor:Mb,getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getEfecto:function(){return this.efecto},getIncompatibles:function(){return this.incompatibles},getCosteCM:function(){return this.costeCM},getNivelMinimo:function(){return this.nivelMinimo},toJSON:function(){return this.nombre}},Nb.prototype={constructor:Nb,getNombre:function(){return this.nombre},setNombre:function(a){this.nombre=a,u(au)},getArbolTecnicas:function(){return this.arbolTecnicas},setArbolTecnicas:function(a){this.arbolTecnicas=a,u(au)},getDescripcion:function(){return this.descripcion},setDescripcion:function(a){this.descripcion=a,u(au)},isMantenida:function(){var a=!1;this.efectoPrimario&&(a=this.efectoPrimario.isMantenido());for(var b=0;b<this.efectosSecundarios.length;b++)this.efectosSecundarios[b].isMantenido()&&(a=!0);return a},getNivel:function(){return this.nivel},setNivel:function(a){if(a>=1&&3>=a){this.nivel=a;var b=!0;Hn&&(w(),b=!1),this.maxCM=mc(this.nivel),this.minCM=nc(this.nivel),this.maxDesventajas=oc(this.nivel),b||v(),u(au)}},getMaxCM:function(){return this.maxCM},getMinCM:function(){return this.minCM},getCosteCM:function(){var a=0;this.efectoPrimario&&(a+=this.efectoPrimario.getCosteCM());var b;for(b=0;b<this.efectosSecundarios.length;b++)a+=this.efectosSecundarios[b].getCosteCM();for(b=0;b<this.desventajas.length;b++)a+=this.desventajas[b].getCosteCM();return this.isMantenida()&&(a+=10*this.nivel),a<this.minCM&&(a=this.minCM),a},puedeAñadirEfectoDeCoste:function(a){var b=this.getCosteCM();return b+a<=this.maxCM},puedeAñadirEfectoDeNivelMinimo:function(a){return a<=this.nivel},puedeAñadirEfectoDeElementos:function(a){return!this.hasAtaduraElemental||this.ataduraElemental.agua&&a.agua||this.ataduraElemental.fuego&&a.fuego||this.ataduraElemental.aire&&a.aire||this.ataduraElemental.tierra&&a.tierra||this.ataduraElemental.luz&&a.luz||this.ataduraElemental.oscuridad&&a.oscuridad},puedeFijarComoPrimario:function(a){var b=0,c=a.getElementosAfines();this.efectoPrimario&&(b=this.efectoPrimario.getCosteCM());var d=a.getCosteCM()-b;if(this.efectoPrimario&&this.efectoPrimario.getNombre()!=a.getNombre()&&this.hasEfecto(a)){var e=this.getEfecto(a.getNombre());d-=e.getCosteCM()}var f=this.puedeAñadirEfectoDeCoste(d);return f&&this.puedeAñadirEfectoDeNivelMinimo(a.getNivelMinimo())&&this.puedeAñadirEfectoDeElementos(c)},fijaComoPrimario:function(a){this.puedeFijarComoPrimario(a)&&(a.setPrimario(!0),this.efectoPrimario&&delete this.allEfectos[this.efectoPrimario.getNombre()],this.efectoPrimario=c,this.hasEfecto(a)&&this.removeEfectoSecundario(a),this.efectoPrimario=a,this.allEfectos[a.getNombre()]=a,u(au))},puedeAñadirSecundario:function(a){var b=!0,c=a.getCosteCM();if(this.hasEfecto(a))if(this.efectoPrimario.getNombre()==a.getNombre())b=!1;else{var d=this.getEfecto(a.getNombre());c-=d.getCosteCM()}return b&&this.puedeAñadirEfectoDeCoste(c)&&this.puedeAñadirEfectoDeNivelMinimo(a.getNivelMinimo())&&this.puedeAñadirEfectoDeElementos(a.getElementosAfines())},addEfectoSecundario:function(a){this.puedeAñadirSecundario(a)&&(a.setPrimario(!1),this.hasEfecto(a)&&this.removeEfectoSecundario(a),this.efectosSecundarios.push(a),this.allEfectos[a.getNombre()]=a,u(au))},removeEfectoSecundario:function(a){this.efectosSecundarios=n(this.efectosSecundarios,o,a.getNombre()),u(au)},hasEfecto:function(a){return this.allEfectos[a.getNombre()]!=c},getEfecto:function(a){return this.allEfectos[a]},puedeAñadirDesventaja:function(a){for(var b=this.desventajas.length<this.getMaxDesventajas(),c=!0,d=a.getIncompatibles(),e=0;e<d.length;e++)if(this.hasDesventaja(d[e])){c=!1;break}return b&&c},addDesventaja:function(a){this.puedeAñadirDesventaja(a)&&(this.desventajas.push(a),a.isAtaduraElemental()&&(this.ataduraElemental=a.getAtaduraElemental(),this.hasAtaduraElemental=!0),u(au))},removeDesventaja:function(a){this.hasDesventaja(a.getNombre())&&(this.desventajas=n(this.desventajas,o,a.getNombre()),a.isAtaduraElemental()&&(this.ataduraElemental=new Sb([]),this.hasAtaduraElemental=!1),u(au))},hasDesventaja:function(a){for(var b=0;b<this.desventajas.length;b++)if(this.desventajas[b].getNombre()==a)return!0;return!1},getMaxDesventajas:function(){return this.maxDesventajas},getEfectoPrimario:function(){return this.efectoPrimario},getEfectosSecundarios:function(){return this.efectosSecundarios},getDesventajas:function(){return this.desventajas},compruebaAtadurasElementales:function(){var a,b,c=!0;if(this.hasAtaduraElemental)for(b=this.efectoPrimario.getElementosAfines(),c=this.puedeAñadirEfectoDeElementos(b),a=0;a<this.efectosSecundarios.length;a++)b=this.efectosSecundarios[a].getElementosAfines(),c=c&&this.puedeAñadirEfectoDeElementos(b);return c},isCorrecta:function(){var a=this.getCosteCM(),b=this.desventajas.length;return a>=this.minCM&&a<=this.maxCM&&b<=this.maxDesventajas&&this.compruebaAtadurasElementales()&&0!=this.efectoPrimario},addVentajaEfecto:function(a,b){a.addVentajaOpcional(b),u(au)},removeVentajaEfecto:function(a,b){a.removeVentajaOpcional(b),u(au)},setEfectoMantenido:function(a,b){a.setMantenido(b),u(au)},getCosteKi:function(){if(this.costeKi)return this.costeKi;var a=new Tb(0,0,0,0,0,0,Gk);this.efectoPrimario&&(a=this.efectoPrimario.getCosteKiTotal());for(var b=0;b<this.efectosSecundarios.length;b++)a=this.efectosSecundarios[b].getCosteKiTotal().sumaCosteKi(a);return a},getCosteMantenimiento:function(){if(this.costeMantenimiento)return this.costeMantenimiento;var a=new Tb(0,0,0,0,0,0,Gk);this.efectoPrimario&&(a=this.efectoPrimario.getCosteMantenimiento());for(var b=0;b<this.efectosSecundarios.length;b++)a=this.efectosSecundarios[b].getCosteMantenimiento().sumaCosteKi(a);return a}},Ob.prototype={constructor:Ob,getNombre:function(){return this.efectoTecnica.getNombre()},getNombreCompleto:function(){return this.efectoTecnica.getNombre()+" "+this.nivelElegido.getNombre()},getElementosAfines:function(){return this.efectoTecnica.getElementosAfines()},getCaracPrimaria:function(){return this.efectoTecnica.getCaracPrimaria()},getCaracSecundarias:function(){return this.efectoTecnica.getCaracSecundarias()},getCosteMantenimiento:function(){return this.costeMantenimiento},getCosteCM:function(){for(var a=this.nivelElegido.getCosteCM(),b=0;b<this.ventajasOpcionalesElegidas.length;b++)a+=this.ventajasOpcionalesElegidas[b].getCosteCM();var c=this.efectoTecnica.getEspecial();for(b=0;b<c.length;b++)c[b]==xu&&this.ventajasOpcionalesElegidas.length>0&&(a+=2*(this.ventajasOpcionalesElegidas.length-1));return a},getNivelMinimo:function(){return this.nivelElegido.getNivelMinimo()},getVentajasOpcionales:function(){return this.efectoTecnica.getVentajasOpcionales()},getVentajaOpcionalPorNombre:function(a){return this.efectoTecnica.getVentajaOpcionalPorNombre(a)},getVentajasOpcionalesElegidas:function(){return this.ventajasOpcionalesElegidas},addVentajaOpcional:function(a){this.ventajasOpcionalesElegidas.push(a),this.costeKi.addCoste(this.efectoTecnica.getCaracPrimaria(),a.getCosteKi()),this.isMantenido()&&this.costeMantenimiento.addCoste(this.efectoTecnica.getCaracPrimaria(),a.getCosteMantenimiento())},removeVentajaOpcional:function(a){this.ventajasOpcionalesElegidas=n(this.ventajasOpcionalesElegidas,o,a.getNombre()),this.initCosteKi(),this.isMantenido()&&this.initCosteMantenimiento()},initCosteKi:function(){var a;for(this.costeKi=new Tb(0,0,0,0,0,0,this.efectoTecnica.getCaracPrimaria()),this.primario?this.costeKi.setCoste(this.efectoTecnica.getCaracPrimaria(),this.nivelEfectoTecnica.getCostePrimario()):this.costeKi.setCoste(this.efectoTecnica.getCaracPrimaria(),this.nivelEfectoTecnica.getCosteSecundario()),a=0;a<this.ventajasOpcionalesElegidas.length;a++)this.costeKi.addCoste(this.efectoTecnica.getCaracPrimaria(),this.ventajasOpcionalesElegidas[a].getCosteKi());var b=this.efectoTecnica.getCaracSecundarias();for(a=0;a<b.length;a++)this.costeKi.mod[b[a].caracteristica]=b[a].modificador},initCosteMantenimiento:function(){var a;for(this.costeMantenimiento=new Tb(0,0,0,0,0,0,this.efectoTecnica.getCaracPrimaria()),this.costeMantenimiento.setCoste(this.efectoTecnica.getCaracPrimaria(),this.nivelEfectoTecnica.getCosteMantenimiento()),a=0;a<this.ventajasOpcionalesElegidas.length;a++)this.costeMantenimiento.addCoste(this.efectoTecnica.getCaracPrimaria(),this.ventajasOpcionalesElegidas[a].getCosteMantenimiento());for(a=0;a<caracSec.length;a++)this.costeMantenimiento.mod[caracSec[a].caracteristica]=caracSec[a].modificador},isPrimario:function(){return this.primario},setPrimario:function(a){this.primario&&!a?(this.costeKi.addCoste(this.efectoTecnica.getCaracPrimaria(),-1*this.nivelElegido.getCostePrimario()),this.costeKi.addCoste(this.efectoTecnica.getCaracPrimaria(),this.nivelElegido.getCosteSecundario())):!this.primario&&a&&(this.costeKi.addCoste(this.efectoTecnica.getCaracPrimaria(),this.nivelElegido.getCostePrimario()),this.costeKi.addCoste(this.efectoTecnica.getCaracPrimaria(),-1*this.nivelElegido.getCosteSecundario())),this.primario=a},isMantenible:function(){return this.nivelElegido.hasCosteMantenimiento()},isMantenido:function(){return this.mantenido},setMantenido:function(a){this.mantenido=a},getCosteKi:function(){return this.costeKi},getCosteKiTotal:function(){var a=this.costeKi;return this.isMantenido()&&(a=a.sumaCosteKi(this.costeMantenimiento)),a}},Pb.prototype={constructor:Pb,getVentajaTecnica:function(){return this.ventajaTecnica},getNivelElegido:function(){return this.nivelElegido},getNombre:function(){var a=this.ventajaTecnica.getNombre();return this.ventajaTecnica.getNivelesVentaja().length>1&&(a+=" ("+this.nivelElegido.getNombre()+")"),a},getDescripcion:function(){return this.ventajaTecnica.getDescripcion()},getCosteKi:function(){return this.nivelElegido.getCosteKi()},getCosteCM:function(){return this.nivelElegido.getCosteCM()},getCosteMantenimiento:function(){return this.nivelElegido.getCosteMantenimiento()},getNivelMinimo:function(){return this.nivelElegido.getNivelMinimo()}},Qb.prototype={constructor:Qb,getNombre:function(){var a=this.desventajaTecnica.getNombre();return this.hasDescripcionPropia&&(a+=" ("+this.descripcion+")"),this.isAtaduraElemental()&&(a+=" ["+this.getAtaduraElemental().toString()+"]"),a},getEfecto:function(){return this.desventajaTecnica.getEfecto()},getDescripcion:function(){return this.descripcion},setDescripcion:function(a){this.descripcion=a,this.hasDescripcionPropia=!0},getIncompatibles:function(){return this.desventajaTecnica.getIncompatibles()},getCosteCM:function(){return this.costeCM},setCosteCM:function(a){this.costeCM=a},getNivelMinimo:function(){return this.desventajaTecnica.getNivelMinimo()},isAtaduraElemental:function(){return this.esAtaduraElemental},setAtaduraElemental:function(a){this.esAtaduraElemental=!0,this.ataduraElemental=a},getAtaduraElemental:function(){return this.ataduraElemental}},Sb.prototype={constructor:Sb,toString:function(){var a="";return this.agua&&(a+="agua,"),this.fuego&&(a+="fuego,"),this.aire&&(a+="aire,"),this.tierra&&(a+="tierra,"),this.luz&&(a+="luz,"),this.oscuridad&&(a+="oscuridad,"),a.length>0&&(a=a.substr(0,a.length-1)),a}};var _t=[Gk,Fk,Hk,Ek,Jk,Kk];Tb.prototype={constructor:Tb,toString:function(){return"A:"+this.coste[Gk]+" C:"+this.coste[Hk]+" D:"+this.coste[Fk]+" F:"+this.coste[Ek]+" P:"+this.coste[Jk]+" V:"+this.coste[Kk]},getCoste:function(a){return this.coste[a]},pasaCoste:function(a,b){0>b&&this.coste[a]<-1*b||this.coste[this.caracbase]>=b&&this.mod[a]>=0&&(0==this.coste[a]&&(this.coste[this.caracbase]+=this.mod[a]),this.coste[this.caracbase]-=b,this.coste[a]+=b,0==this.coste[a]&&(this.coste[this.caracbase]-=this.mod[a]))},getCaracteristicasDestino:function(){for(var a=[],b=0;b<_t.length;b++)this.caracbase!=_t[b]&&this.mod[_t[b]]>=0&&a.push(_t[b]);return a},sumaCosteKi:function(a){return new Tb(this.coste[Gk]+a.getCoste(Gk),this.coste[Hk]+a.getCoste(Hk),this.coste[Fk]+a.getCoste(Fk),this.coste[Ek]+a.getCoste(Ek),this.coste[Jk]+a.getCoste(Jk),this.coste[Kk]+a.getCoste(Kk),this.caracbase)},setCoste:function(a,b){this.coste[a]=b},addCoste:function(a,b){this.setCoste(a,this.getCoste(a)+b)}},Ub.prototype={constructor:Ub,getNombre:function(){return this.habilidadKi.nombre},getCosteCM:function(){return this.habilidadKi.costeCM},getRequisitos:function(){return this.ignoraRequisitos?[]:this.habilidadKi.requisitos},getEfecto:function(){return this.habilidadKi.efecto},isHabilidad:function(){return this.habilidadKi.esHabilidad},getNombreHabilidadMedia:function(){return this.habilidadKi.nombreHabilidadMedia},getValorActual:function(a){return Math.floor((a.getCMTotal()+a.getHabilidadDePersonaje(this.getNombreHabilidadMedia()).valorFinalActual())/2)},isAnulable:function(){return this.anulable},isIgnoraRequisitos:function(){return this.ignoraRequisitos},cumple:function(a){for(var b=!0,c=0;c<this.habilidadKi.requisitos.length;c++)a.hasHabilidadKi(this.habilidadKi.requisitos[c])||(b=!1);return b},setAnulable:function(a){this.anulable=a}},Vb.prototype={constructor:Vb,getNombre:function(){return this.tecnicaKi.nombre},getArbolTecnicas:function(){return this.tecnicaKi.arbolTecnicas},getDescripcion:function(){return this.tecnicaKi.descripcion},isMantenida:function(){return this.tecnicaKi.isMantenida()},getNivel:function(){return this.tecnicaKi.nivel},getCosteCM:function(){return this.tecnicaKi.getCosteCM()},hasEfecto:function(a){return this.tecnicaKi.hasEfecto(a)},getEfecto:function(a){return this.tecnicaKi.getEfecto(a)},hasDesventaja:function(a){return this.tecnicaKi.hasDesventaja(a)},getEfectoPrimario:function(){return this.tecnicaKi.efectoPrimario},getEfectosSecundarios:function(){return this.tecnicaKi.efectosSecundarios},getDesventajas:function(){return this.tecnicaKi.desventajas},compruebaAtadurasElementales:function(){return this.tecnicaKi.compruebaAtadurasElementales()},isCorrecta:function(){return this.tecnicaKi.isCorrecta()},getCosteKi:function(){return this.tecnicaKi.getCosteKi()},getCosteMantenimiento:function(){return this.tecnicaKi.getCosteMantenimiento()},isAnulable:function(){return this.anulable},setAnulable:function(a){this.anulable=a}};var au="EVENT_TECNICA_CREACION",bu="EVENT_COSTE_KI_CAMBIO",cu=[],du={},eu=[],fu=[],gu="Error: habilidad ki desconocida",hu="Error: técnica ki desconocida",iu="Error: efecto ki desconocida",ju="Aire",ku="Agua",lu="Fuego",mu="Tierra",nu="Luz",ou="Oscuridad",pu="Efecto ofensivo",qu="Efecto defensivo",ru="Efecto destructivo",su="Efecto de acción",tu="Efecto de reacción",uu="Efecto esotérico",vu="Efecto especial",wu=[pu,qu,ru,su,tu,uu,vu],xu="Cada elección adicional aumenta dos puntos el coste añadido de Ki de la ventaja",yu=[],zu={},Au=[],Bu={},Cu="Uso del Ki",Du="Control del Ki",Eu="Detección del Ki",Fu="Erudición",Gu="Eliminación de peso",Hu="Levitación",Iu="Movimiento de objetos",Ju="Vuelo",Ku="Extrusión de presencia",Lu="Armadura de energía",Mu="Extensión del aura al arma",Nu="Destrucción por Ki",Ou="Transmisión del Ki",Pu="Curación por Ki",Qu="Uso de la Energía Necesaria",Ru="Ocultación del Ki",Su="Falsa muerte",Tu="Eliminación de necesidades",Uu="Eliminación de penalizadores",Vu="Recuperación",Wu="Aumento de características",Xu="Inhumanidad",Yu="Zen";$b(new Hb(Cu,"",40,[],ic,!1)),$b(new Hb(Du,"",30,[Cu],bc,!1)),$b(new Hb(Eu,"",20,[Du],cc,!0,$r)),$b(new Hb(Fu,"",10,[Eu],ic,!1)),$b(new Hb(Gu,"",10,[Cu],ic,!1)),$b(new Hb(Hu,"",20,[Gu],ic,!1)),$b(new Hb(Iu,"",10,[Hu],ic,!1)),$b(new Hb(Ju,"",20,[Hu],ic,!1)),$b(new Hb(Ku,"",10,[Cu],ic,!1)),$b(new Hb(Lu,"",10,[Ku],dc,!1)),$b(new Hb(Mu,"",10,[Ku],ec,!1)),$b(new Hb(Nu,"",20,[Ku],ic,!1)),$b(new Hb(Ou,"",10,[Cu],ic,!1)),$b(new Hb(Pu,"",10,[Ou],ic,!1)),$b(new Hb(Qu,"",10,[Cu],ic,!1)),$b(new Hb(Ru,"",10,[Qu],fc,!0,Tr)),$b(new Hb(Su,"",10,[Ru],ic,!1)),$b(new Hb(Tu,"",10,[Qu],ic,!1)),$b(new Hb(Uu,"",20,[Qu],ic,!1)),$b(new Hb(Vu,"",20,[Uu],ic,!1)),$b(new Hb(Wu,"",20,[Qu],ic,!1)),$b(new Hb(Xu,"",30,[Cu],gc,!1)),$b(new Hb(Yu,"",50,[Xu],hc,!1)),tc(new Mb("Atadura elemental (1 elemento)","",[Oc,1],["Atadura elemental (2 elementos)"],-15,1)),tc(new Mb("Atadura elemental (2 elementos)","",[Oc,2],["Atadura elemental (1 elemento)"],-10,1)),tc(new Mb("Daño reducido (Mitad de daño)","",[],["Daño reducido (Ningún daño)"],-10,1)),tc(new Mb("Daño reducido (Ningún daño)","",[],["Daño reducido (Mitad de daño)"],-20,1)),tc(new Mb("Requerimientos especiales (Intesidad simple)","",[],["Requerimientos especiales (Intesidad mayor)"],-10,1)),tc(new Mb("Requerimientos especiales (Intesidad mayor)","",[],["Requerimientos especiales (Intesidad simple)"],-15,1)),tc(new Mb("Condición determinada","",[Qc,-25,-5],[],0,1)),tc(new Mb("Predeterminación","",[],[],-20,2)),sc(new Ib("Ataque adicional","",su,[new Jb("+1",6,9,20,3,1),new Jb("+2",12,15,30,6,1),new Jb("+3",18,22,40,9,1),new Jb("+4",24,29,50,12,2),new Jb("+5",30,36,60,15,3)],Fk,new Sb([ju,ku]),[new Rb(Gk,2),new Rb(Jk,3),new Rb(Kk,3),new Rb(Hk,1)],[new Kb("Ataque continuo","",[new Lb("Ataque continuo",10,30,5,1)]),new Kb("Bono de Cansancio añadido","",[new Lb("Cansancio añadido",8,30,2,1)])])),sc(new Ib("Ataque adicional limitado","",su,[new Jb("+1",3,5,5,1,1),new Jb("+2",6,9,10,2,1),new Jb("+3",9,12,15,3,1),new Jb("+4",12,15,20,4,1),new Jb("+5",15,19,30,6,1),new Jb("+6",18,22,40,8,2),new Jb("+8",22,26,50,10,2),new Jb("+10",26,32,60,12,3)],Fk,new Sb([ju,ku,ou]),[new Rb(Gk,2),new Rb(Jk,3),new Rb(Kk,3),new Rb(Hk,1)],[new Kb("Ataque continuo","",[new Lb("Ataque continuo",10,30,5,1)])])),sc(new Ib("Defensa adicional","",su,[new Jb("+1",1,2,5,1,1),new Jb("+2",2,4,5,2,1),new Jb("+3",3,5,10,3,1),new Jb("+4",4,6,15,4,1),new Jb("+6",5,8,20,6,1),new Jb("+8",6,9,25,8,1),new Jb("+10",7,10,30,10,2),new Jb("Ilimitadas",8,11,35,12,3)],Gk,new Sb([nu]),[new Rb(Fk,1),new Rb(Jk,3),new Rb(Kk,3),new Rb(Hk,1)],[new Kb("Bono de Cansancio añadido","",[new Lb("Cansancio añadido",6,20,2,1)])])),sc(new Ib("Acción adicional","",su,[new Jb("+1",1,2,5,1,1),new Jb("+2",2,4,5,2,1),new Jb("+3",3,5,10,3,1),new Jb("+4",4,6,15,4,1),new Jb("+5",5,8,20,6,1),new Jb("+6",6,9,25,8,1),new Jb("+8",7,10,30,10,2),new Jb("+10",8,11,35,12,3)],Fk,new Sb([ju]),[new Rb(Gk,1),new Rb(Jk,3),new Rb(Kk,3),new Rb(Hk,1)],[new Kb("Bono de Cansancio añadido","",[new Lb("Cansancio añadido",6,20,1,1)])])),sc(new Ib("Habilidad de parada","",qu,[new Jb("+10",2,4,5,1,1),new Jb("+25",3,5,5,1,1),new Jb("+40",4,6,10,2,1),new Jb("+50",5,8,15,3,1),new Jb("+75",8,11,20,4,1),new Jb("+90",12,15,25,5,1),new Jb("+100",14,18,30,8,1),new Jb("+125",18,22,35,10,2),new Jb("+150",22,26,40,12,2),new Jb("+175",26,32,45,14,3),new Jb("+200",30,36,50,16,3)],Fk,new Sb([nu,ku,mu]),[new Rb(Gk,2),new Rb(Jk,2),new Rb(Kk,3),new Rb(Ek,2)])),sc(new Ib("Habilidad de parada limitada","",qu,[new Jb("+10",1,2,5,1,1),new Jb("+25",2,4,5,1,1),new Jb("+40",3,5,10,1,1),new Jb("+50",4,6,10,2,1),new Jb("+75",6,9,15,3,1),new Jb("+90",8,11,20,4,1),new Jb("+100",10,13,25,6,1),new Jb("+125",12,15,30,8,2),new Jb("+150",16,20,35,10,2),new Jb("+175",20,24,40,12,3),new Jb("+200",24,29,45,14,3)],Fk,new Sb([nu,ku,mu]),[new Rb(Gk,2),new Rb(Jk,2),new Rb(Kk,3),new Rb(Ek,2)])),sc(new Ib("Habilidad de esquiva","",qu,[new Jb("+10",2,4,5,1,1),new Jb("+25",3,5,5,1,1),new Jb("+40",4,6,10,2,1),new Jb("+50",5,8,15,3,1),new Jb("+75",8,11,20,4,1),new Jb("+90",12,15,25,5,1),new Jb("+100",14,18,30,8,1),new Jb("+125",18,22,35,10,2),new Jb("+150",22,26,40,12,2),new Jb("+175",26,32,45,14,3),new Jb("+200",30,36,50,16,3)],Gk,new Sb([nu,ju,ku]),[new Rb(Fk,2),new Rb(Jk,2),new Rb(Kk,3),new Rb(Ek,2)])),sc(new Ib("Habilidad de esquiva limitada","",qu,[new Jb("+10",1,2,5,1,1),new Jb("+25",2,4,5,1,1),new Jb("+40",3,5,10,1,1),new Jb("+50",4,6,10,2,1),new Jb("+75",6,9,15,3,1),new Jb("+90",8,11,20,4,1),new Jb("+100",10,13,25,6,1),new Jb("+125",12,15,30,8,2),new Jb("+150",16,20,35,10,2),new Jb("+175",20,24,40,12,3),new Jb("+200",24,29,45,14,3)],Gk,new Sb([nu,ju,ou]),[new Rb(Fk,2),new Rb(Jk,2),new Rb(Kk,3),new Rb(Hk,2)])),sc(new Ib("Multiplicador al daño","",ru,[new Jb("x2",10,15,25,4,1),new Jb("x3",15,20,40,8,2),new Jb("x4",20,30,80,12,3)],Ek,[lu,mu],[new Rb(Fk,3),new Rb(Jk,1),new Rb(Kk,1),new Rb(Hk,2)])),sc(new Ib("Aumento de daño","",ru,[new Jb("+10",1,2,5,1,1),new Jb("+25",2,4,5,1,1),new Jb("+40",3,5,10,1,1),new Jb("+50",4,6,15,2,1),new Jb("+75",6,9,20,3,1),new Jb("+90",8,11,25,4,1),new Jb("+100",10,13,30,5,1),new Jb("+125",14,18,35,6,2),new Jb("+150",16,20,40,8,2),new Jb("+175",18,22,45,10,3),new Jb("+200",20,24,50,12,3)],Ek,[lu,mu],[new Rb(Fk,3),new Rb(Jk,2),new Rb(Kk,1),new Rb(Hk,1)],[new Kb("Sacrificio","",[new Lb("Sacrificio vital",4,15,3,1),new Lb("Sacrificio vital doble",10,50,4,1),new Lb("Sacrificio de salud",2,10,2,1),new Lb("Sacrificio de características",2,10,2,1)])])),sc(new Ib("Estados","",uu,[new Jb("40",1,2,5,1,1),new Jb("60",2,4,5,1,1),new Jb("80",3,5,10,2,1),new Jb("100",5,8,15,3,1),new Jb("120",6,9,20,4,1),new Jb("140",8,11,20,5,2),new Jb("180",10,13,30,6,2),new Jb("200",14,18,50,8,3),new Jb("240",18,22,80,10,3)],Jk,new Sb([ou,nu]),[new Rb(Kk,1),new Rb(Ek,4),new Rb(Fk,4),new Rb(Hk,4)],[new Kb("Estado añadido: Penalizador a la acción","",[new Lb("Penalizador a la acción",2,5,0,1)]),new Kb("Estado añadido: Ceguera","",[new Lb("Ceguera",5,15,0,1)]),new Kb("Estado añadido: Reducción de RF","",[new Lb("Reducción de RF",2,10,0,1)]),new Kb("Estado añadido: Reducción de características (AGI)","",[new Lb("Reducción de características",2,10,0,1)]),new Kb("Estado añadido: Reducción de características (CON)","",[new Lb("Reducción de características",2,10,0,1)]),new Kb("Estado añadido: Reducción de características (DES)","",[new Lb("Reducción de características",2,10,0,1)]),new Kb("Estado añadido: Reducción de características (FUE)","",[new Lb("Reducción de características",2,10,0,1)]),new Kb("Estado añadido: Reducción de características (INT)","",[new Lb("Reducción de características",2,10,0,1)]),new Kb("Estado añadido: Reducción de características (PER)","",[new Lb("Reducción de características",2,10,0,1)]),new Kb("Estado añadido: Reducción de características (POD)","",[new Lb("Reducción de características",2,10,0,1)]),new Kb("Estado añadido: Reducción de características (VOL)","",[new Lb("Reducción de características",2,10,0,1)]),new Kb("Estado añadido: Paralización parcial","",[new Lb("Paralización parcial",6,10,0,1)]),new Kb("Estado añadido: Daño","",[new Lb("Daño",5,10,0,1)]),new Kb("Estado añadido: Inconsciencia","",[new Lb("Inconsciencia",8,15,0,1)]),new Kb("Estado añadido: Coma","",[new Lb("Coma",10,30,0,2)]),new Kb("Estado añadido: Paralización total","",[new Lb("Paralización total",8,20,0,2)]),new Kb("Estado añadido: Drenaje de vida","",[new Lb("Drenaje de vida",8,15,0,2)]),new Kb("Estado añadido: Control","",[new Lb("Control",10,40,0,3)]),new Kb("Estado añadido: Muerte","",[new Lb("Muerte",12,50,0,3)])],[xu])),sc(new Ib("Maniobras de combate y apuntar","",vu,[new Jb("-10",1,2,5,1,1),new Jb("-25",2,4,5,1,1),new Jb("-50",3,5,10,2,1),new Jb("-75",4,6,10,2,2),new Jb("-100",6,9,15,3,2),new Jb("-120",8,11,20,3,3)],Fk,new Sb([ju]),[new Rb(Gk,1),new Rb(Jk,2),new Rb(Kk,2),new Rb(Hk,2)])),sc(new Ib("Aumentar armadura","",vu,[new Jb("1",1,2,5,1,1),new Jb("2",2,4,5,1,1),new Jb("3",4,6,10,2,1),new Jb("4",6,9,15,2,1),new Jb("5",8,11,20,3,2),new Jb("6",10,13,25,3,2),new Jb("7",12,15,30,4,2),new Jb("8",14,18,40,5,3)],Hk,new Sb([mu,ku,nu]),[new Rb(Jk,1),new Rb(Kk,2),new Rb(Ek,2),new Rb(Gk,3)])),sc(new Ib("Destruir armadura","",vu,[new Jb("-1 TA",1,2,5,1,1),new Jb("-2 TA",2,4,5,1,1),new Jb("-3 TA",3,5,10,2,1),new Jb("-4 TA",4,6,10,2,1),new Jb("-5 TA",5,8,15,3,2),new Jb("-6 TA",6,9,20,3,2),new Jb("-7 TA",8,11,25,4,2),new Jb("-8 TA",10,13,30,5,3)],Ek,new Sb([ou,lu]),[new Rb(Jk,1),new Rb(Kk,2),new Rb(Fk,2),new Rb(Hk,2)])),sc(new Ib("Aumentar rotura","",vu,[new Jb("+5",1,2,5,1,1),new Jb("+10",2,4,10,1,1),new Jb("+15",4,6,15,2,1),new Jb("+20",6,9,20,3,1),new Jb("+25",8,11,25,4,2),new Jb("+30",12,15,30,5,2),new Jb("+35",14,18,35,6,2),new Jb("+40",18,22,40,8,3)],Ek,new Sb([mu,lu]),[new Rb(Kk,1),new Rb(Jk,2),new Rb(Fk,4),new Rb(Hk,2)])),sc(new Ib("Aumentar entereza","",vu,[new Jb("+10",1,2,5,1,1),new Jb("+15",2,4,5,1,1),new Jb("+20",3,5,10,2,1),new Jb("+25",4,6,10,2,1),new Jb("+30",5,8,15,3,2),new Jb("+35",6,9,20,3,2),new Jb("+40",7,10,25,4,3)],Ek,new Sb([mu,lu]),[new Rb(Kk,1),new Rb(Jk,2),new Rb(Fk,4),new Rb(Hk,2)])),sc(new Ib("Ataque a distancia","",vu,[new Jb("5 metros",1,2,5,1,1),new Jb("10 metros",2,4,10,1,1),new Jb("20 metros",3,5,10,2,1),new Jb("50 metros",4,6,15,3,1),new Jb("100 metros",5,8,20,4,1),new Jb("250 metros",6,9,25,5,2),new Jb("500 metros",8,11,30,6,2),new Jb("1 kilómetro",10,13,35,8,2),new Jb("5 kilómetros",14,18,40,10,3),new Jb("10 kilómetros",18,22,45,12,3),new Jb("100 kilómetros",22,26,50,14,3)],Jk,new Sb([ju,ku,lu]),[new Rb(Kk,1),new Rb(Fk,2),new Rb(Gk,3),new Rb(Hk,4)])),sc(new Ib("Ataque con área","",vu,[new Jb("1 metro",1,2,5,1,1),new Jb("5 metros",2,4,10,1,1),new Jb("10 metros",3,5,15,2,1),new Jb("25 metros",4,6,20,3,1),new Jb("50 metros",6,9,25,4,2),new Jb("100 metros",8,11,30,5,2),new Jb("500 metros",10,13,40,6,2),new Jb("1 kilómetro",12,15,50,8,3),new Jb("5 kilómetros",16,20,60,10,3)],Jk,new Sb([ou,nu,lu]),[new Rb(Kk,1),new Rb(Fk,2),new Rb(Gk,3),new Rb(Hk,3)],[new Kb("Elección de blanco","",[new Lb("Elección de blanco",2,10,1,1)])])),sc(new Ib("Transporte automático","",vu,[new Jb("10 metros",2,4,5,1,1),new Jb("20 metros",3,5,10,2,1),new Jb("50 metros",4,6,10,3,1),new Jb("100 metros",5,8,15,4,1),new Jb("250 metros",6,9,20,5,1),new Jb("500 metros",8,11,25,6,2),new Jb("1 kilómetro",10,13,30,7,2),new Jb("5 kilómetros",14,18,35,8,2),new Jb("10 kilómetros",18,22,40,10,3),new Jb("100 kilómetros",22,26,50,12,3)],Gk,new Sb([ju,nu,ou]),[new Rb(Ek,2),new Rb(Jk,3),new Rb(Fk,2),new Rb(Hk,2)])),sc(new Ib("Potenciar crítico","",vu,[new Jb("+10",2,4,5,1,1),new Jb("+25",3,5,5,2,1),new Jb("+40",4,6,10,3,1),new Jb("+50",5,8,15,4,1),new Jb("+75",8,11,20,6,1),new Jb("+90",12,15,25,8,1),new Jb("+100",14,18,30,10,1),new Jb("+125",18,22,35,12,2),new Jb("+150",22,26,40,14,2),new Jb("+175",26,32,45,16,3),new Jb("+200",30,36,50,18,3)],Jk,new Sb([lu,mu]),[new Rb(Ek,1),new Rb(Kk,1),new Rb(Fk,2),new Rb(Hk,2)],[new Kb("Crítico automático","",[new Lb("Crítico automático",8,30,4,1)])])),sc(new Ib("Armas físicas de Ki","",vu,[new Jb("+0",2,4,5,1,1),new Jb("+5",4,6,5,1,1),new Jb("+10",6,9,10,2,1),new Jb("+15",8,11,15,3,2),new Jb("+20",10,13,20,4,3)],Jk,new Sb([nu,ou,mu]),[new Rb(Kk,1),new Rb(Hk,1),new Rb(Ek,2),new Rb(Fk,3)],[new Kb("Proyectiles","",[new Lb("Proyectiles",2,10,1,1)])])),sc(new Ib("Apresamiento","",vu,[new Jb("4",2,4,5,1,1),new Jb("6",3,5,10,2,1),new Jb("8",4,6,10,3,1),new Jb("10",5,8,15,4,1),new Jb("12",6,9,20,5,1),new Jb("14",8,11,25,6,2),new Jb("16",10,13,30,7,2),new Jb("18",14,18,35,8,3),new Jb("20",18,22,40,10,3)],Ek,new Sb([mu]),[new Rb(Fk,1),new Rb(Kk,2),new Rb(Hk,2),new Rb(Jk,2)])),sc(new Ib("Proyección","",vu,[new Jb("4",1,2,5,1,1),new Jb("6",2,4,5,2,1),new Jb("8",3,5,10,3,1),new Jb("10",4,6,10,4,1),new Jb("12",5,8,15,5,1),new Jb("14",6,9,20,6,2),new Jb("16",8,11,25,7,2),new Jb("18",10,13,30,8,3),new Jb("20",12,15,35,10,3)],Ek,new Sb([mu,lu]),[new Rb(Jk,1),new Rb(Kk,1),new Rb(Hk,2),new Rb(Fk,3)])),sc(new Ib("Escudo de energía","",vu,[new Jb("100",2,4,5,1,1),new Jb("200",3,5,5,1,1),new Jb("300",4,6,10,2,1),new Jb("400",5,8,15,3,1),new Jb("500",8,11,20,4,1),new Jb("800",12,15,25,5,2),new Jb("1.000",14,18,30,8,2),new Jb("1.250",18,22,35,10,2),new Jb("1.500",22,26,40,12,3),new Jb("2.000",26,32,45,14,3)],Jk,new Sb([nu,ku]),[new Rb(Kk,1),new Rb(Hk,2),new Rb(Ek,2),new Rb(Fk,3)])),sc(new Ib("Intangibilidad","",vu,[new Jb("Intangibilidad",3,5,10,2,1)],Jk,new Sb([nu,ou,ku]),[new Rb(Kk,1),new Rb(Hk,3),new Rb(Ek,3),new Rb(Fk,3)])),sc(new Ib("Espejismo","",vu,[new Jb("1",1,2,5,1,1),new Jb("2",2,4,5,2,1),new Jb("4",4,6,10,3,1),new Jb("6",6,9,10,4,1),new Jb("10",8,11,15,6,2),new Jb("15",10,13,20,8,2),new Jb("20",12,15,25,10,2),new Jb("25",14,18,30,12,3)],Kk,new Sb([ku,ou]),[new Rb(Jk,1),new Rb(Gk,2),new Rb(Fk,3),new Rb(Hk,3)],[new Kb("Indetección","",[new Lb("Media",1,5,0,1),new Lb("Difícil",2,10,0,1),new Lb("Muy Difícil",3,10,0,1),new Lb("Absurdo",4,15,0,1),new Lb("Casi Imposible",5,15,0,1),new Lb("Imposible",6,20,0,2),new Lb("Inhumano",7,25,0,2),new Lb("Zen",8,30,0,3)])])),sc(new Ib("Reflectar el ataque","",vu,[new Jb("Reflectar",12,15,30,8,2)],Jk,new Sb([nu,ou,ku]),[new Rb(Kk,1),new Rb(Ek,2),new Rb(Gk,3),new Rb(Fk,3)],[new Kb("Elección del blanco","",[new Lb("Elección del blanco",2,10,2,1)]),new Kb("Reflectar habilidades esotéricas","",[new Lb("Reflectar habilidades esotéricas",4,20,1,1)])])),sc(new Ib("Ataque capaz de dañar energía","",vu,[new Jb("Ataque capaz de dañar energía",1,2,5,1,1)],Jk,new Sb([lu,nu,ou]),[new Rb(Kk,1),new Rb(Hk,2),new Rb(Ek,3),new Rb(Fk,3)])),sc(new Ib("Ataque elemental (Fuego)","",vu,[new Jb("Elemental (Fuego)",2,4,5,1,1)],Jk,new Sb([lu]),[new Rb(Kk,1),new Rb(Hk,2),new Rb(Ek,3),new Rb(Fk,3)])),sc(new Ib("Ataque elemental (Aire)","",vu,[new Jb("Elemental (Aire)",2,4,5,1,1)],Jk,new Sb([ju]),[new Rb(Kk,1),new Rb(Hk,2),new Rb(Ek,3),new Rb(Fk,3)])),sc(new Ib("Ataque elemental (Agua)","",vu,[new Jb("Elemental (Agua)",2,4,5,1,1)],Jk,new Sb([ku]),[new Rb(Kk,1),new Rb(Hk,2),new Rb(Ek,3),new Rb(Fk,3)])),sc(new Ib("Ataque elemental (Tierra)","",vu,[new Jb("Elemental (Tierra)",2,4,5,1,1)],Jk,new Sb([mu]),[new Rb(Kk,1),new Rb(Hk,2),new Rb(Ek,3),new Rb(Fk,3)])),sc(new Ib("Ataque sobrenatural","",vu,[new Jb("Energía",5,8,10,1,1)],Jk,new Sb([nu,ou]),[new Rb(Kk,1),new Rb(Hk,2),new Rb(Ek,3),new Rb(Fk,3)])),sc(new Ib("Acumulación","",vu,[new Jb("100",2,4,5,1,1),new Jb("200",3,5,5,1,1),new Jb("300",4,6,10,2,1),new Jb("400",5,8,15,3,1),new Jb("600",8,11,20,4,1),new Jb("800",12,15,25,5,1),new Jb("1.000",14,18,30,8,2),new Jb("1.200",18,22,35,10,2),new Jb("1.400",22,26,40,12,3)],Hk,new Sb([mu]),[new Rb(Kk,1),new Rb(Ek,3),new Rb(Jk,3),new Rb(Fk,3)])),sc(new Ib("Habilidad de ataque","",pu,[new Jb("+10",2,4,5,1,1),new Jb("+25",3,5,5,2,1),new Jb("+40",4,6,10,3,1),new Jb("+50",5,8,15,4,1),new Jb("+75",8,11,20,6,1),new Jb("+90",12,15,25,8,1),new Jb("+100",14,18,30,10,1),new Jb("+125",18,22,35,12,2),new Jb("+150",22,26,40,14,2),new Jb("+175",26,32,45,16,3),new Jb("+200",30,36,50,18,3)],Fk,new Sb([ju,lu,ou]),[new Rb(Gk,2),new Rb(Jk,2),new Rb(Kk,3),new Rb(Ek,2)])),sc(new Ib("Habilidad de contraataque","",pu,[new Jb("+10",1,2,5,1,1),new Jb("+25",2,4,5,2,1),new Jb("+40",3,5,10,3,1),new Jb("+50",4,6,10,4,1),new Jb("+75",6,9,15,6,1),new Jb("+90",9,12,20,8,1),new Jb("+100",12,15,25,10,1),new Jb("+125",14,18,30,12,2),new Jb("+150",18,22,35,14,2),new Jb("+175",22,26,40,16,3),new Jb("+200",26,32,45,18,3)],Fk,new Sb([ju,ku,mu]),[new Rb(Gk,2),new Rb(Jk,2),new Rb(Kk,3),new Rb(Ek,2)])),sc(new Ib("Incrementar turno","",tu,[new Jb("+25",1,2,5,1,1),new Jb("+50",2,4,10,1,1),new Jb("+75",4,6,15,2,1),new Jb("+100",6,9,20,3,1),new Jb("+125",8,11,25,4,2),new Jb("+150",10,13,30,5,2),new Jb("+175",12,15,35,6,3),new Jb("+200",14,18,40,7,3)],Gk,new Sb([ju]),[new Rb(Fk,1),new Rb(Jk,3),new Rb(Kk,3),new Rb(Hk,2)])),fu.push("Celéritas");
var Zu=new Nb(1);Zu.setNombre("Excisum Aeris"),Zu.setArbolTecnicas("Celéritas"),Zu.costeKi=new Tb(4,0,4,0,2,0),Zu.fijaComoPrimario(new Ob(zu["Ataque a distancia"],zu["Ataque a distancia"].getNivelesEfecto()[3])),Zu.addEfectoSecundario(new Ob(zu["Incrementar turno"],zu["Incrementar turno"].getNivelesEfecto()[1])),eu.push(Zu),Zu=new Nb(1),Zu.setNombre("Velocitas Ventus"),Zu.setArbolTecnicas("Celéritas"),Zu.costeKi=new Tb(7,0,7,0,4,0),Zu.fijaComoPrimario(new Ob(zu["Ataque adicional limitado"],zu["Ataque adicional limitado"].getNivelesEfecto()[2])),Zu.addEfectoSecundario(new Ob(zu["Incrementar turno"],zu["Incrementar turno"].getNivelesEfecto()[1])),eu.push(Zu),Zu=new Nb(2),Zu.setNombre("Excisum Magister"),Zu.setArbolTecnicas("Celéritas"),Zu.costeKi=new Tb(8,0,8,0,5,0),Zu.fijaComoPrimario(new Ob(zu["Habilidad de ataque"],zu["Habilidad de ataque"].getNivelesEfecto()[4])),Zu.addEfectoSecundario(new Ob(zu["Incrementar turno"],zu["Incrementar turno"].getNivelesEfecto()[4])),eu.push(Zu),Zu=new Nb(2),Zu.setNombre("Magnus Exactor"),Zu.setArbolTecnicas("Celéritas"),Zu.costeKi=new Tb(7,0,7,0,3,0),Zu.fijaComoPrimario(new Ob(zu["Ataque con área"],zu["Ataque con área"].getNivelesEfecto()[2])),Zu.addEfectoSecundario(new Ob(zu["Incrementar turno"],zu["Incrementar turno"].getNivelesEfecto()[5])),eu.push(Zu),Zu=new Nb(3),Zu.setNombre("Summun"),Zu.setArbolTecnicas("Celéritas"),Zu.costeKi=new Tb(15,0,17,0,8,0),Zu.fijaComoPrimario(new Ob(zu["Ataque adicional limitado"],zu["Ataque adicional limitado"].getNivelesEfecto()[6])),Zu.addEfectoSecundario(new Ob(zu["Incrementar turno"],zu["Incrementar turno"].getNivelesEfecto()[6])),eu.push(Zu),fu.push("Ignis");var $u=new Qb(Bu["Atadura elemental (1 elemento)"]);$u.ataduraElemental=new Sb([lu]);var _u=new Nb(1);_u.setNombre("Feuer"),_u.setArbolTecnicas("Ignis"),_u.costeKi=new Tb(0,0,0,3,1,5),_u.costeMantenimiento=new Tb(0,0,0,1,0,1);var av=new Ob(zu["Aumento de daño"],zu["Aumento de daño"].getNivelesEfecto()[1]);_u.fijaComoPrimario(av),_u.setEfectoMantenido(av,!0),av=new Ob(zu["Ataque elemental (Fuego)"],zu["Ataque elemental (Fuego)"].getNivelesEfecto()[0]),_u.addEfectoSecundario(av),_u.setEfectoMantenido(av,!0),_u.addDesventaja($u),eu.push(_u),_u=new Nb(1),_u.setNombre("Le Feu"),_u.setArbolTecnicas("Ignis"),_u.costeKi=new Tb(0,0,3,1,3,5),_u.fijaComoPrimario(new Ob(zu["Habilidad de ataque"],zu["Habilidad de ataque"].getNivelesEfecto()[2])),_u.addEfectoSecundario(new Ob(zu["Ataque a distancia"],zu["Ataque a distancia"].getNivelesEfecto()[2])),_u.addDesventaja($u),eu.push(_u),_u=new Nb(2),_u.setNombre("Horecka"),_u.setArbolTecnicas("Ignis"),_u.costeKi=new Tb(0,0,6,2,6,10),_u.fijaComoPrimario(new Ob(zu["Multiplicador al daño"],zu["Multiplicador al daño"].getNivelesEfecto()[0])),_u.addEfectoSecundario(new Ob(zu["Ataque con área"],zu["Ataque con área"].getNivelesEfecto()[4])),_u.addDesventaja($u);var bv=new Qb(Bu["Condición determinada"]);bv.descripcion="Mantener activo Feuer",bv.costeCM=-10,_u.addDesventaja(bv),eu.push(_u),_u=new Nb(2),_u.setNombre("Vatra"),_u.setArbolTecnicas("Ignis"),_u.costeKi=new Tb(0,3,6,1,6,11),_u.fijaComoPrimario(new Ob(zu["Habilidad de ataque"],zu["Habilidad de ataque"].getNivelesEfecto()[4])),_u.addEfectoSecundario(new Ob(zu["Aumento de daño"],zu["Aumento de daño"].getNivelesEfecto()[4])),_u.addEfectoSecundario(new Ob(zu["Potenciar crítico"],zu["Potenciar crítico"].getNivelesEfecto()[2])),_u.addDesventaja($u),_u.addDesventaja(bv),eu.push(_u),_u=new Nb(3),_u.setNombre("Eld"),_u.setArbolTecnicas("Ignis"),_u.costeKi=new Tb(0,0,10,10,0,19);var cv=new Ob(zu["Aumento de daño"],zu["Aumento de daño"].getNivelesEfecto()[0]);cv.addVentajaOpcional(new Pb(cv.getVentajasOpcionales()[0],cv.getVentajasOpcionales()[0].nivelesVentaja[1])),_u.fijaComoPrimario(cv),_u.addEfectoSecundario(new Ob(zu["Habilidad de ataque"],zu["Habilidad de ataque"].getNivelesEfecto()[8])),_u.addDesventaja($u),_u.addDesventaja(bv),eu.push(_u),fu.push("El Dragón");var dv=new Nb(1);dv.setNombre("Las escamas"),dv.setArbolTecnicas("El Dragón"),dv.costeKi=new Tb(1,3,3,0,0,0),dv.fijaComoPrimario(new Ob(zu["Defensa adicional"],zu["Defensa adicional"].getNivelesEfecto()[4])),eu.push(dv),dv=new Nb(1),dv.setNombre("Las garras"),dv.setArbolTecnicas("El Dragón"),dv.costeKi=new Tb(4,4,4,2,0,0),dv.fijaComoPrimario(new Ob(zu["Ataque adicional"],zu["Ataque adicional"].getNivelesEfecto()[0])),dv.addEfectoSecundario(new Ob(zu["Aumento de daño"],zu["Aumento de daño"].getNivelesEfecto()[2])),eu.push(dv),dv=new Nb(2),dv.setNombre("El colmillo"),dv.setArbolTecnicas("El Dragón"),dv.costeKi=new Tb(6,8,5,3,0,0),dv.fijaComoPrimario(new Ob(zu["Destruir armadura"],zu["Destruir armadura"].getNivelesEfecto()[5])),dv.addEfectoSecundario(new Ob(zu["Maniobras de combate y apuntar"],zu["Maniobras de combate y apuntar"].getNivelesEfecto()[2])),dv.addEfectoSecundario(new Ob(zu["Habilidad de ataque"],zu["Habilidad de ataque"].getNivelesEfecto()[3])),eu.push(dv),dv=new Nb(2),dv.setNombre("La cola"),dv.setArbolTecnicas("El Dragón"),dv.costeKi=new Tb(6,8,6,2,0,0),dv.fijaComoPrimario(new Ob(zu["Habilidad de ataque"],zu["Habilidad de ataque"].getNivelesEfecto()[2])),dv.addEfectoSecundario(new Ob(zu["Ataque con área"],zu["Ataque con área"].getNivelesEfecto()[3])),dv.addEfectoSecundario(new Ob(zu.Proyección,zu.Proyección.getNivelesEfecto()[6])),eu.push(dv),dv=new Nb(3),dv.setNombre("El aliento del Dragón"),dv.setArbolTecnicas("El Dragón"),dv.costeKi=new Tb(10,10,10,15,6,0),dv.fijaComoPrimario(new Ob(zu["Ataque a distancia"],zu["Ataque a distancia"].getNivelesEfecto()[7])),dv.addEfectoSecundario(new Ob(zu["Ataque con área"],zu["Ataque con área"].getNivelesEfecto()[5])),dv.addEfectoSecundario(new Ob(zu["Ataque capaz de dañar energía"],zu["Ataque capaz de dañar energía"].getNivelesEfecto()[0])),dv.addEfectoSecundario(new Ob(zu["Multiplicador al daño"],zu["Multiplicador al daño"].getNivelesEfecto()[0]));var ev=Bu.Predeterminación;dv.addDesventaja(new Qb(ev)),eu.push(dv),Vc.prototype={constructor:Vc,toString:function(){return this.nombre},getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getDescripcionEfecto:function(){return this.descripcionEfecto},getRepetible:function(){return this.repetible},getCostes:function(){return this.costes},getIncompatibles:function(){return this.incompatibles},isAnulable:function(){return this.anulable},getElegir:function(){return this.elegir},getFlagsNecesarios:function(){return this.flagsNecesarios},getGrupo:function(){return this.grupo},getDelegadoVentaja:function(){return this.delegadoVentaja},toJSON:function(){return this.nombre}},Wc.prototype={constructor:Wc,setValor:function(a,b){this[a]=b},getLibres:function(){return this.libres},setLibres:function(a){this.libres=a},getDon:function(){return this.don},setDon:function(a){this.don=a},getPsiquica:function(){return this.psiquica},setPsiquica:function(a){this.psiquica=a}},Xc.prototype={constructor:Xc,toString:function(){return this.ventaja.toString()+" ("+this.pc+" PC)"},getVentaja:function(){return this.ventaja},getPc:function(){return this.pc},getOpcion:function(){return this.opcion},getOrigen:function(){return this.origen},getRepartoCostes:function(){return this.repartoCostes},setRepartoCostes:function(a){this.repartoCostes=a},isAnulable:function(){return this.anulable},setAnulable:function(a){this.anulable=a}};var fv=[],gv=[],hv={},iv="Error: Nombre de ventaja erróneo",jv="Ventaja",kv="Totalmente repetible",lv="Repetible eligiendo otras opciones",mv="No repetible",nv="No comprable con PC",ov="Especificar Característica",pv="Especificar Tipo de habilidad secundaria",qv="Especioficar habilidad secundaria",rv="Especificar disciplina psíquica",sv="Especificar ajuste tamaño",tv="Especificar una descripción",uv="Especificar un poder psiquico",vv="Especificar Shajad o Beryl",wv="Especificar vía de magia",xv="Especificar desequilibrio sephirotico",yv="Introducir detalles",zv="Elegir Poder o Voluntad",Av="Repartir 5 puntos entre INT, VOL y POD",Bv="Elegir ataque, parada o esquiva",Cv="por raza",Dv="por PC",Ev="por Elan",Fv="Ventajas de Características",Gv="Ventajas de Resistencias",Hv="Ventajas de otras Capacidades",Iv="Ventajas del Don",Jv="Ventajas Psíquicas",Kv="Ventajas del Ki",Lv="Otras Ventajas",Mv="Ventajas de Raza",Nv="Ventajas de Habilidades Secundarias",Ov="Ventajas de Elan",Pv=[Fv,Gv,Hv,Nv,Kv,Iv,Jv,Lv];Yc(new Vc("Repetir una tirada de características","","Te permite lanzar un dado adicional una vez que has generado las características de tu personaje, y utilizar el resultado obtenido en lugar de uno de los anteriores. La nueva cifra no podrá ser inferior al valor de tu tirada más baja.",kv,[1],[],!1,[],[Bd],Fv,[])),Yc(new Vc("Sumar un punto a una característica","","Añade un punto al valor de una característica.",kv,[1],[],!0,[ov],[Dd],Fv,[])),Yc(new Vc("Sustituir una característica por un nueve","","Sustituye una característica por un nueve sin importar cuál fuese su valor original.",kv,[2],[],!0,[ov],[Jd],Fv)),Yc(new Vc("Resistencia física excepcional","","Añade un bonificador especial de +25 a la Resistencia física (RF), Resistencia contra venenos (RV) y Resistencia contra enfermedades (RE). La inversión de un segundo punto de creación aumenta el nivel de las Resistencias a +50.",mv,[1,2],[],!0,[],[Kd],Gv)),Yc(new Vc("Resistencia mágica excepcional","","Añade un bonificador especial de +25 a la Resistencia mágica (RM). La inversión de un segundo punto de creación aumenta el nivel de la Resistencia a +50.",mv,[1,2],[],!0,[],[Ld],Gv)),Yc(new Vc("Resistencia psíquica excepcional","","Esta ventaja añade un bonificador especial de +25 a la Resistencia mental (RP) del personaje. La inversión de un segundo punto de creación aumenta el nivel de la Resistencia a +50.",mv,[1,2],[],!0,[],[Md],Gv));var Qv=new Vc("Acceso a una disciplina psíquica","","Esta ventaja permite utilizar un CV para adquirir afinidad a una única disciplina psíquica y a los poderes matriciales.",mv,[1],[new A(jv,"Acceso libre a cualquier disciplina psíquica")],!0,[rv],[Nd],Jv);Qv.isBasica=!0,Yc(Qv),Qv=new Vc("Acceso libre a cualquier disciplina psíquica","","Esta ventaja capacita al personaje a acceder libremente a tantas disciplinas psíquicas como desee empleando sus CV.",mv,[2],[new A(jv,"Acceso a una disciplina psíquica")],!0,[],[Od],Jv),Qv.isBasica=!0,Yc(Qv),Yc(new Vc("Fondos iniciales","","Esta ventaja proporciona una cantidad de dinero inicial o equipo valorado en 2.000 Escudos de Oro (MO), 5.000 o 10.000.",mv,[1,2,3],[],!0,[],[Pd],Lv)),Yc(new Vc("Afinidad animal","","El alcance de esta ventaja debe de ser interpretada por el Director de Juego.",mv,[1],[],!0,[],[],Lv)),Yc(new Vc("Regeneración básica","","Aumenta dos niveles la Regeneración del personaje.",mv,[1],[new A(jv,"Regeneración avanzada"),new A(jv,"Regeneración mayor")],!0,[],[fd,2,"Regeneración básica"],Hv)),Yc(new Vc("Regeneración avanzada","","Aumenta cuatro niveles la Regeneración del personaje.",mv,[2],[new A(jv,"Regeneración básica"),new A(jv,"Regeneración mayor")],!0,[],[fd,4,"Regeneración avanzada"],Hv)),Yc(new Vc("Regeneración mayor","","Aumenta seis niveles la Regeneración del personaje.",mv,[3],[new A(jv,"Regeneración básica"),new A(jv,"Regeneración avanzada")],!0,[],[fd,6,"Regeneración mayor"],Hv)),Yc(new Vc("Encanto","","El alcance de esta ventaja debe de ser interpretada por el Director de Juego.",mv,[1],[],!0,[],[],Lv)),Yc(new Vc("Ambidestria","","Un personaje ambidiestro podrá efectuar maniobras con cualquier mano con idéntica habilidad. En combate, permite reducir a –10 los ataques efectuados con un arma adicional.",mv,[1],[],!0,[],[],Lv)),Yc(new Vc("Visión nocturna","","Permite ignorar cualquier penalizador causado por la oscuridad, siempre que no se trate de un lugar con carencia absoluta de luz o algún tipo de oscuridad mágica, en cuyo caso, sólo quedan reducidos a la mitad.",mv,[1],[],!0,[],[],Lv)),Yc(new Vc("Buena suerte","","Se reduce un punto la cifra requerida para pifiar. En circunstancias normales el personaje pifiará con un 2. Si alcanza la maestría en una habilidad, sólo pifiará con un 1.",mv,[1],[],!0,[],[],Lv)),Yc(new Vc("Inquietante","","El personaje puede resultar inquietante si lo desea. El alcance de esta ventaja debe de ser interpretado por el Director de Juego.",mv,[1],[],!0,[],[],Lv)),Yc(new Vc("Apto en un campo","","El coste de desarrollo de habilidades secundarias de ese campo se reduce en un punto. Si se da el caso de que la categoría del personaje posee una habilidad secundaria concreta dentro de dicho campo con un coste inferior al del resto de habilidades, este valor también se reducirá.",lv,[2],[],!0,[pv],[Qd],Nv)),Yc(new Vc("Apto en una materia","","Esta ventaja reduce un punto el coste de desarrollo de una habilidad secundaria por cada Punto de Creación que se invierta.",lv,[1,2],[],!0,[qv],[Rd],Nv)),Yc(new Vc("Sentidos agudos","","Añade un punto a la Percepción del personaje a la hora de realizar controles de características y un bonificador especial de +50 a sus habilidades secundarias de Advertir y Buscar.",mv,[1],[],!0,[],[Sd],Lv)),Qv=new Vc("Don","","El personaje está dotado de la capacidad de ver y utilizar la magia. Añadirá además un bonificador especial de +10 a su RM, puesto que su naturaleza sobrenatural resiste mejor los efectos místicos. Nota: Ten en cuenta que tanto los hechiceros como otras categorías especializadas en el lanzamiento de conjuros requieren escoger esta ventaja para poder usar sortilegios.",mv,[2],[],!0,[],[Td],Iv),Qv.isBasica=!0,Yc(Qv),Yc(new Vc("Aprendizaje innato","","Otorga un bono de categoría de +10 por nivel en una habilidad secundaria. Este bono se suma a cualquier otro bonificador innato que pudiera obtener el personaje gracias a su categoría. La inversión de un punto adicional aumenta el bono a +20.",lv,[1,2],[],!0,[qv],[Vd],Nv)),Yc(new Vc("Aprendizaje innato en un campo","","Otorga un bono de categoría de +5 o +10 por nivel a todas las habilidades de un campo. Estos bonificadores se suman a cualquier otro bono innato que pudiera obtener el personaje por su categoría.",lv,[2,3],[],!0,[pv],[Wd],Nv)),Yc(new Vc("Conocedor de todas las materias","","El personaje no aplica nunca el penalizador de –30 por no haber invertido PD en una habilidad secundaria y tiene un bonificador natural de 10 en todas sus habilidades secundarias, que se suma directamente al bono que le otorgue su característica.",mv,[2],[],!0,[],[Xd],Nv)),Yc(new Vc("Sueño ligero","","El personaje sólo aplica un penalizador de –20 a su habilidad de Advertir mientras duerme.",mv,[1],[],!0,[],[],Lv)),Yc(new Vc("Reflejos rápidos","","Otorga un bonificador especial de +25 al turno. Los Puntos de Creación adicionales aumentarán el bono a +45 y a +60 respectivamente.",mv,[1,2,3],[],!0,[],[Yd],Hv)),Yc(new Vc("Inmunidad al dolor y al cansancio","","Los penalizadores provocados por el dolor y el Cansancio se reducen a la mitad.",mv,[1],[],!0,[],[],Lv)),Yc(new Vc("Tamaño no natural","","El personaje puede aumentar o disminuir hasta cinco puntos su Tamaño en el momento de su creación.",mv,[1],[],!0,[sv],[$d],Hv)),Yc(new Vc("Afortunado","","El alcance de esta ventaja debe de ser interpretada por el Director de Juego. En cualquier caso, nunca sufrirá los efectos negativos de una trampa o de un ataque que se determinen mediante el azar.",mv,[1],[],!0,[],[],Lv)),Yc(new Vc("Armadura natural","","Otorga un Tipo de Armadura natural de 2 contra todas las clases de ataques salvo las de energía. Aunque cuenta como una protección, no se aplican penalizadores al turno por emplear capas de armaduras adicionales.",mv,[1],[],!0,[],[_d],Hv)),Yc(new Vc("Armadura mística","","Otorga un Tipo de Armadura natural de 4 contra los ataques basados en Energía. Aunque cuenta como una armadura, no se aplican penalizadores al turno por emplear capas de protección adicionales.",mv,[1],[],!0,[],[ae],Hv)),Yc(new Vc("Artefacto","","El jugador y el Director de Juego deberán ponerse de acuerdo con las habilidades del artefacto. Los puntos invertidos adicionalmente aumentan teóricamente las capacidades del objeto.",kv,[1,2,3],[],!0,[tv],[],Lv)),Qv=new Vc("Acceso a poderes psíquicos naturales","","El personaje es capaz de utilizar de manera natural un único poder mental determinado. En realidad no es un verdadero psíquico, por lo que no puede emplear CVs para adquirir nuevas habilidades ni para potenciar el poder que posee. Su potencial psíquico no se basa en su Voluntad ni requiere lanzar dados para calcularlo, sino que tiene automáticamente un valor de Difícil (DIF). El poder elegido puede ser de cualquier nivel, pero si tiene un requerimiento base superior a Difícil no es posible utilizarlo. Puede usarse una vez por minuto sin que el personaje sufra ningún tipo de penalización, pero cada uso adicional sin el periodo de descanso requerido causa la pérdida de un punto de Cansancio. La inversión de puntos adicionales aumenta el potencial psíquico natural a Muy Difícil (MDF) y a Absurdo (ABS), respectivamente.",lv,[1,2,3],[],!0,[uv],[],Jv),Qv.isBasica=!0,Yc(Qv),Yc(new Vc("Maestro marcial","","Añade 40 puntos al Conocimiento Marcial base. Los Puntos de Creación adicionales aumentan el añadido a 80 y 120 puntos respectivamente.",mv,[1,2,3],[],!0,[],[be],Kv)),Yc(new Vc("Infatigable","","Aumenta tres puntos el Cansancio del personaje. Los Puntos de Creación adicionales lo incrementan seis y nueve puntos respectivamente.",mv,[1,2,3],[],!0,[],[ce],Hv)),Yc(new Vc("Ver lo sobrenatural","","El personaje ve lo sobrenatural, tanto magia y matrices psíquicas como criaturas espirituales. Por tanto, no aplica el penalizador de cegado en ninguna de dichas situaciones.",mv,[1],[],!0,[],[Ud],Lv)),Yc(new Vc("Sentido del peligro","","El personaje no puede ser cogido por sorpresa, salvo por una diferencia de 150 en turno contra su adversario.",mv,[2],[],!0,[],[],Lv)),Yc(new Vc("Curtido","","El personaje comienza con 50 puntos de experiencia añadidos. Los Puntos de Creación adicionales aumentan los puntos de experiencia iniciales a 100 y a 150, respectivamente. Este aumento permite subir de nivel de modo convencional si se alcanzan los puntos de experiencia necesarios.",mv,[1,2,3],[],!0,[],[ee],Hv)),Yc(new Vc("Recuperación de Ki","","El personaje recupera un punto de Ki por característica cada diez minutos, en lugar de uno por hora. La inversión de puntos adicionales disminuye el tiempo a cinco y un minuto respectivamente.",mv,[1,2,3],[],!0,[],[],Kv)),Yc(new Vc("Elan","","El personaje tiene Elan de 20 de la entidad que elija. La inversión de puntos adicionales aumenta su nivel a 40 y 50 respectivamente.",kv,[1,2,3],[],!0,[vv],[fe],Hv)),Yc(new Vc("Aprendizaje","","Obtiene un beneficio adicional de 3 puntos de experiencia a la cantidad que le otorgue el Director de Juego al finalizar cada sesión de juego. Los Puntos de Creación adicionales aumentan el beneficio a 6 y 9 puntos respectivamente.",mv,[1,2,3],[],!0,[],[],Hv)),Yc(new Vc("Difícil de matar","","Obtiene un bonificador de +10, +20 o +30 pv por nivel. También un +10, +20 o +30 a los controles de Resistencia de las reglas opcionales de Entre la vida y la muerte",mv,[1,2,3],[],!0,[],[Je],Hv,[xk])),Yc(new Vc("Al límite","","Cuando los pv bajan por debajo de una cuarta parte del total, gana  un bono +20 a toda acción.",mv,[1],[],!0,[],[],Hv,[xk])),Yc(new Vc("Inmunidad sobrenatural","","Ignora los conjuros de valor zeónico 60, 90 o 120 o inferiores, y supera cualquier RM de efecto místico no mayor de 80, 100 o 120. No puede acceder al Don o Ver lo Sobrenatural, y no puede esta ventaja ser comprada por Sylvain, Duk'zarist o Daimah",mv,[1,2,3],[new A(jv,"Don"),new A(jv,"Ver lo sobrenatural")],!0,[],[],Gv,[xk])),Yc(new Vc("Sin límite de familiares","","Puede crear un lazo de familiar con tantas criaturas como desee.",mv,[2],[],!0,[],[],Lv,[xk])),Yc(new Vc("Sentido del combate","","El personaje consigue un bono innato de +5 a ataque, parada o esquiva.",mv,[3],[],!0,[Bv],[Ke],Lv,[xk])),Yc(new Vc("Bonificador natural incrementado","","El personaje obtiene un bonificador natural adicional.",mv,[2],[],!0,[],[Le],Nv,[xk])),Yc(new Vc("Uso de armadura","","El personaje consigue un bono innato de +5, +10 o +15 a llevar armadura.",mv,[1,2,3],[],!0,[],[Me],Lv,[xk])),Yc(new Vc("Versátil","","Al personaje le cuesta la mitad de PD cambiar de categoría y no tiene que esperar dos niveles.",mv,[1],[],!0,[],[Ne],Lv,[xk])),Yc(new Vc("Superviviente","","El personaje aguanta en puntos de vida negativa diez veces el valor de su CON, en lugar de sólo cinco. Además suma +40 a su RF para estabilizare. Al salir de entre la vida y la muerte, el negativo será sólo de -30. Si se usan las reglas opcionales de puntos de vida en negativos, el +40 es a los controles para resistir.",mv,[1],[],!0,[],[],Gv,[xk])),Yc(new Vc("Tocado por el destino","","Una ocasión por partida, puede repetir una tirada y elegir el nuevo resultado. Puede adquirirse tantas veces como se quiera.",kv,[1],[],!0,[],[],Lv,[xk])),Yc(new Vc("Inmunidad psíquica","","Obtiene un +60 a todo control de Frialdad dedicado a mitigar sus estados emocionales. No es compatible con Fobia, Cobardía o Adicción Grave",mv,[1],[new A(jv,"Fobia grave"),new A(jv,"Cobardía"),new A(jv,"Adicción o vicio grave")],!0,[],[],Gv,[xk])),Yc(new Vc("Habilidoso","","Obtiene un bono de +30 a Trucos de manos y puede aplicar un +3 a cualquier control enfrentado de DES.",mv,[1],[],!0,[],[Oe],Nv,[xk])),Yc(new Vc("Libre albedrío","","Obtiene un bono de +60 a todo control de Resistencia relacionado con posesión o dominación.",mv,[1],[],!0,[],[],Gv,[xk])),Yc(new Vc("Seductor","","Obtiene un bono de +60 en los controles de Persuasión relacionados con la seducción.",mv,[1],[],!0,[],[],Nv,[xk])),Yc(new Vc("Apto para el desarrollo de la magia","","El personaje añade 3 puntos a su característica de Inteligencia para calcular la Inteligencia Requerida de los conjuros. Este bonificador no se aplica para ninguna otra habilidad, ni siquiera para calcular su nivel de magia.",mv,[1],[],!0,[],new Array(ge),Iv,[Bl])),Yc(new Vc("Potencial enfrentado","","El personaje aplica un bonificador de +50 a sus tiradas para calcular el resultado del choque de conjuros.",mv,[1],[],!0,[],[],Iv,[Bl])),Yc(new Vc("Recuperación superior de magia","","El personaje recupera sus puntos de Zeon al doble de su regeneración zeónica. Los Puntos de Creación adicionales le permiten aumentarla al triple y al cuádruple de lo normal.",mv,[1,2,3],[],!0,[],[],Iv,[Bl])),Yc(new Vc("Magia innata mejorada","","Los conjuros innatos del brujo tienen un potencial de +10 a lo indicado por su ACT. Los Puntos de Creación adicionales aumentan el valor de los conjuros innatos a +20 y +30 respectivamente.",mv,[1,2,3],[],!0,[],new Array(he),Iv,[Bl])),Yc(new Vc("Inutilidad somática","","El personaje no reduce su ACT por no ser capaz de gesticular.",mv,[1],[],!0,[],[],Iv,[Bl])),Yc(new Vc("Inutilidad oral","","El personaje puede lanzar conjuros en completo silencio sin ver reducido su ACT.",mv,[1],[],!0,[],[],Iv,[Bl])),Yc(new Vc("Desequilibrio elemental","","El personaje dispone de un bono especial de +20 a su ACT y un +20 a su RM en la vía mágica que elija. Cuando utilice conjuros de la vía opuesta, aplicará un penalizador de –20 a su ACT y un –20 a su RM. Si la vía elegida es la nigromancia, el penalizador se aplicará a todas las demás.",mv,[1],[],!0,new Array(wv),[],Iv,[Bl])),Yc(new Vc("Desequilibrio sephirótico","","El brujo dispone de un bono especial de +20 a su ACT y un +20 en su RM en las cinco vías mágicas de un segmento del árbol que elija. En el resto aplicará un penalizador de –20 a su ACT y un –20 a su RM. La nigromancia no está incluida en esta ventaja, al encontrarse fuera del árbol.",mv,[2],[],!0,new Array(xv),[],Iv,[Bl])),Yc(new Vc("Conocimiento natural de vía","","Esta ventaja otorga conocimientos innatos de una vía a nivel 40 sin invertir en ella puntos de nivel de magia. Al ser un conocimiento natural, el hechicero puede seguir desarrollandola a partir de nivel 40 gastando en ella nuevos puntos de nivel de magia.",lv,[1],[],!0,new Array(wv),new Array(ie),Iv,[Bl])),Yc(new Vc("Magia opuesta","","El personaje no dobla el coste de nivel de las vías opuestas.",mv,[1],[],!0,[],[Qe],Iv,[Bl,xk])),Yc(new Vc("Naturaleza mágica","","Obtiene un bono innato de +50, +100 ó +150 puntos de Zeon por nivel.",mv,[1,2,3],[],!0,[],[Pe],Iv,[Bl,xk])),Yc(new Vc("Poder natural","","Para calcular el potencial máximo de sus conjuros, el personaje utiliza su característica se Poder en lugar de su Inteligencia.",mv,[1],[],!0,[],[],Iv,[Bl,xk])),Yc(new Vc("Dicción mágica","","No reduce el ACT al ejecutar conjuros inscritos en grimorios, pergaminos o libros, usando su potencial al máximo incluso si no es capaz de gesticular.",mv,[1],[],!0,[],[],Iv,[Bl,xk])),Yc(new Vc("Calibre","","Los CV invertidos para mejorar la Proyección Psíquica aumentarán su habilidad en +20 en lugar de +10.",mv,[1],[],!0,[],[],Jv,[El])),Yc(new Vc("Concentración extrema","","El psíquico dobla el bono que le reporta la concentración a su potencial. Por ejemplo, si se concentra un asalto completo obtiene un +20 en lugar de un +10.",mv,[2],[],!0,[],[],Jv,[El])),Yc(new Vc("Mantenimiento añadido","","Los poderes mantenidos innatamente se hallan un nivel de dificultad por encima de lo que le permite su potencial psíquico.",mv,[2],[],!0,[],[],Jv,[El])),Yc(new Vc("Resistencia a la fatiga psíquica","","Si el psíquico obtiene un fracaso en el uso de uno de sus poderes, no pierde puntos de Cansancio una vez que se ha quedado sin CVs libres por gastar. Los poderes de tercer nivel no son afectados por esta ventaja.",mv,[2],[new A(jv,"Extenuación psíquica")],!0,[],[],Jv,[El])),Yc(new Vc("Recuperación de CVs","","El índice de recuperación de CVs libres es de un punto por cada diez minutos transcurridos. La inversión de Puntos de Creación adicionales lo acrecienta a uno cada cinco o un minuto respectivamente.",mv,[1,2,3],[],!0,[],[],Jv,[El])),Yc(new Vc("Desequilibrio psíquico","","El psíquico obtiene automáticamente un nivel de dificultad superior al que ha obtenido con su potencial al utilizar los poderes de una disciplina determinada.",lv,[2],[],!0,new Array(rv),[],Jv,[El])),Yc(new Vc("Concentración pasiva","","El psíquico puede concentrarse para potenciar un poder incluso mientras ejecuta acciones activas.",mv,[2],[],!0,[],[],Jv,[El])),Yc(new Vc("Ambivalencia psíquica","","Al dividir el potencial psíquico para realizar más de un poder por asalto, obtiene un bono especial acumulativo de +5 por cada poder que declare.",mv,[1],[],!0,[],[],Jv,[El,xk])),Yc(new Vc("Modificador psíquico incrementado","","El personaje dobla cualquier modificador natural que tenga la disciplina psíquica que usa. Los negativos también son incrementados.",mv,[1],[],!0,[],[],Jv,[El,xk])),Zc(new Vc("Reducir dos puntos a una característica","","Reduce en dos puntos una de las características básicas. Limitación: Esta desventaja sólo puede adquirirse en una ocasión. No es posible disminuir una característica por debajo de 3.",mv,[-1],[],!0,[ov],[Ed],Fv,[])),Zc(new Vc("Salud enfermiza","","La RE del personaje queda reducida a la mitad.",mv,[-1],[],!0,[],[Fd],Gv,[])),Zc(new Vc("Lenta curación","","El personaje recupera sólo la mitad de puntos de vida de cualquier cantidad que debiera recobrar, ya sea mediante regeneración normal o medios místicos.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Miopía","","Aplicará un negativo de –50 a cualquier tirada de la habilidad Advertir o Buscar en la que se emplee la vista y un –3 a cualquier control de Percepción que la requiera. Este penalizador también se aplicará a la puntería. Si consigue unas gafas, el negativo penalizador se reduciría como el Director de Juego considere conveniente.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Vulnerabilidad a los venenos","","La RV del personaje queda reducida a la mitad.",mv,[-1],[],!0,[],[Id],Gv,[])),Zc(new Vc("Fácil posesión","","El personaje aplica un negativo de –50 a cualquier RP o RM que realice contra algún tipo de dominio o posesión capaz de modificar su conducta.",mv,[-1],[],!0,[],[],Gv,[])),Zc(new Vc("Vulnerabilidad a la magia","","La RM del personaje queda reducida a la mitad.",mv,[-1],[],!0,[],[Gd],Gv,[])),Zc(new Vc("Vulnerable al frío","","El personaje sufre un penalizador de –80 a cualquier Resistencia contra ese elemento y un –30 a toda acción en climas extremos.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Vulnerable al calor","","El personaje sufre un penalizador de –80 a cualquier Resistencia contra ese elemento y un –30 a toda acción en climas extremos.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Extremidad atrofiada","","El personaje aplica un penalizador de –80 a todas las acciones físicas que requieran el uso del miembro atrofiado.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Debilidad física","","La RF del personaje queda reducida a la mitad.",mv,[-1],[],!0,[],[Hd],Gv,[])),Zc(new Vc("Aspecto desagradable","","Reduce la apariencia del personaje a 2. Limitación: El personaje tiene que tener como mínimo un 7 en apariencia. Esta característica debe de haber sido generada mediante una tirada, no elegida libremente por el jugador.",mv,[-1],[],!0,[],[wd],Lv,[Pl,Ql])),Zc(new Vc("Desafortunado","","El Director de Juego deberá interpretar el alcance de esta desventaja. En un grupo, alguien desafortunado será siempre el que caiga en la trampa aleatoria y el primero al que ataquen cuando el azar decida quién recibe el primer impacto.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Enfermedad grave","","El personaje aplicará un penalizador acumulativo de –10 a toda acción por cada mes que transcurra. El Director de Juego determinará una fecha en secreto, llegada la cual morirá.",mv,[-2],[],!0,[],[],Lv,[])),Zc(new Vc("Alergia grave","","Los negativos a toda acción por entrar en contacto con dicha sustancia variarán entre un –40 y un –80, dependiendo de la gravedad o del tiempo que se haya permanecido en contacto con dicho elemento.",lv,[-1],[],!0,[yv],[],Lv,[])),Zc(new Vc("Sueño profundo","","El personaje aplicará un penalizador de –200 a cualquier tirada de percepción mientras duerme. Durante los diez asaltos posteriores a su despertar, aplicará un penalizador de –40 a toda acción.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Fobia grave","","El personaje aplicará el estado de miedo siempre que se encuentre con el objeto de su fobia.",lv,[-1],[],!0,[yv],[],Lv,[])),Zc(new Vc("Mala suerte","","La cifra requerida para pifiar aumenta en dos puntos. En las habilidades normales pifiará con un resultado de 5 y, si es maestro, lo hará con 4.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Mudo","","El personaje no puede hablar.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Ciego","","El personaje no podrá usar ninguna habilidad que requiera ver. Aplicará en todo momento el penalizador de cegado.",mv,[-2],[],!0,[],[],Lv,[])),Zc(new Vc("Sordo","","El personaje no podrá emplear ninguna habilidad que requiera el uso del oído.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Aprendizaje lento","","El personaje tiene un penalizador de 4 puntos de experiencia a los otorgados por el Director de Juego al finalizar la sesión. El punto de desventaja adicional aumenta este penalizador a 8.",mv,[-1,-2],[],!0,[],[],Hv,[])),Zc(new Vc("Reacción lenta","","El personaje aplicará un penalizador especial de –30 a su turno. El punto de desventaja adicional aumenta este negativo hasta –60.",mv,[-1,-2],[],!0,[],[Zd],Hv,[])),Zc(new Vc("Arma exclusiva","","El personaje aplicará un penalizador de –30 a su habilidad de combate con cualquier arma distinta a la suya. Limitación: Esta desventaja sólo puede ser adquirida por los arquetipos de Luchador, Acechador, Domine o Sin Categoría.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Adicción o vicio grave","","El personaje aplicará un penalizador acumulativo de –10 por cada día que transcurra sin satisfacer su vicio.",mv,[-1],[],!0,[yv],[],Lv,[])),Zc(new Vc("Vulnerable al dolor","","Dobla cualquier penalizador causado por el dolor, ya sea producido por críticos o efectos místicos.",mv,[-1],[],!0,[],[],Lv,[])),Zc(new Vc("Exhausto","","Dobla los penalizadores a la acción provocados por la fatiga y resta un punto el Cansancio base del personaje.",mv,[-1],[],!0,[],[de],Hv,[])),Zc(new Vc("Endeble","","Cuando los pv bajan por debajo de un tercio del total sufre un -30 a toda acción hasta recuperarse.",mv,[-1],[],!0,[],[],Hv,[xk])),Zc(new Vc("Cobardía","","Al encontrarse con un riesgo real, sufre el estado de Miedo. Si supera un control MDF de Frialdad puede reducir el penalizador a -20.",mv,[-1],[],!0,[],[],Lv,[xk])),Zc(new Vc("Patoso","","Sufre un penalizador de -30 a toda habilidad manual que requiera coordinación y un -3 a todos los controles enfrentados de DES.",mv,[-1],[],!0,[],[],Lv,[xk])),Zc(new Vc("Sin bonificador natural","","No aplica el bonificador natural por nivel.",mv,[-1],[],!0,[],[Re],Nv,[xk])),Zc(new Vc("Insufrible","","A interpretar por el DJ.",mv,[-1],[],!0,[],[],Lv,[xk])),Zc(new Vc("Novato","","Empieza con 100px menos que los demás.",mv,[-1],[],!0,[],[Se],Lv,[xk])),Zc(new Vc("Destino aciago","","No puede obtener tiradas abiertas.",mv,[-2],[],!0,[],[],Lv,[xk])),Zc(new Vc("Maldito","","Interpretado por el DJ.",lv,[-1,-2],[],!0,[yv],[],Lv,[xk])),Zc(new Vc("Obligación oral","","El personaje debe de tener la capacidad de hablar para acumular magia y realizar sus conjuros.",mv,[-1],[],!0,[],[],Iv,[])),Zc(new Vc("Obligación somática","","El personaje debe moverse libremente para acumular magia y realizar sus conjuros.",mv,[-1],[],!0,[],[],Iv,[])),Zc(new Vc("Extenuación mágica","","El mago perderá un punto de Cansancio al lanzar un conjuro con un potencial superior a 100, dos si es mayor a 300 y tres si lo es de 500.",mv,[-1],[],!0,[],[],Iv,[])),Zc(new Vc("Lenta recuperación de magia","","La regeneración zeónica del personaje se reduce a la mitad.",mv,[-1],[new A(jv,"Magia estanca")],!0,[],[],Iv,[])),Zc(new Vc("Magia atada a acción","","Sólo es posible usar magia si se realiza la acción o se cumple la condición determinada por la desventaja. En el caso de que la acción sea una habilidad secundaria, el mago deberá superar un control contra Difícil (DIF) para lanzar sus conjuros.",mv,[-1],[],!0,[yv],[],Iv,[])),Zc(new Vc("Magia estanca","","El personaje carece de regeneración zeónica, por lo que no recuperará naturalmente los puntos de Zeon que consuma. Sólo podrá volver a conseguir magia drenándola de objetos que lo permitan o de seres vivos con el Don. Esta desventaja no puede combinarse a la de lenta recuperación de magia.",mv,[-2],[new A(jv,"Lenta recuperación de magia")],!0,[],[],Iv,[])),Zc(new Vc("Lazo existencial","","El mago no podrá elegir los conjuros de Libre Acceso de sus vías de magia y será incapaz de acceder a conjuros elegidos libremente.",mv,[-1],[],!0,[],[je],Iv,[])),Zc(new Vc("Brujería","","El hechicero requiere obligatoriamente emplear componentes materiales para lanzar hechizos. Cada conjuro requerirá un componente distinto determinado por el Director de Juego, según su origen y los conocimientos del brujo.",mv,[-2],[],!0,[],[],Iv,[])),Zc(new Vc("Extenuación psíquica","","El personaje pierde el doble de puntos de Cansancio de lo que indique su fatiga psíquica. Límitación: Esta desventaja no puede cogerse en combinación con Resistencia a la fatiga psíquica.",mv,[-1],[new A(jv,"Resistencia a la fatiga psíquica")],!0,[],[],Jv,[])),Zc(new Vc("Sin concentración","","Un psíquico con esta desventaja no podrá aplicar bonificadores a su potencial psíquico concentrándose.",mv,[-1],[],!0,[],[],Jv,[])),Zc(new Vc("Poder único","","El psíquico sólo podrá utilizar un único poder psíquico por asalto. Ello no le impide seguir usando otros mantenidos, siempre que los originara en asaltos anteriores.",mv,[-1],[],!0,[],[],Jv,[])),Zc(new Vc("Consumición psíquica","","Si un psíquico sufre un fracaso psíquico, pierde automáticamente los mismos puntos de vida que la cantidad por la que no alcanzó el potencial mínimo requerido.",mv,[-2],[],!0,[],[],Jv,[]));
var Rv=-999;Te.prototype={constructor:Te,getOro:function(){return this.oro},setOro:function(a){this.oro=a},addOro:function(a){this.setOro(this.getOro()+a)},getPlata:function(){return this.plata},setPlata:function(a){this.plata=a},getCobre:function(){return this.cobre},setCobre:function(a){this.cobre=a},totalEnCobre:function(){return this.oro==Rv||this.plata==Rv||this.cobre==Rv?Rv:10*(100*this.oro+this.plata)+this.cobre}};var Sv="Camisola",Tv="Completa",Uv="Peto",Vv="Blanda",Wv="Dura",Xv="Pequeño",Yv="Medio",Zv="Grande",$v="Enorme",_v="Gigante",aw="Arma Corta",bw="Hacha",cw="Maza",dw="Espada",ew="Mandoble",fw="Asta",gw="Cuerda",hw="Escudo",iw="Sin Armas",jw="Arma de Proyectiles",kw="Munición",lw="Arma Arrojadiza",mw="Precisa",nw="Arma a dos manos",ow="Arma a una o dos manos",pw="Compleja",qw="Lanzable",rw="Presa",sw="Traba el arma",tw="REGLA_LANZA_CABALLERIA",uw="REGLA_RED_GLADIADOR",vw="REGLA_ANCIANO_PRIMAVERA",ww="REGLA_CUERVO",xw="REGLA_KATANA_DOBLE_HOJA",yw="REGLA_KUSARI_GAMA",zw="REGLA_SHUKO",Aw="REGLA_BUMERAN",Bw="REGLA_KATAR",Cw="REGLA_ESCUDO_CORPORAL",Dw="REGLA_ESCUDO",Ew="REGLA_RODELA",Fw="REGLA_ARCABUZ",Gw="REGLA_BALISTA_LIGERA",Hw="REGLA_BALISTA_PESADA",Iw="REGLA_BALLESTA",Jw="REGLA_BALLESTA_MANO",Kw="REGLA_BALLESTA_REPETICION",Lw="REGLA_BALLESTA_PESADA",Mw="REGLA_BOLEADORAS",Nw="REGLA_CAÑON",Ow="REGLA_TURCUS",Pw="REGLA_PISTOLA_MECHA",Qw="REGLA_FLECHA_FAJO",Rw="REGLA_FLECHA_MELLA",Sw="MUNICION_PISTOLA_MECHA",Tw="MUNICION_ARCABUZ",Uw="MUNICION_CERBATANA",Vw="MUNICION_CAÑON",Ww="MUNICION_ARCO_CORTO",Xw="MUNICION_ARCO_LARGO",Yw="MUNICION_ARCO_LARGO_COMPUESTO",Zw="MUNICION_BALLESTA",$w="MUNICION_BALLESTA_REPETICION",_w="MUNICION_BALLESTA_LIGERA",ax="MUNICION_BALLESTA_PESADA",bx="MUNICION_BALISTA_LIGERA",cx="MUNICION_BALISTA_PESADA";Ue.prototype={constructor:Ue,getNombre:function(){return this.nombre},setNombre:function(a){this.nombre=a},getCosteDinero:function(){return this.costeDinero},getPeso:function(){return this.peso},getDisponibilidad:function(){return this.disponibilidad},setDisponibilidad:function(a){this.disponibilidad=a},getEntereza:function(){return this.entereza},getPresencia:function(){return this.presencia},getBonoHabilidad:function(){return this.bonoHabilidad},duplicar:function(){return new Ue(this.nombre,this.costeDinero,this.peso,this.disponibilidad,this.entereza,this.presencia,this.bonoHabilidad)}},t(Ve,Ue),Ve.prototype.getCategoria=function(){for(var a="",b=0;b<this.categorias.length;b++)a+=this.categorias[b],b+1<this.categorias.length&&(a+="/");return a},Ve.prototype.getCategorias=function(){return this.categorias},Ve.prototype.getVelocidad=function(){return this.velocidad},Ve.prototype.getDañoBase=function(){return this.dañoBase},Ve.prototype.getRotura=function(){return this.rotura},Ve.prototype.getFueReq=function(){return this.fueReq},Ve.prototype.getFueReq2Manos=function(){return this.fueReq2manos},Ve.prototype.getCriticoPrimario=function(){return this.criticoPrimario},Ve.prototype.getCriticoSecundario=function(){return this.criticoSecundario},Ve.prototype.getEspecial=function(){return this.especial},Ve.prototype.getBonoDaño=function(){return this.bonoDaño},Ve.prototype.getModificadorAtaqueParada=function(){return this.modificadorAtaqueParada},Ve.prototype.getModificadorTADefensor=function(){return this.modificadorTADefensor},Ve.prototype.getTamaño=function(){for(var a="",b=0;b<this.categorias.length;b++){var c=df(this.categorias[b]);""==a?a=c:ef(c)>ef(a)&&(a=c)}return a},Ve.prototype.duplicar=function(){return new Ve(this.nombre,this.costeDinero,this.peso,this.disponibilidad,this.categorias,this.velocidad,this.dañoBase,this.entereza,this.rotura,this.fueReq,this.fueReq2manos,this.presencia,this.criticoPrimario,this.criticoSecundario,this.especial,kn)},Ve.prototype.toJSON=function(){return this.nombre},t(We,Ue),We.prototype.getRequisitoArmadura=function(){return this.requisitoArmadura},We.prototype.getPenalizadorNatural=function(){return this.penalizadorNatural},We.prototype.getRestriccionMovimiento=function(){return this.restriccionMovimiento},We.prototype.getLocalizacion=function(){return this.localizacion},We.prototype.getClase=function(){return this.clase},We.prototype.getTAs=function(){return this.tas},We.prototype.duplicar=function(){return new We(this.nombre,this.costeDinero,this.peso,this.disponibilidad,this.requisitoArmadura,this.penalizadorArmadura,this.penalizadorNatural,this.restriccionMovimiento,this.entereza,this.presencia,this.localizacion,this.clase,this.tas)},We.prototype.toJSON=function(){return this.nombre};var dx=[],ex=[],fx="Error: Arma desconocida",gx="Error: tamaño desconocido",hx="Sin armas";dx.push(new Ve(hx,new Te(0,0,0),0,cn,[iw],20,10,0,-2,0,0,0,Xm,"",[mw],on));var ix="Alabarda";dx.push(new Ve(ix,new Te(12,0,0),3,cn,[fw,ew],-15,60,15,4,6,11,20,Wm,Xm,[nw],kn));var jx="Arpón";dx.push(new Ve(jx,new Te(0,50,0),2,cn,[fw],-5,35,11,0,5,5,15,Ym,"",[ow,qw],kn));var kx="Cadena";dx.push(new Ve(kx,new Te(0,50,0),2,cn,[gw],0,25,13,2,6,6,15,Xm,"",[pw,rw],kn));var lx="Cestus";dx.push(new Ve(lx,new Te(3,0,0),.5,cn,[aw],10,25,11,-2,3,3,15,Ym,Wm,[],kn));var mx="Cimitarra";dx.push(new Ve(mx,new Te(10,0,0),1,dn,[dw],-5,50,13,4,5,5,20,Wm,"",[],kn));var nx="Daga";dx.push(new Ve(nx,new Te(0,50,0),.5,cn,[aw],20,30,10,-2,5,5,15,Ym,Wm,[qw,mw],kn));var ox="Daga de parada";dx.push(new Ve(ox,new Te(10,0,0),.6,dn,[aw],15,30,12,0,3,3,20,Ym,Wm,[qw,sw,mw],kn));var px="Espada ancha";dx.push(new Ve(px,new Te(4,0,0),1.5,cn,[dw],-5,55,15,3,5,5,25,Wm,"",[],kn));var qx="Espada bastarda";dx.push(new Ve(qx,new Te(20,0,0),2,dn,[dw,ew],-30,70,15,5,7,9,25,Wm,Xm,[ow],kn));var rx="Espada corta";dx.push(new Ve(rx,new Te(2,0,0),.8,cn,[aw],15,40,12,1,4,4,20,Ym,Wm,[mw],kn));var sx="Espada larga";dx.push(new Ve(sx,new Te(5,0,0),1.4,cn,[dw],0,50,13,3,6,6,25,Wm,"",[],kn));var tx="Estilete";dx.push(new Ve(tx,new Te(0,60,0),.4,cn,[aw],20,25,8,-3,3,3,15,Ym,"",[qw,mw],kn));var ux="Estoque";dx.push(new Ve(ux,new Te(25,0,0),1.2,dn,[dw],15,40,11,2,4,4,20,Ym,Wm,[mw],kn));var vx="Florete";dx.push(new Ve(vx,new Te(15,0,0),1,dn,[dw,aw],15,35,9,-2,3,3,20,Ym,"",[mw],kn));var wx="Garfio";dx.push(new Ve(wx,new Te(1,0,0),.5,cn,[aw],10,30,11,-2,3,3,15,Ym,"",[],kn));var xx="Garrote";dx.push(new Ve(xx,new Te(0,50,0),1.5,cn,[cw],0,30,11,-2,5,5,15,Xm,"",[],kn));var yx="Gran martillo de guerra";dx.push(new Ve(yx,new Te(15,0,0),5,cn,[cw],-35,70,16,6,7,10,20,Xm,"",[ow],kn));var zx="Guadaña";dx.push(new Ve(zx,new Te(0,20,0),2.5,cn,[fw,ew],0,35,12,2,5,9,25,Wm,Xm,[ow],kn));var Ax="Hacha a dos manos";dx.push(new Ve(Ax,new Te(40,0,0),5,cn,[bw,ew],-70,100,17,7,9,11,30,Wm,Xm,[ow],kn));var Bx="Hacha de guerra";dx.push(new Ve(Bx,new Te(15,0,0),1.5,dn,[bw],-30,70,15,5,7,7,25,Wm,Xm,[qw],kn));var Cx="Hacha de mano";dx.push(new Ve(Cx,new Te(2,0,0),1,cn,[bw],0,45,13,4,5,5,15,Wm,"",[qw],kn));var Dx="Jabalina";dx.push(new Ve(Dx,new Te(2,0,0),1,cn,[fw],5,35,10,-2,4,4,20,Ym,"",[qw],kn));var Ex="Lanza";dx.push(new Ve(Ex,new Te(4,0,0),3,cn,[fw],5,40,13,2,4,6,25,Ym,"",[qw,ow],kn));var Fx="Lanza de caballería";dx.push(new Ve(Fx,new Te(20,0,0),2,dn,[fw],-30,80,12,7,8,8,25,Ym,"",[tw],kn));var Gx="Látigo";dx.push(new Ve(Gx,new Te(5,0,0),1,cn,[gw],-20,35,9,-3,4,4,20,Wm,Xm,[pw,rw],kn));var Hx="Lazo";dx.push(new Ve(Hx,new Te(0,20,0),.3,cn,[gw],10,5,9,-3,4,4,20,Xm,"",[pw,rw],kn));var Ix="Mandoble";dx.push(new Ve(Ix,new Te(50,0,0),2.5,dn,[ew],-60,90,18,6,8,10,30,Wm,Xm,[ow],kn));var Jx="Mangual";dx.push(new Ve(Jx,new Te(15,0,0),1,cn,[cw,ew],-50,80,14,6,8,10,20,Xm,"",[pw],kn));var Kx="Martillo de guerra";dx.push(new Ve(Kx,new Te(4,0,0),1.2,cn,[cw],-5,50,15,4,6,6,15,Xm,[]));var Lx="Mayal";dx.push(new Ve(Lx,new Te(12,0,0),1.2,cn,[cw,gw],0,40,13,4,6,6,15,Xm,"",[pw],kn));var Mx="Maza";dx.push(new Ve(Mx,new Te(2,0,0),1.8,cn,[cw],0,40,14,4,6,6,15,Xm,"",[],kn));var Nx="Maza pesada";dx.push(new Ve(Nx,new Te(15,0,0),2.5,cn,[cw,ew],-15,60,16,5,6,10,15,Xm,"",[ow],kn));var Ox="Red de gladiador";dx.push(new Ve(Ox,new Te(1,0,0),.5,cn,[gw],0,5,13,-4,4,4,15,Xm,Wm,[qw,rw,uw],kn));var Px="Sable";dx.push(new Ve(Px,new Te(20,0,0),1,dn,[dw],10,45,12,3,6,6,20,Wm,Ym,[],kn));var Qx="Tridente";dx.push(new Ve(Qx,new Te(3,0,0),2,cn,[fw],-10,40,12,3,6,7,15,Ym,"",[qw,ow],kn));var Rx="Vara";dx.push(new Ve(Rx,new Te(0,40,0),1,cn,[fw],10,30,11,0,4,4,30,Xm,"",[nw],kn));var Sx="Abanico de combate";dx.push(new Ve(Sx,new Te(5,0,0),.2,dn,[aw],20,30,8,0,4,4,25,Wm,Xm,[mw,qw],kn));var Tx="Anciano de primavera";dx.push(new Ve(Tx,new Te(15,0,0),3,dn,[fw],15,35,12,2,4,4,25,Wm,Ym,[pw,nw,vw],kn));var Ux="Cuervo";dx.push(new Ve(Ux,new Te(5,0,0),.5,dn,[aw],10,35,11,2,4,4,25,Xm,Wm,[pw,mw,ww],kn));var Vx="Katana";dx.push(new Ve(Vx,new Te(50,0,0),1,dn,[dw],0,50,11,3,5,6,40,Wm,"",[ow],kn));var Wx="Katana de doble hoja";dx.push(new Ve(Wx,new Te(75,0,0),2,dn,[dw],-5,55,11,3,8,8,40,Wm,"",[xw],kn));var Xx="Kusari-Gama";dx.push(new Ve(Xx,new Te(10,0,0),1,dn,[aw,gw],5,40,12,4,5,5,25,Wm,Xm,[nw,rw,yw],kn));var Yx="No-Dachi";dx.push(new Ve(Yx,new Te(70,0,0),1.5,dn,[ew],-35,80,14,4,8,10,40,Wm,"",[ow],kn));var Zx="Nunchaku";dx.push(new Ve(Zx,new Te(2,0,0),.6,dn,[gw],15,30,11,0,5,5,15,Xm,"",[],kn));var $x="Sai";dx.push(new Ve($x,new Te(1,0,0),.4,dn,[aw],15,35,12,0,4,4,25,Ym,Wm,[mw,sw],kn));var _x="Shuriken";dx.push(new Ve(_x,new Te(0,50,0),.1,dn,[aw],20,25,10,1,4,4,20,Wm,Ym,[qw],kn));var ay="Shuko";dx.push(new Ve(ay,new Te(3,0,0),.3,dn,[aw],10,20,9,-2,4,4,25,Ym,"",[zw],kn));var by="Tanto";dx.push(new Ve(by,new Te(20,0,0),.5,dn,[aw],20,40,9,1,3,3,40,Wm,"",[mw],kn));var cy="Tonfa";dx.push(new Ve(cy,new Te(1,0,0),.3,dn,[aw],20,30,13,0,4,4,25,Xm,"",[mw],kn));var dy="Bumerán";dx.push(new Ve(dy,new Te(3,0,0),.6,dn,[aw],10,30,10,0,4,4,15,Xm,Wm,[qw,Aw],kn));var ey="Garras";dx.push(new Ve(ey,new Te(3,0,0),.5,dn,[aw],15,30,12,2,4,4,15,Wm,Ym,[],kn));var fy="Quebradora";dx.push(new Ve(fy,new Te(30,0,0),1,dn,[ew],-20,50,16,8,8,10,25,Xm,Wm,[ow],kn));var gy="Katar";dx.push(new Ve(gy,new Te(40,0,0),.6,dn,[aw],10,40,13,3,8,8,25,Ym,Wm,[pw,Bw],kn));var hy="Arcabuz";dx.push(new Ve(hy,new Te(500,0,0),4.5,en,[jw],-20,0,9,-3,6,6,20,"","",[pw,Fw],kn));var iy="Arco corto";dx.push(new Ve(iy,new Te(5,0,0),.8,cn,[jw],-10,0,7,-3,4,4,15,"","",[nw],kn));var jy="Arco largo";dx.push(new Ve(jy,new Te(20,0,0),1.4,cn,[jw],-30,0,8,-2,7,7,20,"","",[nw],kn));var ky="Arco largo compuesto";dx.push(new Ve(ky,new Te(80,0,0),1.8,dn,[jw],-30,0,8,-2,7,7,25,"","",[nw],kn));var ly="Bala";dx.push(new Ve(ly,new Te(0,20,0),0,dn,[kw],0,60,11,5,0,0,15,Ym,"",[Sw,Tw],kn));var my="Bala de cañón";dx.push(new Ve(my,new Te(10,0,0),15,en,[kw],0,150,20,14,0,0,15,Xm,"",[Vw],kn));var ny="Balista ligera";dx.push(new Ve(ny,new Te(100,0,0),180,cn,[jw],-80,0,18,0,0,0,25,"","",[Gw],kn));var oy="Balista pesada";dx.push(new Ve(oy,new Te(250,0,0),350,dn,[jw],-100,0,20,0,0,0,30,"","",[Hw],kn));var py="Ballesta";dx.push(new Ve(py,new Te(50,0,0),2.5,dn,[jw],0,0,8,-2,4,8,20,"","",[Iw,ow],kn));var qy="Ballesta de mano";dx.push(new Ve(qy,new Te(250,0,0),1.5,dn,[jw],10,0,5,-4,3,3,15,"","",[Jw],kn));var ry="Ballesta de repetición";dx.push(new Ve(ry,new Te(200,0,0),4,en,[jw],0,0,6,-2,5,8,20,"","",[Kw,ow],kn));var sy="Ballesta pesada";dx.push(new Ve(sy,new Te(70,0,0),3,dn,[jw],-20,0,8,-1,7,10,20,"","",[Lw,ow],kn));var ty="Bolas";dx.push(new Ve(ty,new Te(1,0,0),.2,cn,[lw],0,20,10,2,5,5,15,Xm,"",[],kn));var uy="Boleadoras";dx.push(new Ve(uy,new Te(2,0,0),1,cn,[lw],-10,30,6,2,5,5,15,Xm,"",[rw,pw,Mw],kn));var vy="Cañón";dx.push(new Ve(vy,new Te(5e3,0,0),400,en,[jw],-100,0,24,0,0,0,30,"","",[Nw],kn));var wy="Cerbatana";dx.push(new Ve(wy,new Te(1,0,0),.4,cn,[jw],-10,0,3,-3,4,4,15,"","",[],kn));var xy="Dardo de cerbatana";dx.push(new Ve(xy,new Te(0,20,0),.1,cn,[kw],0,5,2,-4,0,0,15,Ym,"",[Uw],kn));var yy="Dardos de mano";dx.push(new Ve(yy,new Te(0,50,0),.1,cn,[lw],20,20,3,-4,3,3,15,Ym,"",[],kn));var zy="Flecha de descarga";dx.push(new Ve(zy,new Te(0,2,0),.1,cn,[kw],0,40,4,1,0,0,20,Ym,"",[Ww,Xw,Yw],kn));var Ay="Flecha de fajo";dx.push(new Ve(Ay,new Te(0,1,0),.1,cn,[kw],0,30,3,0,0,0,20,Ym,"",[Ww,Xw,Yw,Qw],kn));var By="Flecha de mella";dx.push(new Ve(By,new Te(0,50,0),.1,cn,[kw],0,30,3,0,0,0,20,Ym,"",[Ww,Xw,Yw,Rw],kn));var Cy="Pistola de mecha";dx.push(new Ve(Cy,new Te(600,0,0),2,en,[jw],0,0,8,-3,4,4,20,"","",[pw,Pw],kn));var Dy="Saeta";dx.push(new Ve(Dy,new Te(0,1,0),.1,dn,[kw],0,40,3,0,0,0,15,Ym,"",[Zw,$w],kn));var Ey="Saeta ligera";dx.push(new Ve(Ey,new Te(0,2,0),.1,en,[kw],0,30,2,-1,0,0,15,Ym,"",[_w],kn));var Fy="Saeta pesada";dx.push(new Ve(Fy,new Te(0,1,0),.2,dn,[kw],0,60,4,1,0,0,15,Ym,"",[ax],kn));var Gy="Turcus";dx.push(new Ve(Gy,new Te(5,0,0),.8,dn,[lw],0,40,9,2,6,6,20,Wm,"",[Ow],kn));var Hy="Virote ligero";dx.push(new Ve(Hy,new Te(0,10,0),2,cn,[kw],0,120,16,8,0,0,15,Ym,"",[bx],kn));var Iy="Virote pesado";dx.push(new Ve(Iy,new Te(0,50,0),5,dn,[kw],0,150,18,12,0,0,15,Ym,"",[cx],kn));var Jy="Escudo";dx.push(new Ve(Jy,new Te(20,0,0),2,cn,[hw],-25,20,16,0,7,7,25,Xm,"",[Dw],kn));var Ky="Escudo corporal";dx.push(new Ve(Ky,new Te(50,0,0),6,cn,[hw],-40,25,18,1,10,10,25,Xm,"",[Cw],kn));var Ly="Rodela";dx.push(new Ve(Ly,new Te(5,0,0),1,cn,[hw],-15,15,14,0,5,5,20,Xm,"",[Ew],kn));var My="Acolchada";ex.push(new We(My,new Te(1,0,0),3,cn,0,-5,0,10,25,Sv,Vv,[1,1,1,1,2,2,0]));var Ny="Cota de cuero";ex.push(new We(Ny,new Te(1,0,0),3,cn,0,0,0,15,25,Sv,Vv,[1,0,2,1,2,1,0]));var Oy="Gabardina";ex.push(new We(Oy,new Te(0,5,0),1.5,dn,0,-5,0,10,25,Tv,Vv,[1,0,2,1,2,2,0]));var Py="Piel";ex.push(new We(Py,new Te(5,0,0),2,cn,10,-10,0,10,25,Sv,Vv,[2,1,2,1,2,2,0]));var Qy="Completa de cuero";ex.push(new We(Qy,new Te(5,0,0),7,cn,10,0,1,12,25,Tv,Vv,[1,0,2,1,2,1,0]));var Ry="Cuero endurecido";ex.push(new We(Ry,new Te(15,0,0),4,cn,20,-10,0,13,25,Uv,Wv,[2,2,2,2,2,2,0]));var Sy="Cuero tachonado";ex.push(new We(Sy,new Te(25,0,0),4.5,cn,25,-10,1,14,25,Uv,Wv,[3,1,2,2,1,2,0]));var Ty="Mallas";ex.push(new We(Ty,new Te(70,0,0),13,cn,30,-15,1,15,30,Tv,Vv,[4,2,1,2,0,1,0]));var Uy="Peto";ex.push(new We(Uy,new Te(40,0,0),4,dn,40,-15,1,16,30,Uv,Wv,[4,5,4,1,0,1,0]));var Vy="Piezas";ex.push(new We(Vy,new Te(40,0,0),6,dn,50,-20,2,15,30,Tv,Wv,[4,3,2,3,2,2,0]));var Wy="Anillas";ex.push(new We(Wy,new Te(50,0,0),9,cn,60,-20,2,15,30,Sv,Vv,[4,3,1,2,0,1,0]));var Xy="Semicompleta";ex.push(new We(Xy,new Te(100,0,0),13,cn,70,-20,3,16,35,Tv,Wv,[4,4,4,2,0,1,1]));var Yy="Escamas";ex.push(new We(Yy,new Te(120,0,0),9,dn,80,-25,3,17,35,Tv,Wv,[4,4,4,3,0,3,1]));var Zy="Placas";ex.push(new We(Zy,new Te(300,0,0),18,cn,90,-35,4,17,40,Tv,Wv,[5,4,5,3,0,3,1]));var $y="Completa";ex.push(new We($y,new Te(400,0,0),20,dn,100,-50,4,18,45,Tv,Wv,[5,5,5,4,0,4,2]));var _y="Completa pesada";ex.push(new We(_y,new Te(700,0,0),30,en,120,-60,5,19,45,Tv,Wv,[6,6,6,4,0,4,2]));var az="De campaña pesada";ex.push(new We(az,new Te(800,0,0),25,en,150,-70,6,20,50,Tv,Wv,[7,7,7,4,0,4,2])),ff.prototype={constructor:ff,toString:function(){return this.nombre},getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getEfectos:function(){return this.efectos},getCoste:function(){return this.coste},getCategoriaTabla:function(){return this.categoriaTabla},getTipoTabla:function(){return this.tipoTabla},getOpciones:function(){return this.opciones},toJSON:function(){return this.nombre}},gf.prototype={constructor:gf,toString:function(){return this.opcion?this.tablaArmas.toString()+": "+this.opcion:this.tablaArmas.toString()},getNombre:function(){return this.tablaArmas.nombre},getDescripcion:function(){return this.tablaArmas.descripcion},getEfectos:function(){return this.tablaArmas.efectos},getCoste:function(a){var b=this.tablaArmas.coste;return a.getCategoria().getNombre()==yD&&(this.getCategoriaTabla()==fz||this.getCategoriaTabla()==ez||this.getCategoriaTabla()==dz)&&(b/=2),b},getCategoriaTabla:function(){return this.tablaArmas.categoriaTabla},getTipoTabla:function(){return this.tablaArmas.tipoTabla},getOpciones:function(){return this.tablaArmas.opciones},getOpcion:function(){return this.opcion},setOpcion:function(a){this.opcion=a},isAnulable:function(){return this.anulable},setAnulable:function(a){this.anulable=a}};var bz=[],cz="Error: Tabla de Armas desconocida",dz="Tablas de armas generales",ez="Tablas de armas arquetípicas",fz="Tablas de estilos",gz="Tablas Místicas",hz="Tablas Psíquicas",iz=[dz,ez,fz,gz,hz],jz="Especial",kz="TABLA_MANEJO_CATEGORIA",lz="TABLA_SIN_EFECTO",mz="TABLA_MANEJO_ARMAS",nz="Arma Similar",oz="TABLA_ARMA_MIXTA",pz="TABLA_ARMA_DISTINTA",qz="TABLA_TIPOLOGIA";bz.push(new ff("Arma similar","","Otorga la capacidad de usar un arma adicional del mismo tipo que una que el personaje ya conoce.",10,jz,[nz],dz)),bz.push(new ff("Arma mixta","","Otorga la capacidad de usar un arma mixta que tiene, por lo menos, un mismo tipo en común con otra que el personaje ya conoce.",15,jz,[oz],dz)),bz.push(new ff("Arma distinta / Desarmado","","Otorga la capacidad de usar un arma de un tipo que no conoce el personaje.",20,jz,[pz],dz)),bz.push(new ff("Tabla de tipología","","Permite utilizar una determinada tipología de armas sin aplicar ningún penalizador a su habilidad marcial. Deben de elegirse las de una clase concreta, ya sea pura o mixta. Si por ejemplo el personaje domina el uso de las espadas, podrá manejar cualquiera de ellas sin negativos, pero no así un mandoble, al ser un arma de tipología mixta.",50,jz,[qz],dz)),bz.push(new ff("Tabla de proyectiles","","Adquiere la pericia de usar cualquier arma de disparo con la misma habilidad de ataque.",50,kz,[jw],dz)),bz.push(new ff("Tabla de lanzamiento","","Adquiere la pericia de lanzar toda clase de artefactos con la misma habilidad de ataque.",50,kz,[lw],dz)),bz.push(new ff("Tabla de armas improvisadas","","Esta tabla permite utilizar cualquier tipo de objeto común como arma improvisada.",50,lz,[],dz)),bz.push(new ff("Tabla de Asesino","","Otorga pericia en las siguientes armas: Espada Corta, Ballesta de Mano, Garrote, Cerbatana y Estilete.",50,mz,[rx,qy,xx,wy,tx],ez)),bz.push(new ff("Tabla de Bárbaro","","Otorga pericia en las siguientes armas: Hacha de Guerra, Hacha a dos manos, Mandoble, Espada Bastarda y Maza a Dos Manos.",50,mz,[Bx,Ax,Ix,qx,Nx],ez)),bz.push(new ff("Tabla de Caballero","","Otorga pericia en las siguientes armas: Espada Larga, Lanza de Caballería, Maza, Espada Bastarda y Escudo Medio.",50,mz,[sx,Fx,Mx,qx,Jy],ez)),bz.push(new ff("Tabla de Nómada","","Otorga pericia en las siguientes armas: Daga, Turcus, Arco Largo, Cimitarra y Lanza.",50,mz,[nx,Gy,jy,mx,Ex],ez)),bz.push(new ff("Tabla de Gladiador","","Otorga pericia en las siguientes armas: Espada Corta, Red de Gladiador, Rodela, Tridente y Látigo.",50,mz,[rx,Ox,Ly,Qx,Gx],ez)),bz.push(new ff("Tabla de Cazador","","Otorga pericia en las siguientes armas: Jabalina, Arco, Espada Corta, Lanza y Boleadoras.",50,mz,[Dx,jy,iy,ky,Ex,uy],ez)),bz.push(new ff("Tabla de Soldado","","Otorga pericia en las siguientes armas: Ballesta, Espada Larga, Alabarda, Lanza y Escudo Medio.",50,mz,[py,sx,ix,Ex,Jy],ez)),bz.push(new ff("Tabla de Ninja","","Otorga pericia en las siguientes armas: Katana, Tanto, Garras, Shuriken y Kusari Gama.",50,mz,[Vx,by,ey,_x,Xx],ez)),bz.push(new ff("Tabla de Duelista","","Otorga pericia en las siguientes armas: Estoque, Florete, Daga de Parada, Sable y Espada Larga.",50,mz,[ux,vx,ox,Px,sx],ez)),bz.push(new ff("Tabla de Aborigen","","Otorga pericia en las siguientes armas: Jabalina, Lanza, Escudo Corporal, Arco y Cerbatana.",50,mz,[Dx,Ex,Ky,jy,iy,ky,wy],ez)),bz.push(new ff("Tabla de Pirata","","Otorga pericia en las siguientes armas: Arpón, Red de Gladiador, Garfio, Sable y Hacha de mano.",50,mz,[jx,Ox,wx,Px,Cx],ez)),bz.push(new ff("Tabla de Bandido","","Otorga pericia en las siguientes armas: Daga, Ballesta, Espada Corta, Maza y Garrote.",50,mz,[nx,py,rx,Mx,xx],ez)),bz.push(new ff("Batto jutsu / Iai jutsu","","El personaje puede desenfundar su arma sin aplicar el penalizador de -25 a su habilidad de ataque o parada. No tiene efectos sobre armas a dos manos.",30,lz,[],fz)),bz.push(new ff("Tabla de Área","","Reduce a la mitad el penalizador de la maniobra Ataque en área, por lo que al ejecutarla, un personaje aplica sólo un -25 a su habilidad.",50,lz,[],fz)),bz.push(new ff("Tabla de Precisión","","Reduce a la mitad el penalizador de la maniobra Engatillar, por lo que un personaje sufre sólo un -50 a su habilidad al ejecutarla.",50,lz,[],fz)),bz.push(new ff("Tabla de Desarme","","Reduce a la mitad el penalizador de la maniobra Desarmar, por lo que un personaje sufre sólo un -20 a su habilidad al ejecutarla.",40,lz,[],fz)),bz.push(new ff("Tabla de Ataque Encadenado","","Al realizar ataques adicionales, el personaje puede usar las armas de tamaño Grande aplicando el penalizador de armas de tamaño Medio (es decir, un -30), y las de tamaño Medio como si fueran Pequeñas (un -20). No tiene efectos sobre armas Pequeñas.",50,lz,[],fz)),bz.push(new ff("Proyección Mágica como ataque","","Permite utilizar la habilidad de ataque de un personaje como Proyección Mágica ofensiva. Sólo se emplea la habilidad base, y no los puntos de mejora innata que proporcionan algunas categorías de combate. No puede utilizarse para lanzar conjuros pasivos ni defensivos.",75,lz,[],gz)),bz.push(new ff("Proyección Mágica como defensa","","Permite utilizar la habilidad de defensa de un personaje como Proyección Mágica defensiva. Sólo se emplea la habilidad base, y no los puntos de mejora innata que proporcionan algunas categorías de combate. No puede utilizarse para dirigir conjuros de carácter ofensivo.",75,lz,[],gz)),bz.push(new ff("Tabla de Proyección Psíquica","","Otorga la capacidad de usar las habilidades de combate del personaje como Proyección Psíquica. La ofensiva se utiliza para atacar, y la defensiva para levantar escudos. Sólo se emplea la habilidad base, no los puntos de mejora innata que proporcionan algunas categorías de combate.",100,lz,[],hz)),jf.prototype={constructor:jf,toString:function(){return this.nombre},getNombre:function(){return this.nombre},getVentajas:function(){return this.ventajas},getDesventajas:function(){return this.desventajas},getExplicacion:function(){for(var a=[],b=0;b<this.ventajas.length;b++)a.push(new kf(this.ventajas[b].getNombre(),this.ventajas[b].getDescripcion(),this.ventajas[b].getDescripcionEfecto()));for(var c=0;c<this.desventajas.length;c++)a.push(new kf(this.desventajas[c].getNombre(),this.desventajas[c].getDescripcion(),this.desventajas[c].getDescripcionEfecto()));return a},getBonoCaracteristica:function(a){return this.bonosCaracteristicas[d(a)]},getModNivel:function(){return this.modificadorNivel},toJSON:function(){return this.nombre}},kf.prototype={constructor:kf,getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getReglas:function(){return this.reglas}};var rz=[],sz="Error: Nombre de raza erróneo",tz="Humano",uz=new jf(tz,[],[],0);rz.push(uz),rn[tz]=uz;var vz="Sylvain",wz="Características sobrehumanas (Sylvain)",xz="Resistencias anímicas excepcionales (Sylvain)",yz="Inmunidad a las enfermedades y venenos naturales (Sylvain)",zz="Acciones inhumanas (Sylvain)",Az="Necesidades Limitadas (Sylvain)",Bz="Curación Rápida (Sylvain)",Cz="Presentir lo oscuro y lo luminoso (Sylvain)",Dz="Obligación mágica (Sylvain)",Ez="Su visión del mundo (Sylvain)",Fz="Lazo hacia la luz (Sylvain)";fv.push(new Vc(wz,"","Aplica un bono de +1 a las características de DES, AGI, POD e INT, pero sufren un penalizador de -1 a su FUE y CON.",nv,[0],[new A(jv,"Inmunidad sobrenatural")],!1,[],[td],Mv,[])),fv.push(new Vc(xz,"","aplican un bono de +30 a su Resistencia Mágica y Psíquica (RM y RP). Un Sylvain no puede elegir las desventajas de Vulnerabilidad a la magia o Fácil posesión.",nv,[0],[new A(jv,"Fácil posesión"),new A(jv,"Vulnerabilidad a la magia")],!1,[],[rd],Mv,[])),fv.push(new Vc(yz,"","Obtienen además un bono de +20 a su RE y un +10 a su RV. No pueden elegir las desventajas de: Salud enfermiza, Vulnerable a los venenos o enfermedad grave incurable.",nv,[0],[new A(jv,"Salud enfermiza"),new A(jv,"Vulnerabilidad a los venenos"),new A(jv,"Enfermedad grave")],!1,[],[sd],Mv,[])),fv.push(new Vc(zz,"","Por naturaleza, un Sylvain puede alcanzar la dificultad de Inhumano en los controles de dificultades.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(Az,"","Disminuyen sus necesidades de sueño y comida hasta una quinta parte de las que necesita un humano.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(Bz,"","Suman tres puntos a su nivel de Regeneración natural.",nv,[0],[],!1,[],[fd,3,Bz],Mv,[])),fv.push(new Vc(Cz,"","De un modo sobrenatural, perciben la esencia oscura o luminosa que desprenden sus almas. Esta habilidad no les permite reconocer a un individuo que se halle oculto por un conjuro o mediante una habilidad del Ki.",nv,[0],[],!1,[],[],Mv,[])),gv.push(new Vc(Fz,"","Cualquier ser de dicho elemento sentirá afinidad hacia ellos y no pueden elegir la ventaja Desequilibrio hacia la oscuridad. Además, poseen un bono especial de +10 a cualquier control de Resistencia que realicen contra efectos de lumínicos, y un penalizador equivalente contra la oscuridad.",nv,[0],[new A(jv,"Desequilibrio elemental","Oscuridad")],!1,[],[],Mv,[])),gv.push(new Vc(Dz,"","Están obligados a elegir la ventaja de Don.",nv,[0],[],!1,[],[ud],Mv,[])),gv.push(new Vc(Ez,"","Sufre un penalizador de -3 a los puntos de experiencia que obtenga al finalizar una sesión de juego.",nv,[0],[],!1,[],[],Mv,[]));var Gz=new jf(vz,[ad(wz),ad(xz),ad(yz),ad(zz),ad(Az),ad(Bz),ad(Cz),ad(Fz)],[ad(Dz),ad(Ez)],2);rz.push(Gz),rn[vz]=Gz;var Hz="D'Anjayni",Iz="Olvido (D'Anjayni)",Jz="Indetectabilidad (D'Anjayni)",Kz="El rostro de la araña (D'Anjayni)",Lz="Pasar sin dejar rastro (D'Anjayni)",Mz="Susurros silenciosos (D'Anjayni)",Nz="Naturaleza observadora (D'Anjayni)";fv.push(new Vc(Iz,"","A términos de juego, cualquiera que vea o hable con el personaje deberá superar una Resistencia Mágica (RM) contra 120, u olvidará su apariencia y la conversación que han mantenido. ",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(Jz,"","Su capacidad para evitar ser detectados por medios sobrenaturales les otorga un bono de +50 a cualquier Resistencia contra tales efectos. Además, poseen de manera innata la habilidad de Ocultación del Ki.",nv,[0],[],!1,[],[hd],Mv,[])),fv.push(new Vc(Kz,"","Mientras esté empleando El rostro de la araña, su habilidad de Olvido se resiente fuertemente, reduciendo la Resistencia a tan sólo 80.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(Lz,"","Su rastro se borra a medida que camina, por lo que si alguien intenta rastrearles, aplicará un -60 a su habilidad.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(Mz,"","Todo aquel que intente escucharlas aplicará un -80 a sus controles si no es su receptor.",nv,[0],[],!1,[],[],Mv,[])),gv.push(new Vc(Nz,"","Sufre un penalizador de -3 a los puntos de experiencia que obtenga al finalizar una sesión de juego.",nv,[0],[],!1,[],[],Mv,[]));var Oz=new jf(Hz,[ad(Iz),ad(Jz),ad(Kz),ad(Lz),ad(Mz)],[ad(Nz)],1);rz.push(Oz),rn[Hz]=Oz;var Pz="Ebudan",Qz="Or'inie (Ebudan)",Rz="Alas de Serafín (Ebudan)",Sz="Esencia Celestial (Ebudan)";fv.push(new Vc(Qz,"","El Ebudan puede aplicar un bonificador de +30 a cualquier Resistencia contra efectos de dominio, control emocional u olvido que puedan impedirle realizar el Sue´ Aman. Una vez conseguido, esta habilidad desaparece completamente y puede elegir entre trascender al flujo de almas y renacer como entidades espirituales con Gnosis 30, o permanecer en el mundo para guiar a otros miembros de su especie. En un caso u otro, ganan un bono de +2 a su POD y a su VOL.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(Rz,"","Las características de las alas (ambas se consideran una sola unidad como arma) son las siguientes: poseen un turno de +20, un daño base de 60 más el bono de Fuerza, su crítico primario es de Filo, de tipo mandoble, con una entereza y rotura de 20 y 5 respectivamente. Por su complejidad, no pueden utilizarlas en combinación con armas empuñadas. Además, pueden detener proyectiles como si se tratasen de un escudo. Si cumplen el Sue´ Aman, un Ebudan es capaz de dañar energía con ellas.",nv,[0],[],!1,[],[id],Mv,[])),fv.push(new Vc(Sz,"","A efectos de juego, el Ebudan se vuelve invulnerable a cualquier ataque natural que no sea capaz de dañar energía.",nv,[0],[],!1,[],[],Mv,[]));var Tz=new jf(Pz,[ad(Qz),ad(Rz),ad(Sz)],[],1);rz.push(Tz),rn[Pz]=Tz;var Uz="Jayán",Vz="Gigantes (Jayán)",Wz="Físico excepcional (Jayán)",Xz="Aguante al cansancio (Jayán)",Yz="Resistencia física (Jayán)",Zz="El tercer ojo (Jayán)",$z="Armas naturales (Jayán)",_z="Fuerza inhumana (Jayán)",aA="Debilidad contra magia (Jayán)";fv.push(new Vc(Vz,"","Suman dos puntos a su característica de Tamaño y no pueden elegir la ventaja Tamaño desigual para disminuirlo.",nv,[0],[new A(jv,"Tamaño no natural",-5),new A(jv,"Tamaño no natural",-4),new A(jv,"Tamaño no natural",-3),new A(jv,"Tamaño no natural",-2),new A(jv,"Tamaño no natural",-1)],!1,[],[od],Mv,[])),fv.push(new Vc(Wz,"","Suman un +2 a su característica de FUE y un +1 a su CON. Adicionalmente, no es posible utilizar la desventaja de Reducir dos puntos a una característica para rebajar su Fuerza.",nv,[0],[],!1,[new A(jv,"Reducir dos puntos a una característica",Ek)],[pd],Mv,[])),fv.push(new Vc(Xz,"","Aplican un bonificador de tres puntos al valor máximo de su Cansancio",nv,[0],[],!1,[],[ed,3],Mv,[])),fv.push(new Vc(Yz,"","Obtienen +20 a su RF.",nv,[0],[],!1,[],[dd,nq,20],Mv,[])),fv.push(new Vc(Zz,"","Esta habilidad no funciona con conjuros, efectos místicos o matrices psíquicas.",nv,[0],[],!1,[],[],Mv,[])),gv.push(new Vc($z,"","Incluso desarmados, sus ataques producen un daño base de 40 ó 60 más el bono de Fuerza, dependiendo de su tamaño (Ver la Tabla 82). Naturalmente, es necesario desarrollar su habilidad de combate con ellas para no aplicar penalizadores.",nv,[0],[],!1,[],[jd],Mv,[])),gv.push(new Vc(_z,"","Su increíble físico permite a los Jayán realizar acciones de dificultad Inhumana en todos aquellos controles que dependan de la característica de Fuerza.",nv,[0],[],!1,[],[],Mv,[])),gv.push(new Vc(aA,"","Aplican un penalizador de -20 a su RM. Además, restan un punto de su característica de POD.",nv,[0],[],!1,[],[kd],Mv,[]));var bA=new jf(Uz,[ad(Vz),ad(Wz),ad(Xz),ad(Yz),ad(Zz),ad($z),ad(_z)],[ad(aA)],1);rz.push(bA),rn[Uz]=bA;var cA="Daimah",dA="Cuerpo felino (Daimah)",eA="Sentir el bosque (Daimah)",fA="Garras y dientes (Daimah)",gA="Habilidad inhumana (Daimah)",hA="Pequeño tamaño (Daimah)",iA="Naturaleza curativa (Daimah)",jA="Resistencia a las caídas (Daimah)",kA="Inmunidad natural (Daimah)",lA="Esencia mística (Daimah)",mA="Movimiento por los bosques (Daimah)",nA="Ver la esencia (Daimah)";fv.push(new Vc(dA,"","Aplican un bono de +1 a sus características de AGI y DES, pero un -1 a su CON y VOL",nv,[0],[],!1,[],[ld],Mv,[])),fv.push(new Vc(eA,"","Son capaces de notar las sensaciones de los animales y las plantas, detectando si tienen miedo, se sienten tranquilos o les ocurre algo extraño.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(fA,"","Empleadas de este modo, tiene un daño base de 30 puntos más el bono de Fuerza. Lógicamente, es necesario desarrollar su habilidad de combate con ellas para no aplicar penalizadores.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(gA,"","La capacidad de los Daimah les permite alcanzar la dificultad de Inhumano en aquellos controles y habilidades que dependan de su Agilidad y su Destreza.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(hA,"","Restan un punto de su característica de Tamaño",nv,[0],[],!1,[],[cd,-1],Mv,[])),fv.push(new Vc(iA,"","Mientras esté en una espesa zona boscosa o selvática, el Nephilim suma ocho puntos a su nivel de Regeneración.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(jA,"","Restan dos grados a la dificultad que necesitan superar para evitar daños en la Tabla 68.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(kA,"","Por tanto, son inmunes a todos los venenos que provengan de animales o plantas naturales, al igual que a las enfermedades que no sean de origen místico.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(lA,"","Están obligados a elegir la ventaja de Don.",nv,[0],[new A(jv,"Inmunidad sobrenatural")],!1,[],[ud],Mv,[])),fv.push(new Vc(mA,"","A pesar de lo espeso del follaje o de lo cerrado de la vegetación, un Daimah no tiene penalizadores al movimiento por moverse en este entorno.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(nA,"","Esta habilidad se considera un poder innato de detección, pero un individuo puede resistirse naturalmente si supera una RM contra 140.",nv,[0],[],!1,[],[],Mv,[]));
var oA=new jf(cA,[ad(dA),ad(eA),ad(fA),ad(gA),ad(iA),ad(jA),ad(kA),ad(lA),ad(mA),ad(nA)],[ad(hA)],1);rz.push(oA),rn[cA]=oA;var pA="Duk'zarist",qA="Perfección física y anímica (Duk'zarist)",rA="Ojos de fuego (Duk'zarist)",sA="Acciones inhumanas (Duk'zarist)",tA="Presentir lo oscuro y lo luminoso (Duk'zarist)",uA="Lazo de oscuridad y fuego (Duk'zarist)",vA="Resistencias excepcionales (Duk'zarist)",wA="Aguante extremo a la Muerte (Duk'zarist)",xA="Curación Rápida (Duk'zarist)",yA="Necesidades Limitadas (Duk'zarist)",zA="Obligación sobrenatural (Duk'zarist)",AA="Alergia al Metal (Duk'zarist)";fv.push(new Vc(qA,"","aplican un bonificador excepcional de +1 a todas sus características (FUE, DES, AGI, CON, INT, POD, VOL, PER). Sin embargo, por la misma causa son incapaces de elegir ninguna de las siguientes desventajas: Miembro atrofiado, Salud enfermiza, Vulnerabilidad a los venenos, Miopía, Debilidad física, Enfermedad grave, Mudo, Ciego o Sordo.",nv,[0],[new A(jv,"Miembro atrofiado"),new A(jv,"Salud enfermiza"),new A(jv,"Vulnerabilidad a los venenos"),new A(jv,"Miopía"),new A(jv,"Debilidad física"),new A(jv,"Enfermedad grave"),new A(jv,"Mudo"),new A(jv,"Ciego"),new A(jv,"Sordo"),new A(jv,"Inmunidad sobrenatural")],!1,[],[md],Mv,[])),fv.push(new Vc(rA,"","Sus ojos son capaces de ver en la oscuridad, por lo que aplican a la mitad cualquier penalizador que sufran por su causa. También pueden detectar fuentes de calor.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(sA,"","Por naturaleza, un Duk´zarist puede alcanzar la dificultad de Inhumano en los controles de dificultades.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(tA,"","De un modo sobrenatural, perciben la esencia oscura o luminosa que desprenden sus almas.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(uA,"","Obtienen un bono especial de +10 a sus controles contra ellos. Un Duk´zarist no puede elegir la ventaja Desequilibrio mágico hacia la luz.",nv,[0],[new A(jv,"Desequilibrio elemental","Luz")],!1,[],[],Mv,[])),fv.push(new Vc(vA,"","Los primeros aplican un bonificador de +15 a todas sus Resistencias (RM, RP, RV y RE) salvo a la Física (RF), donde poseen un +20, mientras que las jóvenes tienen un +15 a todas ellas (RF, RP, RV y RE) salvo a la Mágica (RM), donde llegan a +20.",nv,[0],[],!1,[],[yd],Mv,[])),fv.push(new Vc(wA,"","No sólo pasan automáticamente los controles para superar el estado de entre la vida y la muerte, sino que además permanecen conscientes con un penalizador de -40 a toda acción mientras se encuentran con puntos de vida negativos.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(xA,"","Suman cinco puntos a su nivel de Regeneración natural.",nv,[0],[],!1,[],[fd,5,xA],Mv,[])),fv.push(new Vc(yA,"","Disminuyen sus necesidades de sueño y comida hasta una séptima parte que la de cualquier otro ser humano, sin sufrir ningún tipo de negativo.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(zA,"","Necesariamente, un Duk´zarist debe emplear sus Puntos de Creación para tener acceso a una habilidad psíquica o al Don. Como mínimo, debe elegir una de ambas ventajas, aunque nada les impide tomarlas ambas. En el caso de que adquiera poderes psíquicos, su devoción al fuego le obliga a que la primera disciplina elegida sea siempre piroquinesis.",nv,[0],[],!1,[],[Ad],Mv,[])),gv.push(new Vc(AA,"","Si ponen su piel en contacto con metal que contenga algo de hierro, deberán superar un control de Resistencia usando su presencia base contra una dificultad de 40. Si el metal es hierro puro, la dificultad es de 60. Cuando su presencia base es veinte puntos mayor que la cantidad necesaria, ya no es necesario hacer ningún control. Los Duk´zarist que lo fallen desaparecen completamente, dejando caer al suelo sus pertenencias y ropajes vacíos.",nv,[0],[],!1,[],[],Mv,[]));var BA=new jf(pA,[ad(qA),ad(rA),ad(sA),ad(tA),ad(uA),ad(vA),ad(wA),ad(xA),ad(yA)],[ad(zA),ad(AA)],3);rz.push(BA),rn[pA]=BA;var CA="Nephilim Daimah",DA="Sentir el bosque (Nephilim Daimah)",EA="Movimiento por los bosques (Nephilim Daimah)",FA="Ver la esencia (Nephilim Daimah)",GA="Pequeño tamaño (Nephilim Daimah)",HA="Naturaleza curativa (Nephilim Daimah)",IA="Alma inmortal (Nephilim Daimah)";fv.push(new Vc(DA,"","Son capaces de notar las sensaciones de los animales y las plantas, detectando si tienen miedo, se sienten tranquilos o les ocurre algo extraño.",nv,[0],[new A(jv,"Inmunidad sobrenatural")],!1,[],[],Mv,[])),fv.push(new Vc(EA,"","A pesar de lo espeso del follaje o de lo cerrado de la vegetación, un Daimah no tiene penalizadores al movimiento por moverse en este entorno.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(FA,"","Esta habilidad se considera un poder innato de detección, pero un individuo puede resistirse naturalmente si supera una RM contra 140.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(GA,"","Restan un punto de su característica de Tamaño",nv,[0],[],!1,[],[cd,-1],Mv,[])),fv.push(new Vc(HA,"","Mientras esté en una espesa zona boscosa o selvática, el Nephilim suma tres puntos a su nivel de Regeneración.",nv,[0],[],!1,[],[],Mv,[])),gv.push(new Vc(IA,"","Penalizador de -2 puntos a la experiencia que otorgue el Director de Juego al finalizar cada sesión.",nv,[0],[],!1,[],[],Mv,[]));var JA=new jf(CA,[ad(DA),ad(EA),ad(FA),ad(GA),ad(HA)],[ad(IA)],0);rz.push(JA),rn[CA]=JA;var KA="Nephilim D'Anjayni",LA="Indetectabilidad (Nephilim D'Anjayni)",MA="Olvido (Nephilim D'Anjayni)",NA="Susurros silenciosos (Nephilim D'Anjayni)",OA="Pasar sin dejar rastro (Nephilim D'Anjayni)",PA="Apariencia común (Nephilim D'Anjayni)",QA="Alma inmortal (Nephilim D'Anjayni)";fv.push(new Vc(LA,"","Todos los D´Anjayni aplican un bonificador de +30 a cualquiera de sus Resistencias contra efectos de detección. Además, aprenden de manera innata la habilidad de Ocultación del Ki, que desarrollan aplicando también un bono de +30.",nv,[0],[],!1,[],[gd],Mv,[])),fv.push(new Vc(MA,"","A términos de juego, cualquiera que vea o hable con el personaje deberá superar una Resistencia Mágica (RM) contra 100, u olvidará su apariencia y la conversación que han mantenido. Esta habilidad se considera equivalente a un efecto místico automático cuya condición consiste, simplemente, en encontrarse con el personaje y que este se marche sin haberle dicho su nombre. No es posible percatarse del funcionamiento de esta habilidad, ni siquiera para alguien con la capacidad de ver magia. Los afectados no se darán cuenta de que lo ocurrido es innatural, sino que pensarán simplemente que son incapaces de acordarse o que no se han fijado bien. Un hechicero deberá superar un control de Valoración mágica contra una dificultad de Imposible para percatarse del uso de esta habilidad. El olvido deja de tener efecto en cualquier momento en el que el D´Anjayni se presenta con su verdadero nombre durante la conversación, o se encuentra con individuos que saben exactamente quién es.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(NA,"","Todo aquel que intente escucharlas aplicará un -60 a sus controles si no es su receptor.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(OA,"","Su rastro se borra a medida que camina, por lo que si alguien intenta rastrearles, aplicará un -40 a su habilidad.",nv,[0],[],!1,[],[],Mv,[])),gv.push(new Vc(PA,"","No podrán tener nunca una apariencia inferior a 3 o superior a 7.",nv,[0],[],!1,[],[vd],Mv,[])),gv.push(new Vc(QA,"","Penalizador de -3 puntos a la experiencia que otorgue el Director de Juego.",nv,[0],[],!1,[],[],Mv,[]));var RA=new jf(KA,[ad(LA),ad(MA),ad(NA),ad(OA)],[ad(PA),ad(QA)],0);rz.push(RA),rn[KA]=RA;var SA="Nephilim Duk'zarist",TA="Resistencias excepcionales (Nephilim Duk'zarist)",UA="Desequilibrio hacia la Oscuridad (Nephilim Duk'zarist)",VA="Aguante a la Muerte (Nephilim Duk'zarist)",WA="Curación Rápida (Nephilim Duk'zarist)",XA="Necesidades Limitadas (Nephilim Duk'zarist)",YA="Presentir lo oscuro y lo luminoso (Nephilim Duk'zarist)",ZA="Visión nocturna (Nephilim Duk'zarist)",$A="Devoción al Fuego (Nephilim Duk'zarist)",_A="Cuerpos perfectos (Nephilim Duk'zarist)",aB="Alergia al Metal (Nephilim Duk'zarist)",bB="Alma inmortal (Nephilim Duk'zarist)";fv.push(new Vc(TA,"","Las almas masculinas aplican un bonificador de +15 a todas sus Resistencias (RM, RP, RV y RE) salvo la Resistencia Física (RF), donde poseen un +20. Por el contrario, las femeninas tienen un +15 a todas sus Resistencias (RF, RP, RV y RE) salvo la Mágica, donde tienen un +20 (RM).",nv,[0],[new A(jv,"Inmunidad sobrenatural")],!1,[],[xd],Mv,[])),fv.push(new Vc(UA,"","Esta habilidad les otorga una Resistencia especial de +10 contra cualquier efecto basado en dicho elemento. Adicionalmente, esta afinidad les impide elegir la ventaja de Desequilibrio Mágico hacia la Luz.",nv,[0],[new A(jv,"Desequilibrio elemental","Luz")],!1,[],[],Mv,[])),fv.push(new Vc(VA,"","Cuando entran en el estado de entre la vida y la muerte, no necesitan superar el control de Resistencia Física para sobrevivir, ya que su alma se afianza tanto al cuerpo que superan automáticamente estos controles.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(WA,"","Suman un punto a su nivel de Regeneración natural.",nv,[0],[],!1,[],[fd,1,WA],Mv,[])),fv.push(new Vc(XA,"","Disminuyen sus necesidades de sueño y comida hasta una tercera parte que la de cualquier otro ser humano, sin sufrir ningún tipo de negativo.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(YA,"","De un modo sobrenatural, perciben la esencia oscura o luminosa que desprenden sus almas. Esta habilidad no les permite reconocer a un individuo que se halle oculto por un conjuro o mediante una habilidad del Ki.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(ZA,"","A efectos de juego, esta capacidad no está tan desarrollada como la que se adquiere mediante un Punto de Creación, pero permite disminuir a la mitad cualquier penalizador que el Nephilim sufra a su percepción por causa de la oscuridad natural.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc($A,"","Si desarrolla sus habilidades mentales, tiene la obligación de adquirir como primera disciplina la Piroquinesis.",nv,[0],[],!1,[],[zd],Mv,[])),fv.push(new Vc(_A,"","El Nephilim no puede elegir ninguna de las siguientes desventajas: Miembro atrofiado, Salud enfermiza, Vulnerabilidad a los venenos, Miopía, Debilidad física, Enfermedad grave, Mudo, Ciego o Sordo.",nv,[0],[],!1,[new A(jv,"Miembro atrofiado"),new A(jv,"Salud enfermiza"),new A(jv,"Vulnerabilidad a los venenos"),new A(jv,"Miopía"),new A(jv,"Debilidad física"),new A(jv,"Enfermedad grave"),new A(jv,"Mudo"),new A(jv,"Ciego"),new A(jv,"Sordo")],[],Mv,[])),gv.push(new Vc(aB,"","Si pone su piel en contacto con un metal que contenga una aleación de hierro, deberá superar un control usando su presencia base contra una dificultad de 60, o sufrirá una reacción adversa que le produce un negativo a la acción equivalente a la cantidad por la que falló la tirada. Si el metal es hierro puro, la tirada es contra 80. Estos negativos desaparecen a un ritmo de 10 puntos por minuto. Un Nephilim Duk´zarist puede utilizar ropas y guantes para evitar estos efectos.",nv,[0],[],!1,[],[],Mv,[])),gv.push(new Vc(bB,"","Sufren un penalizador de -5 puntos a la experiencia que otorgue el Director de Juego al finalizar cada sesión.",nv,[0],[],!1,[],[],Mv,[]));var cB=new jf(SA,[ad(TA),ad(UA),ad(VA),ad(WA),ad(XA),ad(YA),ad(ZA),ad($A),ad(_A)],[ad(aB),ad(bB)],0);rz.push(cB),rn[SA]=cB;var dB="Nephilim Ebudan",eB="Or'inie (Nephilim Ebudan)",fB="Alas de Serafín (Nephilim Ebudan)",gB="Esencia Celestial (Nephilim Ebudan)",hB="Alma inmortal (Nephilim Ebudan)";fv.push(new Vc(eB,"","El Nephilim puede aplicar un bonificador de +30 a cualquier Resistencia contra efectos de dominio, control emocional u olvido que puedan impedirle realizar el Sue´ Aman. Una vez conseguido, esta habilidad desaparece completamente.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(fB,"","El personaje puede exteriorizarlas u ocultarlas a voluntad, aunque hacerlo requiere un asalto completo. Las alas le otorgan la capacidad de surcar los cielos a un Tipo de Vuelo 12. Esta habilidad únicamente se manifiesta después de que el personaje haya logrado el Sue´ Aman.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(gB,"","A efectos de juego, el Nephilim se vuelve invulnerable a cualquier ataque natural que no sea capaz de dañar energía.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(hB,"","Penalizador de -3 puntos a la experiencia que otorgue el Director de Juego al finalizar cada sesión.",nv,[0],[],!1,[],[],Mv,[]));var iB=new jf(dB,[ad(eB),ad(fB),ad(gB)],[ad(hB)],0);rz.push(iB),rn[dB]=iB;var jB="Nephilim Jayán",kB="Gigantes (Nephilim Jayán)",lB="Aguante al cansancio (Nephilim Jayán)",mB="Resistencia al daño (Nephilim Jayán)",nB="Fuerza descomunal (Nephilim Jayán)",oB="Visión espiritual (Nephilim Jayán)",pB="Debilidad contra la magia (Nephilim Jayán)",qB="Alma inmortal (Nephilim Jayán)";fv.push(new Vc(kB,"","Suman dos puntos a su característica de Tamaño y no pueden elegir la ventaja Tamaño desigual para disminuirlo.",nv,[0],[new A(jv,"Tamaño no natural",-5),new A(jv,"Tamaño no natural",-4),new A(jv,"Tamaño no natural",-3),new A(jv,"Tamaño no natural",-2),new A(jv,"Tamaño no natural",-1)],!1,[],[nd],Mv,[])),fv.push(new Vc(lB,"","Aumentan un punto el valor máximo de su Cansancio.",nv,[0],[],!1,[],[ed,1],Mv,[])),fv.push(new Vc(mB,"","Aplica un bonificador de +15 a su Resistencia Física (RF).",nv,[0],[],!1,[],[dd,nq,15],Mv,[])),fv.push(new Vc(nB,"","Aument un punto el atributo de Fuerza del personaje. Adicionalmente, no es posible utilizar la desventaja de Reducir dos puntos una característica para rebajar la Fuerza del Nephilim.",nv,[0],[new A(jv,"Reducir Dos Puntos Una Característica",Ek)],!1,[],[bd,Ek,1],Mv,[])),fv.push(new Vc(oB,"","Para hacerlo, el personaje debe cerrar los ojos y de un modo inconsciente podrá 'mirar' a los seres espirituales, aunque no será capaz de ver nada en el mundo material. Esta habilidad no permite al personaje ver conjuros, efectos místicos o matrices psíquicas, sino tan sólo almas invisibles al ojo humano.",nv,[0],[],!1,[],[],Mv,[])),gv.push(new Vc(pB,"","Sufre un penalizador de -10 a su Resistencia Mágica (RM).",nv,[0],[],!1,[],[dd,qq,-10],Mv,[])),gv.push(new Vc(qB,"","Sufren un penalizador de -3 puntos a la experiencia que otorgue el Director de Juego al finalizar cada sesión.",nv,[0],[],!1,[],[],Mv,[]));var rB=new jf(jB,[ad(kB),ad(lB),ad(mB),ad(nB),ad(oB)],[ad(pB),ad(qB)],0);rz.push(rB),rn[jB]=rB;var sB="Nephilim Sylvain",tB="Resistencias excepcionales (Nephilim Sylvain)",uB="Desequilibrio hacia la Luz (Nephilim Sylvain)",vB="Curación Rápida (Nephilim Sylvain)",wB="Presentir lo oscuro y lo luminoso (Nephilim Sylvain)",xB="Necesidades Limitadas (Nephilim Sylvain)",yB="Alma inmortal (Nephilim Sylvain)";fv.push(new Vc(tB,"","Aplican un bonificador de +10 a su Resistencia Mágica (RM) y Psíquica (RP), un +20 a su Resistencia contra Enfermedades (RE) y un +5 a sus Resistencias Físicas y contra Venenos (RF y RV, respectivamente). Un Nephilim no puede elegir las desventajas de: Salud enfermiza, Enfermedad grave incurable y Vulnerabilidad a la magia.",nv,[0],[new A(jv,"Salud enfermiza"),new A(jv,"Enfermedad grave incurable"),new A(jv,"Vulnerabilidad a la magia"),new A(jv,"Inmunidad sobrenatural")],!1,[],[qd],Mv,[])),fv.push(new Vc(uB,"","Esta habilidad les otorga una Resistencia especial de +10 contra cualquier efecto basado en dicho elemento. Adicionalmente, esta afinidad les impide elegir la ventaja de Desequilibrio Mágico hacia la Oscuridad.",nv,[0],[new A(jv,"Desequilibrio elemental","Oscuridad")],!1,[],[],Mv,[])),fv.push(new Vc(vB,"","Suman un punto a su nivel de Regeneración natural.",nv,[0],[],!1,[],[fd,1,vB],Mv,[])),fv.push(new Vc(wB,"","De un modo sobrenatural, perciben la esencia oscura o luminosa que desprenden sus almas. Esta habilidad no les permite reconocer a un individuo que se halle oculto por un conjuro o mediante una habilidad del Ki.",nv,[0],[],!1,[],[],Mv,[])),fv.push(new Vc(xB,"","Sus necesidades se reducen a la mitad de las de una persona normal. Eso no significa que no tengan hambre por comer de una manera escasa, sino que, en la práctica, no requieren tantos alimentos para sobrevivir.",nv,[0],[],!1,[],[],Mv,[])),gv.push(new Vc(yB,"","Sufren un penalizador de -4 puntos a la experiencia que otorgue el Director de Juego al finalizar cada sesión.",nv,[0],[],!1,[],[],Mv,[]));var zB=new jf(sB,[ad(tB),ad(uB),ad(vB),ad(wB),ad(xB)],[ad(yB)],0);rz.push(zB),rn[sB]=zB,mf.prototype={constructor:mf,getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getDescripcionVentajas:function(){return this.descripcionVentajas},getRequisitos:function(){return this.requisitos},getBonoCM:function(){return this.bonoCM},getBonos:function(){return this.bonos},getDañoBaseElementos:function(){return this.dañobaseElementos},getTipoAtaque:function(){return this.tipoAtaque},dañoBase:function(a){for(var b=0,c=0;c<this.dañobaseElementos.length;c++)if(isNaN(this.dañobaseElementos[c]))switch(this.dañobaseElementos[c]){case kn:b+=a.getBonoCaracteristica(Ek);break;case ln:b+=a.getBonoCaracteristica(Jk);break;case mn:var d=a.getBonoCaracteristica(Ek);d%10!=0&&(d+=5),b+=d;break;case nn:var e=a.getBonoCaracteristica(Jk);e%10!=0&&(e+=5),b+=e;break;case on:break;case pn:break;case qn:}else b+=this.dañobaseElementos[c];return b},cumpleRequisitos:function(a){for(var b=0;b<this.requisitos.length;b++){var c=this.requisitos[b];if(!c.cumple(a))return!1}return!0},toJSON:function(){return this.nombre}},nf.prototype={constructor:nf,getNombre:function(){return this.arteMarcial.nombre},getDescripcion:function(){return this.arteMarcial.descripcion},getDescripcionVentajas:function(){return this.arteMarcial.descripcionVentajas},getRequisitos:function(){return this.arteMarcial.requisitos},getBonoCM:function(){return this.arteMarcial.bonoCM},getBonos:function(){return this.arteMarcial.bonos},getDañoBaseElementos:function(){return this.arteMarcial.dañobaseElementos},getTipoAtaque:function(){return this.arteMarcial.tipoAtaque},dañoBase:function(a){return this.arteMarcial.dañoBase(a)},cumpleRequisitos:function(a){return this.arteMarcial.cumpleRequisitos(a)},isAnulable:function(){return this.anulable},setAnulable:function(a){this.anulable=a}};var AB=[],BB=[],CB={},DB="Error: Nombre de arte marcial erróneo",EB=50,FB=20,GB="Aikido",HB="Shotokan",IB="Grappling",JB="Capoeira",KB="Kung Fu",LB="Kempo",MB="Moai Thai",NB="Sambo",OB="Tae Kwon Do",PB="Tai Chi";AB.push(new mf(GB,"Aikido","El daño del Aikido es de 10 más el bono de Fuerza de su usuario, pero al realizar un contraataque, añade el doble del bono de Fuerza de su contrincante (con un bono mínimo de +5). Ataca en Contundentes y permite sujetar a sus adversarios fácilmente, por lo que no aplica penalizadores al realizar una maniobra de Presa durante un contraataque.",[new B(Oq,ys,40)],10,[new y(sq,_q,10,"",!1,Iq,GB),new y(sq,$q,10,hx,!1,Iq,GB)],[10,kn],[Xm])),AB.push(new mf(HB,"Shotokan","Tiene un daño base de 30 más el bono de Fuerza de su usuario. Ataca en Contundentes.",[],10,[new y(sq,Zq,10,hx,!1,Iq,HB)],[30,kn],[Xm])),AB.push(new mf(IB,"Grappling","El Grappling permite ejecutar las maniobras de combate Presa y Derribo sin ningún tipo de penalizador. Da una base de daño de 20 más el bono de Fuerza, y ataca en Contundentes.",[new B(Oq,qs,40)],10,[],[20,kn],[Xm])),AB.push(new mf(JB,"Capoeira","Los movimientos de Capoeira son tan desbocados que, cuando el personaje realice una maniobra de Ataque en área, se considerará que está utilizando un arma grande y podrá afectar a cinco adversarios. Causa un daño de 20 más el bono de Fuerza, y ataca en Contundentes.",[new B(Oq,vs,40)],10,[new y(sq,_q,10,"",!1,Iq,JB)],[20,kn],[Xm])),AB.push(new mf(KB,"Kung Fu","Un maestro de Kung Fu puede elegir aplicar un bono de +10 entre sus habilidades de ataque, parada, esquiva, daño o turno, según le convenga cada asalto. Debe decidir dónde empleará el bono antes de que se inicie el cálculo de la iniciativa. En el caso de que lo utilice para mejorar la habilidad de ataque, parada o esquiva, no se considera como un bono innato por categoría, por lo que puede aumentarlas por encima de +50. El Kung Fu da una base de daño de 20 más el bono de Fuerza, y ataca en Contundentes.",[new B(Oq,Dr,40),new B(Oq,ys,40),new B(Oq,Lr,20)],10,[],[20,kn],[Xm])),AB.push(new mf(LB,"Kempo","Los rápidos encadenamientos de golpes permiten al maestro de Kempo realizar los ataques adicionales con un penalizador de –10 a su habilidad, en lugar del –25 habitual. Da una base de daño 20 más el bono de Fuerza, y ataca en Contundentes.",[],10,[],[20,kn],[Xm])),AB.push(new mf(MB,"Moai Thai","Tiene un daño base de 20 más el triple del bono de Fuerza de su usuario. Ataca en Contundentes.",[new B(Oq,qs,40)],10,[],[20,kn,kn,kn],[Xm])),AB.push(new mf(NB,"Sambo","Los practicantes de Sambo pueden reducir a la mitad los penalizadores de las siguientes maniobras de combate: Presa, Ataque en área, Derribo y Desarmar. Otorga una base de daño de 20 más el bono de Fuerza del personaje (redondeando en grupos de 10 hacía arriba), y ataca en Contundentes.",[],10,[new y(sq,$q,10,hx,!1,Iq,NB)],[20,mn],[Xm])),AB.push(new mf(OB,"Tae Kwon Do","Otorga una base de daño de 20 más el bono de Fuerza (redondeando en grupos de 10 hacía arriba). Permite realizar un ataque adicional con las piernas una vez que el personaje haya agotado todos sus otros ataques. Este ataque sufre tan sólo un penalizador de –20 a su habilidad, actuando de igual manera que lo hacen las armas adicionales. Puede realizarse incluso tras haber utilizado algún arma. Ataca en Contundentes.",[],10,[],[20,mn],[Xm])),AB.push(new mf(PB,"Tai Chi","El Tai Chi otorga una base de daño de 20 más el doble del bono de Poder (redondeando en grupos de 10 hacía arriba), en representación del uso de la energía interna. Puesto que el Ki sólo lo utiliza como potenciador, ataca en Contundentes y no en energía.",[new B(Pq,Cu,0)],30,[],[20,nn,nn],[Xm]));var QB="Selene",RB="Melkaiah",SB="Dumah",TB="Emp",UB="Shephon",VB="Seraphite",WB="Asakusen",XB="Velez",YB="Enuth",ZB="Hakyoukuken";BB.push(new mf(QB,"Selene","Dobla el bono del contraataque si utiliza su Acción Respuesta para atacar a su contrincante usando este arte marcial.",[new B(Qq,GB,0),new B(Rq,[new B(Oq,_q,200),new B(Oq,$q,200)],0)],10,[new y(sq,_q,20,"",!1,Iq,QB),new y(sq,$q,20,hx,!1,Iq,QB)],[],[])),BB.push(new mf(RB,"Melkaiah","Bonificador de +3 a los controles de Fuerza o Destreza al ejecutar maniobras de Derribo y Presa.",[new B(Rq,[new B(Qq,IB,0),new B(Qq,NB,0)],0),new B(Pq,Xu,0),new B(Oq,Zq,160),new B(Rq,[new B(Oq,_q,160),new B(Oq,$q,160)],0)],10,[new y(sq,Zq,10,hx,!1,Iq,RB)],[],[])),BB.push(new mf(SB,"Dumah","UBono de +10 al daño final del estilo empleado, y puede optar entre Filo o Penetrantes a la hora de atacar a su oponente. La magnitud de sus cortes es tal que reduce dos puntos la TA de cualquier armadura defensora. Del mismo modo, también añade un +10 a la rotura de sus ataques.",[new B(Rq,[new B(Qq,LB,0),new B(Qq,JB,0)],0),new B(Pq,Ku,0)],10,[new y(sq,Zq,20,hx,!1,Iq,SB),new y(uq,"",10,hx,!1,Iq,SB),new y(wq,"",10,hx,!1,Iq,SB)],[pn,qn],[Ym,Wm])),BB.push(new mf(TB,"Emp","Permite a sus usuarios realizar la maniobra Desarmar sin aplicar ningún penalizador a su habilidad, añadiendo un bonificador de +3 al valor de su característica en los controles enfrentados.",[new B(Rq,[new B(Qq,LB,0),new B(Qq,OB,0)],0),new B(Oq,Zq,200)],10,[new y(sq,Zq,20,hx,!1,Iq,TB),new y(tq,"",10,hx,!1,Iq,TB)],[],[])),BB.push(new mf(UB,"Shephon","Cuando el personaje declare entrar en modalidad de Defensa total, aumenta el bonificador de dicha maniobra hasta +60.",[new B(Qq,GB,0),new B(Qq,KB,0),new B(Rq,[new B(Oq,_q,200),new B(Oq,$q,200)],0),new B(Pq,Du,0)],10,[new y(sq,_q,20,"",!1,Iq,UB),new y(sq,$q,20,hx,!1,Iq,UB)],[],[])),BB.push(new mf(VB,"Seraphite","Bono de +10 al daño final del estilo básico empleado. Si lo desea, puede además aumentar temporalmente su habilidad de ataque en +20, a cambio de sufrir un penalizador de -30 a su defensa. Esta última capacidad debe declararse antes de calcular la iniciativa.",[new B(Rq,[new B(Qq,HB,0),new B(Qq,LB,0)],0),new B(Pq,Ku,0),new B(Oq,Zq,180)],10,[new y(sq,Zq,20,hx,!1,Iq,VB),new y(uq,"",10,hx,!1,Iq,VB)],[],[])),BB.push(new mf(WB,"Asakusen","El Asakusen hace que el bono variable de +10 del Kung Fu se aplique a la vez en todos los campos, es decir, un +10 a la habilidad de esquiva, ataque, parada, turno y daño cuando se utilicen artes marciales. Aun así, el personaje puede seguir añadiendo un +10 especial a una de ellas, del modo que se explica en el Kung Fu.",[new B(Qq,KB,0),new B(Rq,[new B(Oq,_q,160),new B(Oq,$q,160)],0),new B(Oq,Zq,160)],10,[new y(sq,Zq,10,hx,!1,Iq,WB),new y(sq,_q,10,"",!1,Iq,WB),new y(sq,$q,10,hx,!1,Iq,WB),new y(tq,"",10,hx,!1,Iq,WB),new y(uq,"",10,hx,!1,Iq,WB)],[],[])),BB.push(new mf(XB,"Velez","Permite a los personajes golpear en la TA de Energía. Los ataques realizados con este arte marcial pueden seguir parándose con normalidad, dado que no son intangibles.",[new B(Rq,[new B(Qq,PB,0),new B(Qq,KB,0)],0),new B(Pq,Ku,0)],20,[new y(sq,_q,20,"",!1,Iq,XB),new y(sq,$q,20,hx,!1,Iq,XB)],[],[an])),BB.push(new mf(YB,"Enuth","Permite aplicar un bonificador de +20 a las tiradas para calcular el Nivel de Crítico, cuando el personaje ejecute un golpe con el objetivo de dejar inconsciente. Puede, además, reducir libremente el daño producido hasta la cantidad que el atacante decida, incluso después de que ambos luchadores hayan lanzado los dados.",[new B(Rq,[new B(Qq,NB,0),new B(Qq,HB,0)],0),new B(Rq,[new B(Oq,_q,160),new B(Oq,$q,160)],0),new B(Oq,Zq,160)],10,[new y(sq,_q,20,"",!1,Iq,YB),new y(sq,$q,20,hx,!1,Iq,YB)],[],[])),BB.push(new mf(ZB,"Hakyoukuken","Bono de +20 al daño final del arte marcial empleado. La mayor parte de armaduras no ofrecen protección contra sus ataques, por lo que restan –2 a su TA si son blandas. Al destrozar internamente a sus enemigos, se añade un +20 a las tiradas para calcular el nivel del crítico de un ataque con este arte marcial. Esta última habilidad sólo sirve contra seres orgánicos.",[new B(Rq,[new B(Qq,MB,0),new B(Qq,HB,0)],0),new B(Pq,Qu,0),new B(Oq,Zq,200)],10,[new y(tq,"",20,"",!1,Iq,ZB),new y(uq,"",20,hx,!1,Iq,ZB),new y(sq,Zq,10,hx,!1,Iq,ZB)],[],[]));var $B="Beryl",_B="Shajad";uf.prototype={constructor:uf,getNombre:function(){return this.nombre},getSincronizacion:function(){return this.sincronizacion},addSincronizacion:function(a){this.sincronizacion+=a},getSinGastada:function(){return this.sincGastada},setSincGastada:function(a){this.sincGastada=a},gastaSincronizacion:function(a){this.sincGastada+=a},sincLibre:function(){return this.sincronizacion-this.sincGastada},addDon:function(a){this.dones.push(a)},hasDon:function(a){for(var b=0;b<this.dones.length;b++)if(this.dones[b].getNombre()==a)return!0;return!1},getDones:function(){return this.dones}},vf.prototype={constructor:vf,getNombre:function(){return this.nombre},getTipo:function(){return this.tipo},getDones:function(){return this.dones},addDon:function(a){this.dones.push(a)},hasDon:function(a){for(var b=0;b<this.dones.length;b++)if(this.dones[b].getNombre()==a)return!0;return!1},toJSON:function(){return this.nombre}},wf.prototype={constructor:wf,getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getCoste:function(){return this.coste},getElanMinimo:function(){return this.elanMinimo},getVentajasConcedidas:function(){return this.ventajasConcedidas},getDonesRequisito:function(){return this.donesRequisito},puedeComprarse:function(){for(var a="",b=0;b<aC.length;b++)for(var c=0;c<aC[b].dones.length;c++)if(aC[b].dones[c].nombre==this.nombre){a=aC[b].nombre;break}var d;for(b=0;b<SE.elan.length;b++)if(SE.elan[b].nombre==a){d=SE.elan[b];break}if(b==SE.elan.length)return!1;if(d.hasDon(this.nombre))return!1;if(d.getSincronizacion()<this.elanMinimo)return!1;if(d.sincLibre()<this.coste)return!1;for(b=0;b<this.donesRequisito.length;b++)if(!d.hasDon(this.donesRequisito[b]))return!1;return!0},toJSON:function(){return this.nombre}};var aC=[],bC="Error: Elan no conocido",cC="Azrael",dC=new vf(cC,$B),eC="Líder";fv.push(new Vc(eC,"","Este don otorga un bonificador especial a Liderazgo equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[me],Ov)),dC.addDon(new wf("Líder","Bono especial a Liderazgo equivalente a su nivel de Elan.",5,10,[eC],[]));var fC="El valor de los héroes";fv.push(new Vc(fC,"","Bonificador especial a su habilidad secundaria Frialdad equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[ne],Ov)),dC.addDon(new wf("El valor de los héroes","Bono especial a su habilidad secundaria Frialdad equivalente a su nivel de Elan.",5,20,[fC],[])),dC.addDon(new wf("Exaltación del espíritu","",10,30,[],[])),dC.addDon(new wf("Sentido de la justicia","",10,40,[],[])),dC.addDon(new wf("Espíritu sagrado","",5,50,[],[])),dC.addDon(new wf("Aura de poder","",10,60,[],["Espíritu sagrado"])),dC.addDon(new wf("Inmunidad","",15,60,[],[])),dC.addDon(new wf("Destructor del mal","",15,70,[],[])),dC.addDon(new wf("Bendecido","",20,70,[],[]));var gC="Guerrero de Azrael";fv.push(new Vc(gC,"","Este don otorga un punto adicional en sus características de Fuerza y Destreza.",nv,new Array(0),[],!1,[],[oe],Ov)),dC.addDon(new wf("Guerrero de Azrael","Un punto adicional en sus características de Fuerza y Destreza.",10,80,[gC],[])),dC.addDon(new wf("Consagrar","",15,90,[],["Aura de poder"])),dC.addDon(new wf("Yihad","",10,100,[],[])),aC.push(dC);var hC="Barakiel",iC=new vf(hC,$B),jC="Estética";fv.push(new Vc(jC,"","Este don otorga un bonificador especial a Estilo equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[pe],Ov)),iC.addDon(new wf("Estética","Bonificador especial a la habilidad secundaria Estilo, equivalente al nivel de Elan que posee.",5,10,[jC],[])),iC.addDon(new wf("Atrayente","",10,20,[],[]));var kC="Saber de la ciencia";fv.push(new Vc(kC,"","Este don otorga un bonificador especial a Ciencia equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[qe],Ov)),iC.addDon(new wf("Saber de la ciencia","Bonificador especial a la habilidad secundaria Ciencia equivalente al nivel de Elan.",10,30,[kC],[])),iC.addDon(new wf("Percibir imperfecciones","",10,40,[],[])),iC.addDon(new wf("Sentir el orden","",5,40,[],[])),iC.addDon(new wf("Cuerpo perfecto","",15,50,[],["Belleza perfecta"]));var lC="Belleza perfecta";fv.push(new Vc(lC,"","Este don sube la Apariencia a 10.",nv,new Array(0),[],!1,[],[re],Ov)),iC.addDon(new wf("Belleza perfecta","Su Apariencia llega a 10.",5,50,[lC],[])),iC.addDon(new wf("Aura de orden","",10,60,[],[]));var mC="La esencia de Barakiel";fv.push(new Vc(mC,"","Este don permite ignorar desventajas y debilidades.",nv,new Array(0),[],!1,[],[se],Ov)),iC.addDon(new wf("La esencia de Barakiel","Este don permite ignorar desventajas y debilidades.",20,70,[mC],[])),iC.addDon(new wf("Incapaz de errar","",10,70,[],[]));var nC="Divinidad en cuerpo y alma";fv.push(new Vc(nC,"","Sube características hasta 10 + bono por raza.",nv,new Array(0),[],!1,[],[te],Ov)),iC.addDon(new wf("Divinidad en cuerpo y alma","Sube características hasta 10 + bono por raza.",20,80,[nC],["Cuerpo perfecto"])),iC.addDon(new wf("Inmortalidad","",10,90,[],["Cuerpo perfecto"])),iC.addDon(new wf("Perfección absoluta","",10,100,[],[])),aC.push(iC);var oC="Edamiel",pC=new vf(oC,$B);pC.addDon(new wf("Deseable","",5,10,[],[])),pC.addDon(new wf("Amplificador del placer","",5,20,[],[])),pC.addDon(new wf("La voz del placer","",5,30,[],[])),pC.addDon(new wf("Sentir el deseo","",10,40,[],[])),pC.addDon(new wf("Inmunidad psicológica (Edamiel)","",10,50,[],[])),pC.addDon(new wf("Arrancar los sentimientos","",10,60,[],[])),pC.addDon(new wf("Pasividad","",15,60,[],[])),pC.addDon(new wf("Anulación","",15,70,[],["Arrancar los sentimientos"])),pC.addDon(new wf("Transición hacia el vacío","",15,80,[],[])),pC.addDon(new wf("Vórtice","",25,90,[],[])),pC.addDon(new wf("El paso de la nada","",10,100,[],[])),aC.push(pC);var qC="Gabriel",rC=new vf(qC,$B),sC="Guerrero de Azrael";fv.push(new Vc(sC,"","Este don otorga un bonificador especial a sus habilidades secundarias Arte y Música equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[ue],Ov)),rC.addDon(new wf("Aptitud artística","Este don otorga un bonificador especial a sus habilidades secundarias Arte y Música equivalente a su nivel de Elan.",5,10,[sC],[])),rC.addDon(new wf("Gracia","",5,20,[],[])),rC.addDon(new wf("Empatía positiva","",10,30,[],[])),rC.addDon(new wf("Pacificador","",10,40,[],[])),rC.addDon(new wf("Inmunidad psicológica (Gabriel)","",10,40,[],[])),rC.addDon(new wf("Percepción de sentimientos","",10,50,[],[])),rC.addDon(new wf("Imbuir sentimientos","",15,50,[],[])),rC.addDon(new wf("Lazo","",15,60,[],[])),rC.addDon(new wf("Auxilio","",10,70,[],[])),rC.addDon(new wf("Canto de La Paz","",15,80,[],[])),rC.addDon(new wf("Protección","",20,90,[],[])),rC.addDon(new wf("Paraíso","",10,100,[],[])),aC.push(rC);
var tC="Rafael",uC=new vf(tC,$B),vC="Conocimiento de la naturaleza";fv.push(new Vc(vC,"","Este don otorga un bonificador especial a Herbolaria equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[ve],Ov)),uC.addDon(new wf("Conocimiento de la naturaleza","Este don otorga un bonificador especial a Herbolaria equivalente a su nivel de Elan.",5,10,[vC],[]));var wC="Conocimiento animal";fv.push(new Vc(wC,"","Este don otorga un bonificador especial a Animales equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[we],Ov)),uC.addDon(new wf("Conocimiento animal","Este don otorga un bonificador especial a Animales equivalente a su nivel de Elan.",5,20,[wC],[])),uC.addDon(new wf("Curación","",10,20,[],[])),uC.addDon(new wf("Manto de fertilidad","",5,30,[],[])),uC.addDon(new wf("Eliminar venenos naturales","",10,40,[],[])),uC.addDon(new wf("Tótem","",20,50,[],[])),uC.addDon(new wf("Curación expandida","",15,50,[],["Curación"])),uC.addDon(new wf("Los ojos de la naturaleza","",10,60,[],[])),uC.addDon(new wf("Invocar animales","",10,60,[],[])),uC.addDon(new wf("Transformación animal","",10,70,[],[])),uC.addDon(new wf("Invocación incrementada","",10,80,[],["Invocar animales"])),uC.addDon(new wf("Curación ilimitada","",20,90,[],["Curación expandida"])),uC.addDon(new wf("Conciencia de la naturaleza","",10,100,[],[])),aC.push(uC);var xC="Mikael",yC=new vf(xC,$B);yC.addDon(new wf("Luz de esperanza","",5,10,[],[])),yC.addDon(new wf("Extirpar enfermedades","",10,20,[],[])),yC.addDon(new wf("Mantener en el mundo","",5,30,[],[]));var zC="Resistencia celestial";fv.push(new Vc(zC,"","Este don otorga un bonificador especial a todas las Resistencias del personaje, equivalente a la mitad de su Elan.",nv,new Array(0),[],!1,[],[ke],Ov)),yC.addDon(new wf("Resistencia celestial","Este don otorga un bonificador especial a todas las Resistencias del personaje, equivalente a la mitad de su Elan.",20,40,[zC],[])),yC.addDon(new wf("Exorcizar el mal","",15,50,[],[])),yC.addDon(new wf("Aura","",10,50,[],["Resistencia celestial"])),yC.addDon(new wf("Milagro","",10,60,[],[])),yC.addDon(new wf("Deshacer estados negativos","",10,70,[],[])),yC.addDon(new wf("Salvador","",10,70,[],[])),yC.addDon(new wf("Ayuda celestial","",15,80,[],[])),yC.addDon(new wf("Levántate y anda","",20,90,[],[])),yC.addDon(new wf("Y al tercer día resucitó","",10,100,[],[])),aC.push(yC);var AC="Uriel",BC=new vf(AC,$B);BC.addDon(new wf("Instinto de libertad","",5,10,[],[])),BC.addDon(new wf("Inadvertido","",5,20,[],[])),BC.addDon(new wf("Espíritu indomable","",10,20,[],[])),BC.addDon(new wf("Alma libre","",5,30,[],[])),BC.addDon(new wf("Visionario","",10,40,[],[])),BC.addDon(new wf("Medio de transporte","",5,40,[],[])),BC.addDon(new wf("Romper las cadenas","",10,50,[],[])),BC.addDon(new wf("Ojos del futuro","",20,60,[],["Visionario"])),BC.addDon(new wf("Paso libre","",15,60,[],[]));var CC="Comunión con Uriel";fv.push(new Vc(CC,"","Este don otorga un punto adicional en sus características de Poder, Voluntad y Destreza.",nv,new Array(0),[],!1,[],[ye],Ov)),BC.addDon(new wf("Comunión con Uriel","Este don otorga un punto adicional en sus características de Poder, Voluntad y Destreza.",10,70,[CC],[]));var DC="Esencia sobrenatural";fv.push(new Vc(DC,"","Este don otorga Gnosis 30.",nv,new Array(0),[],!1,[],[xe],Ov)),BC.addDon(new wf("Esencia sobrenatural","Este don otorga Gnosis 30.",10,80,[DC],[])),BC.addDon(new wf("Una segunda oportunidad","",20,90,[],[])),BC.addDon(new wf("El Viajero","",10,100,[],[])),aC.push(BC);var EC="Abbadon",FC=new vf(EC,_B);FC.addDon(new wf("Empatía oscura","",10,10,[],[])),FC.addDon(new wf("Los ojos de la maldad","",5,20,[],[])),FC.addDon(new wf("Señor de los pecados","",10,30,[],[])),FC.addDon(new wf("Ser oscuro","",5,40,[],[])),FC.addDon(new wf("Corruptor de almas","",15,50,[],[])),FC.addDon(new wf("Encarnación demoníaca","",10,60,[],["Ser oscuro"])),FC.addDon(new wf("Destructor de lo sagrado","",15,70,[],[])),FC.addDon(new wf("Don de la malignidad","",10,80,[],["Ser oscuro"])),FC.addDon(new wf("Invocación demoníaca","",15,80,[],[])),FC.addDon(new wf("Devorador de almas","",15,90,[],[])),FC.addDon(new wf("La semilla del diablo","",10,100,[],[])),aC.push(FC);var GC="Erebus",HC=new vf(GC,_B),IC="Conocimiento sobrenatural";fv.push(new Vc(IC,"","Este don otorga un bonificador especial a Ocultismo equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[Ae],Ov)),HC.addDon(new wf("Conocimiento sobrenatural","Este don otorga un bonificador especial a Ocultismo equivalente a su nivel de Elan.",5,10,[IC],[]));var JC="Presencia tenebrosa";fv.push(new Vc(JC,"","Este don otorga un bonificador especial a Intimidar equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[Be],Ov)),HC.addDon(new wf("Presencia tenebrosa","Este don otorga un bonificador especial a Intimidar equivalente a su nivel de Elan.",5,20,[JC],[])),HC.addDon(new wf("El camino de las pesadillas","",5,30,[],[])),HC.addDon(new wf("Susurros oníricos","",10,40,[],[])),HC.addDon(new wf("Místico nato","",15,50,[],[]));var KC="Influjo sobrenatural";fv.push(new Vc(KC,"","Este don otorga dos puntos adicionales a su Voluntad o a su Poder, dependiendo de cuál sea la característica en la que basa principalmente sus habilidades.",nv,new Array(0),[],!1,[],[Ce],Ov)),HC.addDon(new wf("Influjo sobrenatural","Este don otorga dos puntos adicionales a su Voluntad o a su Poder, dependiendo de cuál sea la característica en la que basa principalmente sus habilidades.",10,60,[KC],[])),HC.addDon(new wf("Caminante de los sueños","",10,60,[],[])),HC.addDon(new wf("Los miedos cardinales","",20,70,[],[])),HC.addDon(new wf("Potenciación sobrenatural","",15,80,[],[])),HC.addDon(new wf("Nux, el miedo absoluto","",10,90,["Los miedos cardinales"],[]));var LC="Demiurgo";fv.push(new Vc(LC,"","Este don otorga cinco puntos de características que puede repartir como desee entre su Inteligencia, Poder y Voluntad, según le convenga a sus habilidades.",nv,new Array(0),[],!1,[Av],[De],Ov)),HC.addDon(new wf("Demiurgo","Este don otorga cinco puntos de características que puede repartir como desee entre su Inteligencia, Poder y Voluntad, según le convenga a sus habilidades.",10,100,[LC],[])),aC.push(HC);var MC="Eriol",NC=new vf(MC,_B);NC.addDon(new wf("Otorgar fortuna y desgracia","",10,10,[],[])),NC.addDon(new wf("Alterar la Ley de la Casualidad","",5,20,[],[])),NC.addDon(new wf("Sentir el caos","",5,30,[],[])),NC.addDon(new wf("Robar la suerte","",10,40,[],[])),NC.addDon(new wf("Conjurar la providencia","",10,50,[],[])),NC.addDon(new wf("Estigma del caos","",15,50,[],[])),NC.addDon(new wf("Aura de caos","",10,60,[],[])),NC.addDon(new wf("Alterar el destino","",15,70,[],["Conjurar la providencia"])),NC.addDon(new wf("Forzar la suerte","",15,80,[],[])),NC.addDon(new wf("Truncar el sino","",15,90,[],[])),NC.addDon(new wf("Señor del Caos","",10,100,[],["Aura de caos"])),aC.push(NC);var OC="Meseguis",PC=new vf(OC,_B),QC="La serenidad de la melancolía";fv.push(new Vc(QC,"","Este don otorga un bonificador especial a Frialdad y Resistir el dolor equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[Ge],Ov)),PC.addDon(new wf("La serenidad de la melancolía","Este don otorga un bonificador especial a Frialdad y Resistir el dolor equivalente a su nivel de Elan.",5,10,[QC],[])),PC.addDon(new wf("Camino de la venganza","",5,20,[],[])),PC.addDon(new wf("Ojos de la pesadumbre","",10,30,[],[])),PC.addDon(new wf("Lágrimas por los demás","",5,30,[],[])),PC.addDon(new wf("Transmitir el dolor","",10,40,[],[])),PC.addDon(new wf("Espíritu de la venganza","",10,40,[],[])),PC.addDon(new wf("La voz de los muertos","",10,50,[],[])),PC.addDon(new wf("Vengador oscuro","",10,60,[],[])),PC.addDon(new wf("La voz del dolor","",15,60,[],["Transmitir el dolor"])),PC.addDon(new wf("Más allá de la muerte","",10,70,[],[])),PC.addDon(new wf("Ejecutor oscuro","",10,80,[],["Vengador oscuro"])),PC.addDon(new wf("Espejo oscuro","",15,90,[],[])),PC.addDon(new wf("Comunión con los caídos","",10,100,[],["La voz de los muertos"])),aC.push(PC);var RC="Jedah",SC=new vf(RC,_B),TC="Don de la política";fv.push(new Vc(TC,"","Este don otorga un bonificador especial a sus habilidades secundarias Persuasión y Liderazgo equivalente a su nivel de Elan.",nv,new Array(0),[],!1,[],[Ee],Ov)),SC.addDon(new wf("Don de la política","Este don otorga un bonificador especial a sus habilidades secundarias Persuasión y Liderazgo equivalente a su nivel de Elan.",5,10,[TC],[])),SC.addDon(new wf("Dominación incrementada","",10,20,[],[])),SC.addDon(new wf("Sombra","",5,30,[],[])),SC.addDon(new wf("Afinidad oscura","",5,40,[],[]));var UC="El poder del conocimiento";fv.push(new Vc(UC,"","Este don otorga un bonificador especial a todas las habilidades secundarias Intelectuales, equivalente a la mitad de su nivel de Elan.",nv,new Array(0),[],!1,[],[Fe],Ov)),SC.addDon(new wf("El poder del conocimiento","Este don otorga un bonificador especial a todas las habilidades secundarias Intelectuales, equivalente a la mitad de su nivel de Elan.",10,50,[UC],[])),SC.addDon(new wf("El Dominador (Habla)","",10,50,[],[])),SC.addDon(new wf("Cadena de mando","",10,60,[],[])),SC.addDon(new wf("Señor de las sombras","",15,65,[],["Afinidad oscura"]));var VC="Comunión con Uriel";fv.push(new Vc(VC,"","Este don otorga un punto adicional en sus características de Poder, Voluntad e Inteligencia.",nv,new Array(0),[],!1,[],[ze],Ov)),SC.addDon(new wf("Poder oscuro","Este don otorga un punto adicional en sus características de Poder, Voluntad e Inteligencia.",15,70,[VC],[])),SC.addDon(new wf("El Dominador (Vista)","",10,70,[],["El Dominador (Habla)"])),SC.addDon(new wf("Esencia sobrenatural","",15,80,[],[])),SC.addDon(new wf("El Dominador (Aura)","",10,90,[],["El Dominador (Vista)"])),SC.addDon(new wf("Maestro de marionetas","",10,100,[],[])),aC.push(SC);var WC="Noah",XC=new vf(WC,_B);XC.addDon(new wf("En las manos apropiadas","",5,10,[],[])),XC.addDon(new wf("Espíritu de superación","",10,20,[],[]));var YC="Resistente";fv.push(new Vc(YC,"","Este don otorga un bonificador especial a su RF equivalente a la mitad del Elan que posee.",nv,new Array(0),[],!1,[],[He],Ov)),XC.addDon(new wf("Resistente","Este don otorga un bonificador especial a su RF equivalente a la mitad del Elan que posee.",5,20,[YC],[])),XC.addDon(new wf("Inhumano","",5,30,[],[])),XC.addDon(new wf("Ignorar penalizadores","",10,40,[],[])),XC.addDon(new wf("Potencia oscura","",15,50,[],[])),XC.addDon(new wf("Dote","",10,60,[],[])),XC.addDon(new wf("Mejorar ante los retos","",15,70,[],[])),XC.addDon(new wf("Aura de guerra","",10,70,[],[])),XC.addDon(new wf("Avatar oscuro","",20,80,[],["Inhumano"])),XC.addDon(new wf("La sombra de la guerra","",15,90,[],[])),XC.addDon(new wf("El Vencedor","",10,100,[],[])),aC.push(XC);var ZC="Zemial",$C=new vf(ZC,_B);$C.addDon(new wf("Asalto espiritual","",5,10,[],[])),$C.addDon(new wf("Ansia demencial","",5,20,[],[]));var _C="Daño incrementado";fv.push(new Vc(_C,"","Este don otorga un bonificador especial a daño base de cualquiera de sus ataques en una cantidad equivalente a la mitad de su nivel de Elan.",nv,new Array(0),[],!1,[zv],[Ie],Ov)),$C.addDon(new wf("Daño incrementado","Este don otorga un bonificador especial a daño base de cualquiera de sus ataques en una cantidad equivalente a la mitad de su nivel de Elan.",10,30,[_C],[])),$C.addDon(new wf("Daño anímico","",10,40,[],["Asalto espiritual"])),$C.addDon(new wf("Destructor","",15,50,[],[])),$C.addDon(new wf("Señor de la destrucción (Tacto)","",10,50,[],[])),$C.addDon(new wf("Presencia exterminadora","",10,60,[],[])),$C.addDon(new wf("Señor de la destrucción (Vista)","",10,60,[],["Señor de la destrucción (Tacto)"])),$C.addDon(new wf("Señor de la destrucción (Aura)","",10,70,[],["Señor de la destrucción (Vista)"])),$C.addDon(new wf("Asalto destructor","",15,80,[],[])),$C.addDon(new wf("La sangre de la locura","",20,90,[],[])),$C.addDon(new wf("Portador de catástrofes","",10,100,[],[])),aC.push($C),Bf.prototype={constructor:Bf,toString:function(){return this.nombre},getNombre:function(){return this.nombre},getDescripcion:function(){return this.descripcion},getArquetipo:function(){return this.arquetipo},initCostes:function(){this.costes.push(new Cf(xo,this.multiploDeVida,!0,Ck)),this.costes.push(new Cf(yo,this.pvPorNivel,!0,Ck)),this.costes.push(new Cf(zo,this.turnoPorNivel,!0,Ck)),this.costes.push(new Cf(Ao,this.CMPorNivel,!0,Ck)),this.costes.push(new Cf(Bo,this.nivelesParaCV,!0,Ck)),this.costes.push(new Cf(Co,100*this.limiteCombate,!0,Dk)),this.costes.push(new Cf(Do,this.habAtaque,!0,Ck)),this.costes.push(new Cf(Eo,this.habParada,!0,Ck)),this.costes.push(new Cf(Fo,this.habEsquiva,!0,Ck)),this.costes.push(new Cf(Go,this.habArmadura,!0,Ck)),this.costes.push(new Cf(Ho,this.ki,!0,Ck)),this.costes.push(new Cf(Io,this.acumulacionKi,!0,Ck)),this.costes.push(new Cf(_o,100*this.limiteSobrenatural,!0,Dk)),this.costes.push(new Cf(ap,this.zeon,!0,Ck)),this.costes.push(new Cf(bp,this.costeACT,!0,Ck)),this.costes.push(new Cf(cp,this.proyeccionMagica,!0,Ck)),this.costes.push(new Cf(dp,this.convocar,!0,Ck)),this.costes.push(new Cf(ep,this.dominar,!0,Ck)),this.costes.push(new Cf(fp,this.atar,!0,Ck)),this.costes.push(new Cf(gp,this.desconvocar,!0,Ck)),this.costes.push(new Cf(hp,100*this.limitePsiquica,!0,Dk)),this.costes.push(new Cf(ip,this.costeCV,!0,Ck)),this.costes.push(new Cf(jp,this.proyeccionPsiquica,!0,Ck)),this.costes.push(new Cf(lp,this.atleticas,!0,Ck)),this.costes.push(new Cf(mp,this.sociales,!0,Ck)),this.costes.push(new Cf(np,this.perceptivas,!0,Ck)),this.costes.push(new Cf(op,this.intelectuales,!0,Ck)),this.costes.push(new Cf(pp,this.vigor,!0,Ck)),this.costes.push(new Cf(qp,this.subterfugio,!0,Ck)),this.costes.push(new Cf(rp,this.creativas,!0,Ck))},getCostes:function(){return this.costes},getCostesReducidos:function(){return this.costesReducidos},getBonosInnatos:function(){return this.bonosInnatos},getCosteHabilidadPrimaria:function(a){switch(a){case Zq:return this.habAtaque;case $q:return this.habParada;case _q:return this.habEsquiva;case ar:return this.habArmadura;case br:case dr:case er:case hr:case cr:case fr:case gr:return this.ki;case ir:case kr:case lr:case or:case mr:case nr:case jr:return this.acumulacionKi;case qr:return this.zeon;case rr:return this.costeACT;case sr:return this.proyeccionMagica;case tr:return this.convocar;case ur:return this.dominar;case vr:return this.atar;case wr:return this.desconvocar;case yr:return this.costeCV;case zr:return this.proyeccionPsiquica;default:return 0}},getCosteHabilidadSecundaria:function(a){for(var b=0;b<this.costesReducidos.length;b++){var c=this.costesReducidos[b];if(c.getNombre()==a)return c.getCoste()}var d=U(a);switch(d){case Cr:return this.atleticas;case ts:return this.creativas;case cs:return this.intelectuales;case Zr:return this.perceptivas;case Kr:return this.sociales;case Qr:return this.subterfugio;case os:return this.vigor;default:throw xl}},toJSON:function(){return this.nombre}},Cf.prototype={constructor:Cf,getNombre:function(){return this.nombre},getCoste:function(){return this.coste},isAbsoluto:function(){return this.absoluto},toString:function(){var a;return a=this.absoluto?this.nombre+": "+this.coste+this.unidades:this.nombre+": -"+this.coste+this.unidades}};var aD=[],bD="Error: Nombre de categoría erróneo",cD="Asesino",dD=new Bf(cD);dD.descripcion="",dD.arquetipo=nl,dD.multiploDeVida=20,dD.pvPorNivel=5,dD.turnoPorNivel=10,dD.CMPorNivel=20,dD.nivelesParaCV=3,dD.limiteCombate=.5,dD.habAtaque=2,dD.habParada=3,dD.habEsquiva=2,dD.habArmadura=3,dD.ki=2,dD.acumulacionKi=25,dD.limiteSobrenatural=.5,dD.zeon=3,dD.costeACT=70,dD.proyeccionMagica=3,dD.convocar=3,dD.dominar=3,dD.atar=3,dD.desconvocar=3,dD.limitePsiquica=.5,dD.costeCV=20,dD.proyeccionPsiquica=3,dD.atleticas=2,dD.sociales=2,dD.perceptivas=1,dD.intelectuales=3,dD.vigor=3,dD.subterfugio=2,dD.creativas=2,dD.costesReducidos=[new Cf(Vr,1,!0,Ck),new Cf(ps,2,!0,Ck),new Cf(is,2,!0,Ck)],dD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:cD}),new y(sq,$r,10,"",!0,Iq,Fq,{categoriaPersonaje:cD}),new y(sq,_r,10,"",!0,Iq,Fq,{categoriaPersonaje:cD}),new y(sq,Tr,10,"",!0,Iq,Fq,{categoriaPersonaje:cD}),new y(sq,Vr,10,"",!0,Iq,Fq,{categoriaPersonaje:cD}),new y(sq,Xr,10,"",!0,Iq,Fq,{categoriaPersonaje:cD}),new y(sq,ps,10,"",!0,Iq,Fq,{categoriaPersonaje:cD}),new y(sq,Wr,10,"",!0,Iq,Fq,{categoriaPersonaje:cD})],aD.push(dD);var eD="Conjurador",fD=new Bf(eD);fD.descripcion="",fD.arquetipo=ll,fD.multiploDeVida=20,fD.pvPorNivel=5,fD.turnoPorNivel=5,fD.CMPorNivel=10,fD.nivelesParaCV=3,fD.limiteCombate=.5,fD.habAtaque=3,fD.habParada=3,fD.habEsquiva=2,fD.habArmadura=3,fD.ki=3,fD.acumulacionKi=30,fD.limiteSobrenatural=.6,fD.zeon=1,fD.costeACT=60,fD.proyeccionMagica=3,fD.convocar=1,fD.dominar=1,fD.atar=1,fD.desconvocar=1,fD.limitePsiquica=.5,fD.costeCV=20,fD.proyeccionPsiquica=3,fD.atleticas=2,fD.sociales=2,fD.perceptivas=2,fD.intelectuales=2,fD.vigor=3,fD.subterfugio=2,fD.creativas=2,fD.costesReducidos=[new Cf(ks,1,!0,Ck)],fD.bonosInnatos=[new y(sq,qr,50,"",!0,Iq,Fq,{categoriaPersonaje:eD}),new y(sq,tr,10,"",!0,Iq,Fq,{categoriaPersonaje:eD}),new y(sq,ur,10,"",!0,Iq,Fq,{categoriaPersonaje:eD}),new y(sq,vr,10,"",!0,Iq,Fq,{categoriaPersonaje:eD}),new y(sq,wr,10,"",!0,Iq,Fq,{categoriaPersonaje:eD})],aD.push(fD);var gD="Explorador",hD=new Bf(gD);hD.descripcion="",hD.arquetipo=rl,hD.multiploDeVida=20,hD.pvPorNivel=10,hD.turnoPorNivel=5,hD.CMPorNivel=20,hD.nivelesParaCV=3,hD.limiteCombate=.6,hD.habAtaque=2,hD.habParada=2,hD.habEsquiva=2,hD.habArmadura=2,hD.ki=2,hD.acumulacionKi=25,hD.limiteSobrenatural=.5,hD.zeon=3,hD.costeACT=70,hD.proyeccionMagica=3,hD.convocar=3,hD.dominar=3,hD.atar=3,hD.desconvocar=3,hD.limitePsiquica=.5,hD.costeCV=20,hD.proyeccionPsiquica=3,hD.atleticas=2,hD.sociales=2,hD.perceptivas=1,hD.intelectuales=3,hD.vigor=3,hD.subterfugio=2,hD.creativas=2,hD.costesReducidos=[new Cf(Wr,1,!0,Ck),new Cf(fs,2,!0,Ck),new Cf(ds,1,!0,Ck),new Cf(hs,2,!0,Ck)],hD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:gD}),new y(sq,$r,10,"",!0,Iq,Fq,{categoriaPersonaje:gD}),new y(sq,_r,10,"",!0,Iq,Fq,{categoriaPersonaje:gD}),new y(sq,as,10,"",!0,Iq,Fq,{categoriaPersonaje:gD}),new y(sq,Wr,5,"",!0,Iq,Fq,{categoriaPersonaje:gD}),new y(sq,ds,5,"",!0,Iq,Fq,{categoriaPersonaje:gD}),new y(sq,fs,5,"",!0,Iq,Fq,{categoriaPersonaje:gD}),new y(Cq,Eu,10,"",!0,Iq,Fq,{categoriaPersonaje:gD})],aD.push(hD);var iD="Guerrero",jD=new Bf(iD);jD.descripcion="",jD.arquetipo=kl,jD.multiploDeVida=15,jD.pvPorNivel=15,jD.turnoPorNivel=5,jD.CMPorNivel=25,jD.nivelesParaCV=3,jD.limiteCombate=.6,jD.habAtaque=2,jD.habParada=2,jD.habEsquiva=2,jD.habArmadura=2,jD.ki=2,jD.acumulacionKi=20,jD.limiteSobrenatural=.5,jD.zeon=3,jD.costeACT=70,jD.proyeccionMagica=3,jD.convocar=3,jD.dominar=3,jD.atar=3,jD.desconvocar=3,jD.limitePsiquica=.5,jD.costeCV=20,jD.proyeccionPsiquica=3,jD.atleticas=2,jD.sociales=2,jD.perceptivas=2,jD.intelectuales=3,jD.vigor=2,jD.subterfugio=2,jD.creativas=2,jD.costesReducidos=[new Cf(qs,1,!0,Ck)],jD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:iD}),new y(sq,$q,5,"",!0,Iq,Fq,{categoriaPersonaje:iD}),new y(sq,ar,5,"",!0,Iq,Fq,{categoriaPersonaje:iD}),new y(sq,qs,5,"",!0,Iq,Fq,{categoriaPersonaje:iD})],aD.push(jD);var kD="Guerrero Acróbata",lD=new Bf(kD);lD.descripcion="",lD.arquetipo=kl,lD.multiploDeVida=20,lD.pvPorNivel=10,lD.turnoPorNivel=10,lD.CMPorNivel=25,lD.nivelesParaCV=3,lD.limiteCombate=.6,lD.habAtaque=2,lD.habParada=3,lD.habEsquiva=2,lD.habArmadura=2,lD.ki=2,lD.acumulacionKi=20,lD.limiteSobrenatural=.5,lD.zeon=3,lD.costeACT=70,lD.proyeccionMagica=3,lD.convocar=3,lD.dominar=3,lD.atar=3,lD.desconvocar=3,lD.limitePsiquica=.5,lD.costeCV=20,lD.proyeccionPsiquica=3,lD.atleticas=2,lD.sociales=2,lD.perceptivas=2,lD.intelectuales=3,lD.vigor=2,lD.subterfugio=2,lD.creativas=2,lD.costesReducidos=[],lD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:kD}),new y(sq,_q,5,"",!0,Iq,Fq,{categoriaPersonaje:kD}),new y(sq,Dr,10,"",!0,Iq,Fq,{categoriaPersonaje:kD}),new y(sq,Hr,10,"",!0,Iq,Fq,{categoriaPersonaje:kD}),new y(sq,Er,10,"",!0,Iq,Fq,{categoriaPersonaje:kD}),new y(sq,ys,10,"",!0,Iq,Fq,{categoriaPersonaje:kD}),new y(sq,Lr,10,"",!0,Iq,Fq,{categoriaPersonaje:kD})],aD.push(lD);var mD="Guerrero Conjurador",nD=new Bf(mD);nD.descripcion="",nD.arquetipo=ul,nD.multiploDeVida=20,nD.pvPorNivel=10,nD.turnoPorNivel=5,nD.CMPorNivel=20,nD.nivelesParaCV=3,nD.limiteCombate=.5,nD.habAtaque=2,nD.habParada=2,nD.habEsquiva=2,nD.habArmadura=2,nD.ki=2,nD.acumulacionKi=20,nD.limiteSobrenatural=.5,nD.zeon=1,nD.costeACT=60,nD.proyeccionMagica=3,nD.convocar=1,nD.dominar=1,nD.atar=1,nD.desconvocar=1,nD.limitePsiquica=.5,nD.costeCV=20,nD.proyeccionPsiquica=3,nD.atleticas=2,nD.sociales=2,nD.perceptivas=2,nD.intelectuales=2,nD.vigor=2,nD.subterfugio=2,nD.creativas=2,nD.costesReducidos=[],nD.bonosInnatos=[new y(sq,qr,20,"",!0,Iq,Fq,{categoriaPersonaje:mD}),new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:mD}),new y(sq,$q,5,"",!0,Iq,Fq,{categoriaPersonaje:mD}),new y(sq,_q,5,"",!0,Iq,Fq,{categoriaPersonaje:mD}),new y(sq,tr,5,"",!0,Iq,Fq,{categoriaPersonaje:mD}),new y(sq,ur,5,"",!0,Iq,Fq,{categoriaPersonaje:mD}),new y(sq,vr,5,"",!0,Iq,Fq,{categoriaPersonaje:mD}),new y(sq,wr,5,"",!0,Iq,Fq,{categoriaPersonaje:mD}),new y(sq,ks,5,"",!0,Iq,Fq,{categoriaPersonaje:mD})],aD.push(nD);var oD="Guerrero Mentalista",pD=new Bf(oD);pD.descripcion="",pD.arquetipo=vl,pD.multiploDeVida=20,pD.pvPorNivel=10,pD.turnoPorNivel=5,pD.CMPorNivel=20,pD.nivelesParaCV=1,pD.limiteCombate=.5,pD.habAtaque=2,pD.habParada=2,pD.habEsquiva=2,pD.habArmadura=2,pD.ki=2,pD.acumulacionKi=25,pD.limiteSobrenatural=.5,pD.zeon=3,pD.costeACT=70,pD.proyeccionMagica=3,pD.convocar=3,pD.dominar=3,pD.atar=3,pD.desconvocar=3,pD.limitePsiquica=.5,pD.costeCV=15,pD.proyeccionPsiquica=2,pD.atleticas=2,pD.sociales=2,pD.perceptivas=2,pD.intelectuales=3,pD.vigor=2,pD.subterfugio=2,pD.creativas=2,pD.costesReducidos=[],pD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:oD}),new y(sq,$q,5,"",!0,Iq,Fq,{categoriaPersonaje:oD}),new y(sq,_q,5,"",!0,Iq,Fq,{categoriaPersonaje:oD})],aD.push(pD);var qD="Hechicero",rD=new Bf(qD);rD.descripcion="",rD.arquetipo=ll,rD.multiploDeVida=20,rD.pvPorNivel=5,rD.turnoPorNivel=5,rD.CMPorNivel=10,rD.nivelesParaCV=3,rD.limiteCombate=.5,rD.habAtaque=3,rD.habParada=3,rD.habEsquiva=2,rD.habArmadura=3,rD.ki=3,rD.acumulacionKi=30,rD.limiteSobrenatural=.6,rD.zeon=1,rD.costeACT=50,rD.proyeccionMagica=2,rD.convocar=2,rD.dominar=2,rD.atar=2,rD.desconvocar=2,rD.limitePsiquica=.5,rD.costeCV=20,rD.proyeccionPsiquica=3,rD.atleticas=2,rD.sociales=2,rD.perceptivas=2,rD.intelectuales=2,rD.vigor=3,rD.subterfugio=2,rD.creativas=2,rD.costesReducidos=[new Cf(ms,1,!0,Ck)],rD.bonosInnatos=[new y(sq,qr,100,"",!0,Iq,Fq,{categoriaPersonaje:qD}),new y(sq,ms,10,"",!0,Iq,Fq,{categoriaPersonaje:qD}),new y(sq,ks,5,"",!0,Iq,Fq,{categoriaPersonaje:qD})],aD.push(rD);var sD="Hechicero Mentalista",tD=new Bf(sD);tD.descripcion="",tD.arquetipo=tl,tD.multiploDeVida=20,tD.pvPorNivel=5,tD.turnoPorNivel=5,tD.CMPorNivel=10,tD.nivelesParaCV=1,tD.limiteCombate=.5,tD.habAtaque=3,tD.habParada=3,tD.habEsquiva=2,tD.habArmadura=3,tD.ki=3,tD.acumulacionKi=30,tD.limiteSobrenatural=.5,tD.zeon=1,tD.costeACT=50,tD.proyeccionMagica=2,tD.convocar=2,tD.dominar=2,tD.atar=2,tD.desconvocar=2,tD.limitePsiquica=.5,tD.costeCV=10,tD.proyeccionPsiquica=2,tD.atleticas=2,tD.sociales=2,tD.perceptivas=2,tD.intelectuales=2,tD.vigor=3,tD.subterfugio=2,tD.creativas=2,tD.costesReducidos=[],tD.bonosInnatos=[new y(sq,qr,100,"",!0,Iq,Fq,{categoriaPersonaje:sD}),new y(sq,ms,10,"",!0,Iq,Fq,{categoriaPersonaje:sD}),new y(sq,ks,5,"",!0,Iq,Fq,{categoriaPersonaje:sD})],aD.push(tD);var uD="Ilusionista",vD=new Bf(uD);vD.descripcion="",vD.arquetipo=sl,vD.multiploDeVida=20,vD.pvPorNivel=5,vD.turnoPorNivel=5,vD.CMPorNivel=20,vD.nivelesParaCV=3,vD.limiteCombate=.5,vD.habAtaque=3,vD.habParada=3,vD.habEsquiva=2,vD.habArmadura=3,vD.ki=2,vD.acumulacionKi=25,vD.limiteSobrenatural=.6,vD.zeon=1,vD.costeACT=60,vD.proyeccionMagica=2,vD.convocar=3,vD.dominar=3,vD.atar=3,vD.desconvocar=3,vD.limitePsiquica=.5,vD.costeCV=20,vD.proyeccionPsiquica=3,vD.atleticas=2,vD.sociales=2,vD.perceptivas=2,vD.intelectuales=2,vD.vigor=3,vD.subterfugio=2,vD.creativas=2,vD.costesReducidos=[new Cf(ys,1,!0,Ck),new Cf(Or,1,!0,Ck)],vD.bonosInnatos=[new y(sq,qr,75,"",!0,Iq,Fq,{categoriaPersonaje:uD}),new y(sq,ms,5,"",!0,Iq,Fq,{categoriaPersonaje:uD}),new y(sq,Vr,10,"",!0,Iq,Fq,{categoriaPersonaje:uD}),new y(sq,Tr,10,"",!0,Iq,Fq,{categoriaPersonaje:uD}),new y(sq,ys,10,"",!0,Iq,Fq,{categoriaPersonaje:uD}),new y(sq,Sr,5,"",!0,Iq,Fq,{categoriaPersonaje:uD}),new y(sq,Ur,5,"",!0,Iq,Fq,{categoriaPersonaje:uD}),new y(sq,Or,5,"",!0,Iq,Fq,{categoriaPersonaje:uD})],aD.push(vD);var wD="Ladrón",xD=new Bf(wD);xD.descripcion="",xD.arquetipo=nl,xD.multiploDeVida=20,xD.pvPorNivel=5,xD.turnoPorNivel=10,xD.CMPorNivel=20,xD.nivelesParaCV=3,xD.limiteCombate=.5,xD.habAtaque=2,xD.habParada=3,xD.habEsquiva=2,xD.habArmadura=3,xD.ki=2,xD.acumulacionKi=25,xD.limiteSobrenatural=.5,xD.zeon=3,xD.costeACT=70,xD.proyeccionMagica=3,xD.convocar=3,xD.dominar=3,xD.atar=3,xD.desconvocar=3,xD.limitePsiquica=.5,xD.costeCV=20,xD.proyeccionPsiquica=3,xD.atleticas=1,xD.sociales=2,xD.perceptivas=2,xD.intelectuales=3,xD.vigor=3,xD.subterfugio=1,xD.creativas=2,xD.costesReducidos=[new Cf(ls,1,!0,Ck)],xD.bonosInnatos=[new y(sq,_q,5,"",!0,Iq,Fq,{categoriaPersonaje:wD}),new y(sq,$r,5,"",!0,Iq,Fq,{categoriaPersonaje:wD}),new y(sq,_r,5,"",!0,Iq,Fq,{categoriaPersonaje:wD}),new y(sq,Tr,5,"",!0,Iq,Fq,{categoriaPersonaje:wD}),new y(sq,Vr,5,"",!0,Iq,Fq,{categoriaPersonaje:wD}),new y(sq,Wr,5,"",!0,Iq,Fq,{categoriaPersonaje:wD}),new y(sq,ys,5,"",!0,Iq,Fq,{categoriaPersonaje:wD}),new y(sq,Ur,10,"",!0,Iq,Fq,{categoriaPersonaje:wD}),new y(Cq,Ru,5,"",!0,Iq,Fq,{categoriaPersonaje:wD})],aD.push(xD);var yD="Maestro en Armas",zD=new Bf(yD),AD="tablas de armas y maniobras a medio coste";zD.descripcion="",zD.arquetipo=kl,zD.multiploDeVida=10,zD.pvPorNivel=20,zD.turnoPorNivel=5,zD.CMPorNivel=10,zD.nivelesParaCV=3,zD.limiteCombate=.6,zD.habAtaque=2,zD.habParada=2,zD.habEsquiva=2,zD.habArmadura=1,zD.ki=3,zD.acumulacionKi=30,zD.limiteSobrenatural=.5,zD.zeon=3,zD.costeACT=70,zD.proyeccionMagica=3,zD.convocar=3,zD.dominar=3,zD.atar=3,zD.desconvocar=3,zD.limitePsiquica=.5,zD.costeCV=20,zD.proyeccionPsiquica=3,zD.atleticas=2,zD.sociales=2,zD.perceptivas=2,zD.intelectuales=3,zD.vigor=1,zD.subterfugio=3,zD.creativas=2,zD.costesReducidos=[],zD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:yD}),new y(sq,$q,5,"",!0,Iq,Fq,{categoriaPersonaje:yD}),new y(sq,ar,10,"",!0,Iq,Fq,{categoriaPersonaje:yD}),new y(sq,qs,5,"",!0,Iq,Fq,{categoriaPersonaje:yD}),new y(AD,AD,0,"",!0,Iq,Fq,{categoriaPersonaje:yD})],aD.push(zD);var BD="Mentalista",CD=new Bf(BD);CD.descripcion="",CD.arquetipo=ml,CD.multiploDeVida=20,CD.pvPorNivel=5,CD.turnoPorNivel=5,CD.CMPorNivel=10,CD.nivelesParaCV=1,CD.limiteCombate=.5,CD.habAtaque=3,CD.habParada=3,CD.habEsquiva=2,CD.habArmadura=3,CD.ki=3,CD.acumulacionKi=30,CD.limiteSobrenatural=.5,CD.zeon=3,CD.costeACT=70,CD.proyeccionMagica=3,CD.convocar=3,CD.dominar=3,CD.atar=3,CD.desconvocar=3,CD.limitePsiquica=.6,CD.costeCV=10,CD.proyeccionPsiquica=2,CD.atleticas=2,CD.sociales=2,CD.perceptivas=2,CD.intelectuales=2,CD.vigor=3,CD.subterfugio=2,CD.creativas=2,CD.costesReducidos=[],CD.bonosInnatos=[],aD.push(CD);var DD="Novel",ED=new Bf(DD),FD="bono innato novel 5 +10",GD="bono innato novel cambio clase";ED.descripcion="",ED.arquetipo=pl,ED.multiploDeVida=20,ED.pvPorNivel=5,ED.turnoPorNivel=5,ED.CMPorNivel=20,ED.nivelesParaCV=2,ED.limiteCombate=.6,ED.habAtaque=2,ED.habParada=2,ED.habEsquiva=2,ED.habArmadura=2,ED.ki=2,ED.acumulacionKi=20,ED.limiteSobrenatural=.6,ED.zeon=2,ED.costeACT=60,ED.proyeccionMagica=2,ED.convocar=2,ED.dominar=2,ED.atar=2,ED.desconvocar=2,ED.limitePsiquica=.6,ED.costeCV=20,ED.proyeccionPsiquica=2,ED.atleticas=2,ED.sociales=2,ED.perceptivas=2,ED.intelectuales=2,ED.vigor=2,ED.subterfugio=2,ED.creativas=2,ED.costesReducidos=[],ED.bonosInnatos=[new y(sq,qr,10,"",!0,Iq,Fq,{categoriaPersonaje:DD}),new y(sq,FD,10,"",!0,Iq,Fq,{categoriaPersonaje:DD}),new y(sq,GD,10,"",!0,Iq,Fq,{categoriaPersonaje:DD})],aD.push(ED);var HD="Paladín (Desconvocar)",ID=new Bf(HD);ID.descripcion="",ID.arquetipo=kl,ID.multiploDeVida=15,ID.pvPorNivel=15,ID.turnoPorNivel=5,ID.CMPorNivel=20,ID.nivelesParaCV=3,ID.limiteCombate=.6,ID.habAtaque=2,ID.habParada=2,ID.habEsquiva=2,ID.habArmadura=2,ID.ki=2,ID.acumulacionKi=20,ID.limiteSobrenatural=.5,ID.zeon=2,ID.costeACT=60,ID.proyeccionMagica=3,ID.convocar=3,ID.dominar=3,ID.atar=3,ID.desconvocar=1,ID.limitePsiquica=.5,ID.costeCV=20,ID.proyeccionPsiquica=3,ID.atleticas=2,ID.sociales=1,ID.perceptivas=2,ID.intelectuales=2,ID.vigor=2,ID.subterfugio=3,ID.creativas=2,ID.costesReducidos=[new Cf(rs,1,!0,Ck)],ID.bonosInnatos=[new y(sq,$q,5,"",!0,Iq,Fq,{categoriaPersonaje:HD}),new y(sq,ar,10,"",!0,Iq,Fq,{categoriaPersonaje:HD}),new y(sq,wr,10,"",!0,Iq,Fq,{categoriaPersonaje:HD}),new y(sq,qr,20,"",!0,Iq,Fq,{categoriaPersonaje:HD}),new y(sq,Nr,10,"",!0,Iq,Fq,{categoriaPersonaje:HD}),new y(sq,rs,10,"",!0,Iq,Fq,{categoriaPersonaje:HD}),new y(sq,Lr,5,"",!0,Iq,Fq,{categoriaPersonaje:HD})],aD.push(ID);var JD="Paladín (Frialdad)",KD=new Bf(JD);KD.descripcion="",KD.arquetipo=kl,KD.multiploDeVida=15,KD.pvPorNivel=15,KD.turnoPorNivel=5,KD.CMPorNivel=20,KD.nivelesParaCV=3,KD.limiteCombate=.6,KD.habAtaque=2,KD.habParada=2,KD.habEsquiva=2,KD.habArmadura=2,KD.ki=2,KD.acumulacionKi=20,KD.limiteSobrenatural=.5,KD.zeon=2,KD.costeACT=60,KD.proyeccionMagica=3,KD.convocar=3,KD.dominar=3,KD.atar=3,KD.desconvocar=1,KD.limitePsiquica=.5,KD.costeCV=20,KD.proyeccionPsiquica=3,KD.atleticas=2,KD.sociales=1,KD.perceptivas=2,KD.intelectuales=2,KD.vigor=2,KD.subterfugio=3,KD.creativas=2,KD.costesReducidos=[new Cf(rs,1,!0,Ck)],KD.bonosInnatos=[new y(sq,$q,5,"",!0,Iq,Fq,{categoriaPersonaje:JD}),new y(sq,ar,10,"",!0,Iq,Fq,{categoriaPersonaje:JD}),new y(sq,Nr,10,"",!0,Iq,Fq,{categoriaPersonaje:JD}),new y(sq,rs,10,"",!0,Iq,Fq,{categoriaPersonaje:JD}),new y(sq,Lr,5,"",!0,Iq,Fq,{categoriaPersonaje:JD}),new y(sq,ps,10,"",!0,Iq,Fq,{categoriaPersonaje:JD})],aD.push(KD);var LD="Paladín Oscuro (Controlar)",MD=new Bf(LD);MD.descripcion="",MD.arquetipo=kl,MD.multiploDeVida=15,MD.pvPorNivel=15,MD.turnoPorNivel=5,MD.CMPorNivel=20,MD.nivelesParaCV=3,MD.limiteCombate=.6,MD.habAtaque=2,MD.habParada=2,MD.habEsquiva=2,MD.habArmadura=2,MD.ki=2,MD.acumulacionKi=20,MD.limiteSobrenatural=.5,MD.zeon=2,MD.costeACT=60,MD.proyeccionMagica=3,MD.convocar=3,MD.dominar=1,MD.atar=3,MD.desconvocar=3,MD.limitePsiquica=.5,MD.costeCV=20,MD.proyeccionPsiquica=3,MD.atleticas=2,MD.sociales=1,MD.perceptivas=2,MD.intelectuales=2,MD.vigor=2,MD.subterfugio=2,MD.creativas=2,MD.costesReducidos=[new Cf(ps,1,!0,Ck)],MD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:LD}),new y(sq,ar,5,"",!0,Iq,Fq,{categoriaPersonaje:LD}),new y(sq,ur,10,"",!0,Iq,Fq,{categoriaPersonaje:LD}),new y(sq,qr,20,"",!0,Iq,Fq,{categoriaPersonaje:LD}),new y(sq,Mr,10,"",!0,Iq,Fq,{categoriaPersonaje:LD}),new y(sq,ps,10,"",!0,Iq,Fq,{categoriaPersonaje:LD}),new y(sq,Lr,5,"",!0,Iq,Fq,{categoriaPersonaje:LD}),new y(sq,Or,5,"",!0,Iq,Fq,{categoriaPersonaje:LD})],aD.push(MD);var ND="Paladín Oscuro (Resistir Dolor)",OD=new Bf(ND);OD.descripcion="",OD.arquetipo=kl,OD.multiploDeVida=15,OD.pvPorNivel=15,OD.turnoPorNivel=5,OD.CMPorNivel=20,OD.nivelesParaCV=3,OD.limiteCombate=.6,OD.habAtaque=2,OD.habParada=2,OD.habEsquiva=2,OD.habArmadura=2,OD.ki=2,OD.acumulacionKi=20,OD.limiteSobrenatural=.5,OD.zeon=2,OD.costeACT=60,OD.proyeccionMagica=3,OD.convocar=3,OD.dominar=1,OD.atar=3,OD.desconvocar=3,OD.limitePsiquica=.5,OD.costeCV=20,OD.proyeccionPsiquica=3,OD.atleticas=2,OD.sociales=1,OD.perceptivas=2,OD.intelectuales=2,OD.vigor=2,OD.subterfugio=2,OD.creativas=2,OD.costesReducidos=[new Cf(ps,1,!0,Ck)],OD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:ND}),new y(sq,ar,5,"",!0,Iq,Fq,{categoriaPersonaje:ND}),new y(sq,Mr,10,"",!0,Iq,Fq,{categoriaPersonaje:ND}),new y(sq,ps,10,"",!0,Iq,Fq,{categoriaPersonaje:ND}),new y(sq,rs,10,"",!0,Iq,Fq,{categoriaPersonaje:ND}),new y(sq,Lr,5,"",!0,Iq,Fq,{categoriaPersonaje:ND}),new y(sq,Or,5,"",!0,Iq,Fq,{categoriaPersonaje:ND})],aD.push(OD);
var PD="Sombra",QD=new Bf(PD);QD.descripcion="",QD.arquetipo=rl,QD.multiploDeVida=20,QD.pvPorNivel=5,QD.turnoPorNivel=10,QD.CMPorNivel=25,QD.nivelesParaCV=3,QD.limiteCombate=.6,QD.habAtaque=2,QD.habParada=3,QD.habEsquiva=2,QD.habArmadura=2,QD.ki=2,QD.acumulacionKi=20,QD.limiteSobrenatural=.5,QD.zeon=3,QD.costeACT=70,QD.proyeccionMagica=3,QD.convocar=3,QD.dominar=3,QD.atar=3,QD.desconvocar=3,QD.limitePsiquica=.5,QD.costeCV=20,QD.proyeccionPsiquica=3,QD.atleticas=2,QD.sociales=2,QD.perceptivas=2,QD.intelectuales=3,QD.vigor=2,QD.subterfugio=2,QD.creativas=2,QD.costesReducidos=[],QD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:PD}),new y(sq,_q,5,"",!0,Iq,Fq,{categoriaPersonaje:PD}),new y(sq,$r,10,"",!0,Iq,Fq,{categoriaPersonaje:PD}),new y(sq,_r,10,"",!0,Iq,Fq,{categoriaPersonaje:PD}),new y(sq,Tr,10,"",!0,Iq,Fq,{categoriaPersonaje:PD}),new y(sq,Vr,10,"",!0,Iq,Fq,{categoriaPersonaje:PD}),new y(Cq,Ru,5,"",!0,Iq,Fq,{categoriaPersonaje:PD})],aD.push(QD);var RD="Tao",SD=new Bf(RD),TD="artes marciales a medio coste";SD.descripcion="",SD.arquetipo=ql,SD.multiploDeVida=20,SD.pvPorNivel=10,SD.turnoPorNivel=5,SD.CMPorNivel=30,SD.nivelesParaCV=3,SD.limiteCombate=.6,SD.habAtaque=2,SD.habParada=2,SD.habEsquiva=2,SD.habArmadura=2,SD.ki=2,SD.acumulacionKi=15,SD.limiteSobrenatural=.5,SD.zeon=3,SD.costeACT=70,SD.proyeccionMagica=3,SD.convocar=3,SD.dominar=3,SD.atar=3,SD.desconvocar=3,SD.limitePsiquica=.5,SD.costeCV=20,SD.proyeccionPsiquica=3,SD.atleticas=2,SD.sociales=2,SD.perceptivas=2,SD.intelectuales=3,SD.vigor=2,SD.subterfugio=2,SD.creativas=2,SD.costesReducidos=[],SD.bonosInnatos=[new y(sq,Lr,5,"",!0,Iq,Fq,{categoriaPersonaje:RD}),new y(TD,TD,0,"",!0,Iq,Fq,{categoriaPersonaje:RD})],aD.push(SD);var UD="Tecnicista",VD=new Bf(UD);VD.descripcion="",VD.arquetipo=ol,VD.multiploDeVida=20,VD.pvPorNivel=5,VD.turnoPorNivel=5,VD.CMPorNivel=50,VD.nivelesParaCV=3,VD.limiteCombate=.6,VD.habAtaque=2,VD.habParada=2,VD.habEsquiva=2,VD.habArmadura=2,VD.ki=1,VD.acumulacionKi=10,VD.limiteSobrenatural=.5,VD.zeon=3,VD.costeACT=70,VD.proyeccionMagica=3,VD.convocar=3,VD.dominar=3,VD.atar=3,VD.desconvocar=3,VD.limitePsiquica=.5,VD.costeCV=20,VD.proyeccionPsiquica=3,VD.atleticas=2,VD.sociales=2,VD.perceptivas=2,VD.intelectuales=3,VD.vigor=2,VD.subterfugio=2,VD.creativas=2,VD.costesReducidos=[],VD.bonosInnatos=[new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:UD})],aD.push(VD);var WD="Warlock",XD=new Bf(WD);XD.descripcion="",XD.arquetipo=ul,XD.multiploDeVida=20,XD.pvPorNivel=10,XD.turnoPorNivel=5,XD.CMPorNivel=20,XD.nivelesParaCV=3,XD.limiteCombate=.5,XD.habAtaque=2,XD.habParada=2,XD.habEsquiva=2,XD.habArmadura=2,XD.ki=2,XD.acumulacionKi=25,XD.limiteSobrenatural=.5,XD.zeon=1,XD.costeACT=50,XD.proyeccionMagica=2,XD.convocar=2,XD.dominar=2,XD.atar=2,XD.desconvocar=2,XD.limitePsiquica=.5,XD.costeCV=20,XD.proyeccionPsiquica=3,XD.atleticas=2,XD.sociales=2,XD.perceptivas=2,XD.intelectuales=2,XD.vigor=2,XD.subterfugio=2,XD.creativas=2,XD.costesReducidos=[],XD.bonosInnatos=[new y(sq,qr,20,"",!0,Iq,Fq,{categoriaPersonaje:WD}),new y(sq,Zq,5,"",!0,Iq,Fq,{categoriaPersonaje:WD}),new y(sq,$q,5,"",!0,Iq,Fq,{categoriaPersonaje:WD}),new y(sq,_q,5,"",!0,Iq,Fq,{categoriaPersonaje:WD}),new y(sq,ms,5,"",!0,Iq,Fq,{categoriaPersonaje:WD})],aD.push(XD),Hf.prototype={constructor:Hf,toString:function(){return this.nombre+" ("+this.getStringCategoria()+", "+this.raza+")"},getStringCategoria:function(){for(var a="",b="",c=0,d=0,e=1;e<=this.nivel;e++)(this.categoriasPorNiveles[e].toString()!=b||0==d)&&(1==d?a+=b+" "+c:d>1&&(a+="/"+b+" "+c),b=this.categoriasPorNiveles[e].toString(),d++,c=0),c++;return 1==d?a+=b+" "+c:d>1&&(a+="/"+b+" "+c),a},getNombre:function(){return this.nombre},setNombre:function(a){this.nombre=a,u(tn)},getSexo:function(){return this.sexo},setSexo:function(a){this.sexo=a,u(tn)},getPeso:function(){return""+this.peso},setPeso:function(a){this.peso=a,u(tn)},getAltura:function(){return""+this.altura},setAltura:function(a){this.altura=a,u(tn)},getCaracteristica:function(a){return this.caracteristicas[d(a)]},setCaracteristica:function(a,b){var c=parseInt(b);if(!(c>0&&Ak>=c))throw dl;this.caracteristicas[d(a)]=c,u(vn),this.updateBonoyBases()},getBonoCaracteristica:function(a){var b=this.getCaracteristica(a);return f(b)},getPuntosCansancio:function(){return this.puntosCansancio},setPuntosCansancio:function(a){this.puntosCansancio=a,u(un)},addPuntosCansancio:function(a){this.setPuntosCansancio(this.getPuntosCansancio()+a)},getTipoMovimiento:function(){return this.tipoMovimiento},getRegeneracionBase:function(){return this.regeneracionBase()},getApariencia:function(){return this.apariencia},setApariencia:function(a){this.apariencia=a,a>=7?this.setFlag(Ql):this.removeFlag(Ql),u(un)},getTamaño:function(){return this.tamaño},setTamaño:function(a){this.tamaño=a,u(un)},addTamaño:function(a){this.setTamaño(this.getTamaño()+a)},updateCapacidadesFisicas:function(a){this.tipoMovimiento=this.getCaracteristica(Gk),this.puntosCansancio=this.getCaracteristica(Hk),this.regeneracion=this.regeneracionBase(),a&&u(un)},regeneracionBase:function(){var a;switch(parseInt(this.getCaracteristica(Hk))){case 1:case 2:a=0;break;case 3:case 4:case 5:case 6:case 7:a=1;break;case 8:case 9:a=2;break;case 10:a=3;break;case 11:a=4;break;case 12:a=5;break;case 13:a=6;break;case 14:a=7;break;case 15:a=8;break;case 16:a=9;break;case 17:a=10;break;case 18:a=11;break;case 19:case 20:a=12}return a},updateBonosTurnoCarac:function(a){var b=new y(tq,tq,this.getBonoCaracteristica(Fk),"",!1,Jq,Nk);this.addBono(b,!0,!1);var c=new y(tq,tq,this.getBonoCaracteristica(Gk),"",!1,Jq,Ok);this.addBono(c,!0,!1),a&&u(un)},updateBonosResistenciasCarac:function(a){var b=new y(yq,nq,this.getBonoCaracteristica(Hk),"",!1,Jq,Pk);this.addBono(b,!0,!1);var c=new y(yq,oq,this.getBonoCaracteristica(Hk),"",!1,Jq,Pk);this.addBono(c,!0,!1);var d=new y(yq,pq,this.getBonoCaracteristica(Hk),"",!1,Jq,Pk);this.addBono(d,!0,!1);var e=new y(yq,qq,this.getBonoCaracteristica(Jk),"",!1,Jq,Rk);this.addBono(e,!0,!1);var f=new y(yq,rq,this.getBonoCaracteristica(Kk),"",!1,Jq,Sk);this.addBono(f,!0,!1),a&&u(zn)},getPv:function(){return this.pv},updateMultiplosVida:function(a){var b=this[Br].valorBase(this.getCostePV())*this.getCaracteristica(Hk),c=new y(zq,zq,b,"",!1,Kq,wl);this.addBono(c,!0,!1),a&&u(un)},pvBase:function(){var a;switch(parseInt(this.getCaracteristica(Hk))){case 1:a=5;break;case 2:a=20;break;case 3:a=40;break;case 4:a=55;break;case 5:a=70;break;case 6:a=85;break;case 7:a=95;break;case 8:a=110;break;case 9:a=120;break;case 10:a=135;break;case 11:a=150;break;case 12:a=160;break;case 13:a=175;break;case 14:a=185;break;case 15:a=200;break;case 16:a=215;break;case 17:a=225;break;case 18:a=240;break;case 19:a=250;break;case 20:a=265}return a},getCostePV:function(){return this.categoria.multiploDeVida},getRaza:function(){return this.raza},setRaza:function(a){var b;for(this.eliminarElementosPCPorCampo("origen",Cv),this.raza=a,b=0;b<a.ventajas.length;b++)this.addVentaja(a.ventajas[b],0,"",Cv,!0,new Wc,!1);for(b=0;b<a.desventajas.length;b++)this.addVentaja(a.desventajas[b],0,"",Cv,!1,new Wc,!1);this.ordenarElementosPC(),u(tn)},getCategoria:function(){return this.categoria},getCategoriaPorNivel:function(a){if(a<=this.nivel)return this.categoriasPorNiveles[a];throw QF},getNivelesDeCategoriaHastaNivel:function(a,b){for(var c=0,d=1;b>=d;d++)this.categoriasPorNiveles[d].getNombre()==a&&c++;return c},esCategoriaPrevia:function(a){for(var b=!1,c=0;c<=this.nivelGeneracionTerminada;c++)if(this.categoriasPorNiveles[c].getNombre()==a){b=!0;break}return b},setCategoria:function(a){if(this.esCategoriaPrevia(this.categoria.getNombre())||(this.bonos=m(this.bonos,"origen",Fq)),!this.esCategoriaPrevia(a.getNombre())){var b=new y(zq,zq,a.pvPorNivel,"",!0,Lq,Fq,{categoriaPersonaje:a.getNombre()});this.addBono(b,!1,!1);var c=new y(tq,tq,a.turnoPorNivel,"",!0,Lq,Fq,{categoriaPersonaje:a.getNombre()});this.addBono(c,!1,!1);var d=new y(Bq,Bq,a.CMPorNivel,"",!0,Lq,Fq,{categoriaPersonaje:a.getNombre()});this.addBono(d,!1,!1);for(var e=a.getBonosInnatos(),f=0;f<e.length;f++)this.addBono(e[f],!1,!1)}for(this.ajustarCambiosPDPorCambiosCategoria(a),f=this.nivelGeneracionTerminada+1;f<=this.nivel;f++)this.categoriasPorNiveles[f]=a;this.categoria=a,this.categoria.getNombre()==DD?(this.esCategoriaPrevia(DD)||(this.bonoNovel=[]),this.bonoNovel[this.nivel]=["","","","",""]):this.esCategoriaPrevia(DD)||delete this.bonoNovel,this.updateNivelesPDHabilidades(),u(Fn),u(un),u(vn),u(An),u(wn),u(yn),u(En),u(Bn),u(Cn),u(tn),u(Dn),u(zn),u(Gn),u(xn)},getArmadura:function(a){return this.armaduraNatural.getTA(a)},getArmaduraNatural:function(){return this.armaduraNatural},setArmaduraNatural:function(a){this.armaduraNatural=new Jf(YD,a,!0),u(An)},addCapaArmadura:function(a){this.capasArmadura.push(a),u(An)},addElan:function(a){this.elan.push(a),u(En)},removeElan:function(a){var b,c,d,e=[];for(b=0;b<this.elan.length;b++)if(this.elan[b].getNombre()!=a)e.push(this.elan[b]);else{var f=this.elan[b].getDones();for(d=0;d<f.length;d++){var g=f[d].getVentajasConcedidas();for(c=0;c<g.length;c++){var h=ad(g[c]);this.removeVentaja(new Xc(h,0,"",Ev))}}}this.elan=e,u(En)},addDonElan:function(a,b){var c;for(c=0;c<this.elan.length;c++)this.elan[c].nombre==a&&(this.elan[c].addDon(b),this.elan[c].sincGastada+=b.coste);for(c=0;c<b.ventajasConcedidas.length;c++){var d=ad(b.ventajasConcedidas[c]);d.getElegir().length>0?zf(d):this.addVentaja(d,0,"",Ev,!0,new Wc,!1)}this.ordenarElementosPC(),u(En)},getSincronizacionElan:function(a){for(var b=0;b<this.elan.length;b++)if(this.elan[b].getNombre()==a)return this.elan[b].getSincronizacion();return 0},addSincronizacionElan:function(a,b){for(var c=0;c<this.elan.length;c++)if(this.elan[c].getNombre()==a){this.elan[c].addSincronizacion(b),u(En);break}},getElan:function(){return this.elan},nivelMagiaMaximo:function(){return this.hasFlag(Bl)?bb(this.getCaracteristica(Ik)):0},getNivelMaximoViaMagia:function(){return this.gnosis>40?100:this.gnosis>=25?90:80},getNivelMagiaGastado:function(){return this.nivelMagiaGastado},getNivelMagiaGastadoPrevio:function(){return this.nivelMagiaGastadoPrevio},addNivelMagiaGastado:function(a){if(!(this.nivelMagiaGastado+a>=this.nivelMagiaGastadoPrevio))throw JF;this.nivelMagiaGastado+=a,u(Cn)},getViasMagia:function(){return this.viasMagia},removeViaMagia:function(a){for(var b=[],c=!1,d="",e=0;e<this.viasMagia.length;e++)if(this.viasMagia[e].getVia().getNombre()!=a)b.push(this.viasMagia[e]),b[this.viasMagia[e].getVia().getNombre()]=this.viasMagia[e],c&&(d==et||d==this.viasMagia[e].getVia().getNombre()?this.addNivelMagiaGastado(-1*this.viasMagia[e].getNivel()):this.viasMagia[e].getVia().getOpuestas()==et&&1==e&&this.addNivelMagiaGastado(-1*this.viasMagia[e].getNivel()));else{if(!this.viasMagia[e].isAnulable())return;d=this.viasMagia[e].getVia().getOpuestas(),c=!0,delete this.viasMagia[a]}this.viasMagia=b,u(Cn)},addNivelVia:function(a,b){if(this.hasVia(a))this.viasMagia[a].addNivel(b),0==this.viasMagia[a].getNivel()&&this.removeViaMagia(a);else{var c=ab(a),d=new X(c,b);this.viasMagia.push(d),this.viasMagia[a]=d}u(Cn)},getNivelMinimoVia:function(a){var b=0;return this.hasVia(a)&&(b=this[a].getNivelMinimoVia()),b},setNivelMinimoVia:function(a,b){this.hasVia(a)&&this.viasMagia[a].setNivelMinimo(b)},hasVia:function(a){return this.viasMagia[a]!=c},getCosteVia:function(a){if(this.hasFlag(Zl))return 1;if(0==this.viasMagia.length)return 1;if(a==ct&&this.viasMagia[0].getVia().getNombre()!=a)return 2;for(var b=0;b<this.viasMagia.length;b++){if(this.viasMagia[b].getVia().getNombre()==a)return 1;if(this.viasMagia[b].getVia().getOpuestas()==a||this.viasMagia[b].getVia().getOpuestas()==et)return 2}return 1},getIntAprenderConjuros:function(){for(var a=this.getCaracteristica(Ik),b=this.getBonos(Dq,"",Nq),c=0;c<b.length;c++)a+=b[c].getBonoParaNivel(this.nivel,SE);return a},getZeonMagiaInnata:function(){for(var a=cb(this[rr].valorFinalActual()),b=this.getBonos(Eq,"",Nq),c=0;c<b.length;c++)a+=b[c].getBonoParaNivel(this.nivel,SE);return a},addLibreAcceso:function(a,b,c){if(this.hasFlag(Dl))throw"No puede aprender libre acceso por Lazo Existencial";var d=hb(c,b);if(!this.hasVia(a))throw"Via desconocida";if(!(this.viasMagia[a].getNivel()>=b))throw"Nivel en vía insuficiente";this.viasMagia[a].addConjuroLibre(d,b),u(Cn)},addConjuroSuelto:function(a){if(this.hasFlag(Dl))throw"No puede aprender conjuro suelto por Lazo Existencial";var b=Z(a.getNivel());if(!(this.nivelMagiaMaximo()-this.getNivelMagiaGastado()>=b))throw"Niveles de via insuficientes";this.conjurosSueltos.push(a),this.addNivelMagiaGastado(b),u(Cn)},getConjurosSueltos:function(){return this.conjurosSueltos},dispatchAvisoPorBono:function(a){switch(a.getTipo()){case sq:u(An),u(Cn),u(Dn),u(Bn),u(Gn);break;case Bq:case Cq:u(Bn);break;case uq:case wq:case vq:u(An);break;case tq:case zq:case xq:case Aq:u(un);break;case yq:u(zn);break;case Eq:case Dq:u(Cn)}},addBono:function(a,b,d){b=b||!1,d==c&&(d=!0);for(var e=!1,f=0;f<this.bonos.length;f++)if(a.getTipo()==this.bonos[f].getTipo()&&a.getItem()==this.bonos[f].getItem()&&a.getOpcion()==this.bonos[f].getOpcion()&&a.getOrigen()==this.bonos[f].getOrigen()&&a.getCategoria()==this.bonos[f].getCategoria()){b&&(this.bonos[f]=a,d&&this.dispatchAvisoPorBono(a)),e=!0;break}e||(this.bonos.push(a),d&&this.dispatchAvisoPorBono(a))},removeBono:function(a,b){for(var c=[],d=0;d<this.bonos.length;d++)a.getTipo()==this.bonos[d].getTipo()&&a.getItem()==this.bonos[d].getItem()&&a.getOpcion()==this.bonos[d].getOpcion()&&a.getOrigen()==this.bonos[d].getOrigen()&&a.getCategoria()==this.bonos[d].getCategoria()&&a.isPorNivel()==this.bonos[d].isPorNivel()?b&&this.dispatchAvisoPorBono(this.bonos[d]):c.push(this.bonos[d]);this.bonos=c},getBonos:function(a,b,c){var d,e,f=[],g=a==sq;g&&(d=this.getHabilidadDePersonaje(b),e=d.getTipo());for(var h=0;h<this.bonos.length;h++){var i=this.bonos[h];(i.tipo==a&&i.item==b||g&&i.tipo==a&&i.item==e)&&(c==Nq||i.getCategoria()==c)&&f.push(i)}if(g&&!this.hasFlag(Yl)&&d.getMultiploBonificadorNatural()>0){var j=new y(sq,d.nombre,d.multiploBonificadorNatural*SE.getBonoCaracteristica(d.getCaracteristica()),"",!1,Mq,Hq);f.push(j)}return f},removeCosteReducido:function(a,b){for(var c=[],d=0;d<this.costesReducidos.length;d++){var e=this.costesReducidos[d];(e.getNombre()!=a||e.getCoste()!=b)&&c.push(e)}this.costesReducidos=c,u(Gn),u(wn)},getCostesReducidos:function(){return this.costesReducidos},addCosteReducido:function(a){this.costesReducidos.push(a);var b=!1;Hn?w():b=!0,this.updateNivelesPDHabilidades(),b||v(),u(Gn),u(wn)},addBonificadorNatural:function(a,b,c){var d=this.bonificadoresNaturales[c],e=d[b];""!=e&&this.getHabilidadDePersonaje(e).addMultiploBonificadorNatural(-1),this.getHabilidadDePersonaje(a).addMultiploBonificadorNatural(1),b==Em?this.bonificadoresNaturales[c].setFisico(a):b==Fm?this.bonificadoresNaturales[c].setMental(a):this.bonificadoresNaturales[c].setExtra(a),u(Gn)},getBonificadorNatural:function(a,b){return a==Em?this.bonificadoresNaturales[b].getFisico():a==Fm?this.bonificadoresNaturales[b].getMental():this.bonificadoresNaturales[b].getExtra()},addBonoHabilidadNatural:function(a,b){for(var c=!1,d=0;d<this.bonos.length;d++)if(a.getTipo()==this.bonos[d].getTipo()&&a.getOrigen()==this.bonos[d].getOrigen()&&a.getCategoria()==this.bonos[d].getCategoria()&&b==this.bonos[d].indice&&this.nivel==this.bonos[d].nivel){this.bonos[d]=a,u(Gn),c=!0;break}c||(this.bonos.push(a),u(Gn))},getBonoHabilidadNatural:function(a,b){for(var c=0;c<this.bonos.length;c++)if(this.bonos[c].getCategoria()==Mq&&this.bonos[c].indice==a&&b==this.bonos[c].nivel)return this.bonos[c];return-1},getBonoNovel:function(a,b){return this.bonoNovel[b][a]},getPDLibres:function(){return this.PD_libres},getPDTotales:function(){return this.PD_totales},addPDLibres:function(a){this.setPDLibres(this.getPDLibres()+a)},setPDLibres:function(a){this.PD_libres=a,u(wn)},getPCLibres:function(){return this.PC_libres_generales+this.getAumentosCaracteristicasLibres()},getPCTotales:function(){return this.PC_generales+this.PC_don+this.PC_psiquicas},updatePC:function(){var a;this.PC_don=0,this.PC_psiquicas=0,this.PC_generales=3;var b=!1;for(Hn&&(b=!0,w()),this.liberaAumentos("PC"),a=0;a<this.desventajas.length;a++)this.desventajas[a].getVentaja().getGrupo()==Iv?this.PC_don-=this.desventajas[a].getPc():this.desventajas[a].getVentaja().getGrupo()==Jv?this.PC_psiquicas-=this.desventajas[a].getPc():this.desventajas[a].getVentaja().getGrupo()!=Mv&&(this.PC_generales-=this.desventajas[a].getPc());for(this.PC_libres_don=this.PC_don,this.PC_libres_psiquicas=this.PC_psiquicas,this.PC_libres_generales=this.PC_generales,a=0;a<this.ventajas.length;a++)this.ventajas[a].getVentaja().getGrupo()!=Iv||this.ventajas[a].getVentaja().isBasica?this.ventajas[a].getVentaja().getGrupo()!=Jv||this.ventajas[a].getVentaja().isBasica?this.ventajas[a].getVentaja().getGrupo()!=Mv&&(this.PC_libres_generales-=this.ventajas[a].getPc()):this.PC_libres_psiquicas-=this.ventajas[a].getPc():this.PC_libres_don-=this.ventajas[a].getPc();if(this.PC_libres_don<0&&(this.PC_libres_generales+=this.PC_libres_don,this.PC_libres_don=0),this.PC_libres_psiquicas<0&&(this.PC_libres_generales+=this.PC_libres_psiquicas,this.PC_libres_psiquicas=0),this.PC_libres_generales<0){var c=0-this.PC_libres_generales;this.PC_libres_generales=0}if(c>0)for(a=0;c>a;a++)this.gastaAumentoDeCaracteristicas("PC");b&&v(),u(wn)},getAumentosCaracteristicasLibres:function(){for(var a=0,b=0;b<this.aumentosCaracteristicas.length;b++)this.aumentosCaracteristicas[b].isLibre()&&a++;return a},aumentoGastadoEn:function(a){for(var b=!1,c=0;c<this.aumentosCaracteristicas.length;c++)if(this.aumentosCaracteristicas[c].gastadoEnCaracteristica(a)){b=!0;break}return b},gastaAumentoDeCaracteristicas:function(a){if(this.getAumentosCaracteristicasLibres()>0)for(var b=0;b<this.aumentosCaracteristicas.length;b++)if(this.aumentosCaracteristicas[b].isLibre()){this.aumentosCaracteristicas[b].gasta(a);break}u(wn)},liberaAumentos:function(a){for(var b=0;b<this.aumentosCaracteristicas.length;b++)this.aumentosCaracteristicas[b].getUso()==a&&this.aumentosCaracteristicas[b].isAnulable()&&this.aumentosCaracteristicas[b].libera();u(wn)},recuperaAumentoDeCaracteristicas:function(a){for(var b=!1,c=0;c<this.aumentosCaracteristicas.length;c++)if(this.aumentosCaracteristicas[c].getUso()==a&&this.aumentosCaracteristicas[c].isAnulable()){this.aumentosCaracteristicas[c].libera(),b=!0;break}return u(wn),b},hasAumentoDeCaracteristicasLibre:function(){return this.getAumentosCaracteristicasLibres()>0},getPC:function(a){return a=a||"PC_libres_generales",this[a]},setPC:function(a,b){b=b||"PC_libres_generales",this[b]=a,u(wn)},getPX:function(){return this.px},setPX:function(a){this.px=a,u(wn)},addPX:function(a){this.setPX(this.getPX()+a)},getNivelGeneracionTerminada:function(){return this.nivelGeneracionTerminada},subeNivel:function(a){if(a>0){var b;for(this.cambioCategoria&&this.nivel+a>=this.cambioCategoria&&(a=this.cambioCategoria-this.nivel,this.setCategoria(this.proximaCategoria),this.cambioCategoria=!1),this.PD_libresPrevios=this.PD_libres,this.PD_libres+=100*a,this.PD_totales+=100*a,b=this.nivel+1;b<=this.nivel+a;b++)b%2==0&&this.aumentosCaracteristicas.push(new Kf),this.bonificadoresNaturales[b]=new z,this.bonoNovel&&this.categoria.getNombre()==DD&&(this.bonoNovel[b]=["","","","",""]),this.categoriasPorNiveles[b]=this.categoria;for(b=0;b<this.caracteristicas.length;b++)this.caracteristicasPrevias[b]=this.caracteristicas[b];for(b=0;b<this.aumentosCaracteristicas.length;b++)this.aumentosCaracteristicas[b].isAnulable()&&this.caracteristicasPrevias[b].fija();for(b=0;b<this.viasMagia.length;b++)this.viasMagia[b].setNivelMinimo(this.viasMagia[b].getNivel()),this.viasMagia[b].setAnulable(!1);for(this.nivelMagiaGastadoPrevio=this.nivelMagiaGastado,b=0;b<this.allHabilidades.length;b++)this.allHabilidades[b].subirNivel();for(b=0;b<this.ventajas.length;b++)this.ventajas[b].setAnulable(!1);for(b=0;b<this.desventajas.length;b++)this.desventajas[b].setAnulable(!1);for(b=0;b<this.tablasArmas.length;b++)this.tablasArmas[b].setAnulable(!1);for(b=0;b<this.habilidadesKi.length;b++)this.habilidadesKi[b].setAnulable(!1);for(b=0;b<this.tecnicasKi.length;b++)this.tecnicasKi[b].setAnulable(!1);for(b=0;b<this.artesMarciales.length;b++)this.artesMarciales[b].setAnulable(!1);this.nivelGeneracionTerminada=this.nivel,this.nivel+=a,this.GENERACION_INICIADA=pF,u(wn),u(Fn),u(un),u(vn),u(An),u(yn),u(En),u(Bn),u(Cn),u(tn),u(Dn),u(zn),u(Gn),u(xn)}},getNivel:function(){return this.nivel},addProhibido:function(a){for(var b=!1,c=0;c<this.prohibidos.length;c++)this.prohibidos[c].getNombre()==a.getNombre()&&this.prohibidos[c].getTipo()==a.getTipo()&&this.prohibidos[c].getOpcion()==a.getOpcion()&&(this.prohibidos[c].cierraCandado(),b=!0);b||(a.setCandados(1),this.prohibidos.push(a))},eliminarElementosPCPorCampo:function(a,b){this.ventajas=m(this.ventajas,a,b,this.anularVentaja,this),this.desventajas=m(this.desventajas,a,b,this.anularVentaja,this),u(xn),u(yn)},eliminaProhibido:function(a){for(var b=[],c=0;c<this.prohibidos.length;c++)this.prohibidos[c].getNombre()==a.getNombre()&&this.prohibidos[c].getTipo()==a.getTipo()&&this.prohibidos[c].getOpcion()==a.getOpcion()?(this.prohibidos[c].abreCandado(),this.prohibidos[c].getCandados()>0&&b.push(this.prohibidos[c])):b.push(this.prohibidos[c]);this.prohibidos=b},puedeComprar:function(a,b){var d=!0;a.getRepetible()==nv?d=!1:a.getRepetible()==mv&&this.hasVentaja(a)?d=!1:b!=c&&a.getRepetible()==lv&&this.hasVentaja(a,b)&&(d=!1),a.getGrupo()!=Iv||a.isBasica?a.getGrupo()!=Jv||a.isBasica||SE.hasFlag(El)||(d=!1):SE.hasFlag(Bl)||(d=!1);for(var e=0;e<this.prohibidos.length;e++){var f=this.prohibidos[e];f.getTipo()==jv&&f.getNombre()==a.getNombre()&&(f.getOpcion()==c?d=!1:b==f.getOpcion()&&(d=!1))}return d},hasVentaja:function(a,b){if(b!=c){var d;return a.getNombre()in this.ventajas?d=this.ventajas[a.getNombre()]:a.getNombre()in this.desventajas&&(d=this.desventajas[a.getNombre()]),d==c?!1:d.getOpcion()==b}return a.getNombre()in this.ventajas||a.getNombre()in this.desventajas},removeVentaja:function(a){var b,c=[],d=!1,e="";for(b=0;b<this.ventajas.length;b++){var f=this.ventajas[b];f.getVentaja()==a.getVentaja()&&f.pc==a.pc&&f.getOpcion()==a.getOpcion()&&f.getOrigen()==a.getOrigen()?(delete this.ventajas[a.getVentaja().getNombre()],d=!0,e=f):c.push(f)}this.ventajas=c,d&&this.anularVentaja(e);var g=[];for(d=!1,e="",b=0;b<this.desventajas.length;b++){var h=this.desventajas[b];h.getVentaja()==a.getVentaja()&&h.getPc()==a.getPc()&&h.getOpcion()==a.getOpcion()&&h.getOrigen()==a.getOrigen()?(delete this.desventajas[a.getVentaja().getNombre()],d=!0,e=h):g.push(h)}this.desventajas=g,d&&this.anularVentaja(e),u(yn),u(xn)},anularVentajasPorFlag:function(a){var b,c,d;for(c=0;c<this.ventajas.length;c++)for(b=this.ventajas[c].getVentaja().getFlagsNecesarios(),d=0;d<b.length;d++)b[d]==a&&(this.anularVentaja(this.ventajas[c]),c--);for(c=0;c<this.desventajas.length;c++)for(b=this.desventajas[c].getVentaja().getFlagsNecesarios(),d=0;d<b.length;d++)b[d]==a&&(this.anularVentaja(this.desventajas[c]),c--)},aplicarVentaja:function(a,b,c){for(var d=a.getDelegadoVentaja(),e=a.getIncompatibles(),f=0;f<e.length;f++)this.addProhibido(e[f]);1==d.length?d[0](b,c,!0):2==d.length?d[0](b,c,!0,d[1]):3==d.length&&d[0](b,c,!0,d[1],d[2]),this.updatePC()},anularVentaja:function(a){for(var b=a.getVentaja().getDelegadoVentaja(),c=a.getVentaja().getIncompatibles(),d=0;d<c.length;d++)this.eliminaProhibido(c[d]);1==b.length?b[0](a.getPc(),a.getOpcion(),!1):2==b.length?b[0](a.getPc(),a.getOpcion(),!1,b[1]):3==b.length&&b[0](a.getPc(),a.getOpcion(),!1,b[1],b[2]),this.updatePC(),u(wn)},addVentaja:function(a,b,c,d,e,f,g){var h=new Xc(a,b,c,d);h.setRepartoCostes(f),e?(this.ventajas.push(h),this.ventajas[a.getNombre()]=h,g&&this.ordenarElementosPC(),u(xn)):(this.desventajas.push(h),this.desventajas[a.getNombre()]=h,g&&this.ordenarElementosPC(),u(yn)),this.aplicarVentaja(a,b,c)},ordenarElementosPC:function(){this.ventajas.sort($c),this.desventajas.sort($c)},getVentajas:function(){return this.ventajas},getDesventajas:function(){return this.desventajas},addArteMarcial:function(a){for(var b=of(a),c=b.getBonos(),d=0;d<c.length;d++)this.addBono(c[d],!1,!0);this.addBono(new y(Bq,Bq,b.getBonoCM(),"",!1,Iq,b.getNombre()),!1,!1),this.artesMarciales.push(new nf(b)),u(Fn),u(Bn)},removeArteMarcial:function(a){var b,c=of(a),d=c.getBonos();for(b=0;b<d.length;b++)this.removeBono(d[b],!0);this.removeBono(new y(Bq,Bq,c.getBonoCM(),"",!1,Iq,c.getNombre()),!0);var e=[];for(b=0;b<this.artesMarciales.length;b++)this.artesMarciales[b].getNombre()!=a&&e.push(this.artesMarciales[b]);this.artesMarciales=e,u(Fn),u(Bn)},hasArteMarcial:function(a){for(var b=0;b<this.artesMarciales.length;b++)if(this.artesMarciales[b].getNombre()==a)return!0;return!1},getArtesMarciales:function(){return this.artesMarciales},numArtesMarciales:function(){return this.artesMarciales.length},maxArtesMarciales:function(){var a=this[Zq].valorFinalActual(),b=this[$q].valorFinalActual(),c=this[_q].valorFinalActual();return a+=b>c?b:c,0>a&&(a=0),Math.floor(a/Bk)},puedeComprarNuevaArteMarcial:function(){return new r(this.numArtesMarciales()<this.maxArtesMarciales(),iF)},hasArmaManejada:function(a){for(var b=0;b<this.manejoArmas.length;b++)if(this.manejoArmas[b].getNombre()==a)return!0;return!1},removeArmaManejada:function(a){for(var b=[],c=0;c<this.manejoArmas.length;c++)this.manejoArmas[c].getNombre()!=a&&b.push(this.manejoArmas[c]);this.manejoArmas=b,u(An)},comprobarCambiosPDArmaInicial:function(a,b){b==hx&&a!=hx?this.artesMarciales.length>0&&(this.PD_libres+=pf(!0),u(wn)):b!=hx&&a==hx&&this.artesMarciales.length>0&&(this.PD_libres-=pf(!0),u(wn))},addArmaManejada:function(a,b){if(b){this.armaInicial!=c&&this.removeArmaManejada(this.armaInicial),this.manejoArmas.push(Ye(a));var d=this.armaInicial;this.armaInicial=a,this.comprobarCambiosPDArmaInicial(d,a)}else this.hasArmaManejada(a)||this.manejoArmas.push(Ye(a));u(An)},getTiposArmasConocidos:function(a){for(var b=[],c=0;c<this.manejoArmas.length;c++){var d=[];a?d=this.manejoArmas[c].getCategorias():d[0]=this.manejoArmas[c].getCategoria();for(var e=!1,f=0;f<d.length;f++){for(var g=0;g<b.length;g++)if(b[g]==d[f]){e=!0;break}e||b.push(d[f])}}return b},addTablaArmas:function(a){var b,c,d=hf(a);switch(d.getTipoTabla()){case jz:break;case kz:for(c=d.getOpciones(),b=0;b<c.length;b++){var e=c[b];this.addTipoArmaManejada(e)}break;case mz:for(c=d.getOpciones(),b=0;b<c.length;b++){var f=c[b];this.addArmaManejada(f,!1)}break;case lz:}this.tablasArmas.push(new gf(d,"")),u(An)},addTablaArmasEspecial:function(a,b){var c=new gf(hf(a),b);c.getOpciones()[0]==nz||c.getOpciones()[0]==oz||c.getOpciones()[0]==pz?this.addArmaManejada(b,!1):c.getOpciones()[0]==qz&&this.addTipoArmaManejada(b),this.tablasArmas.push(c),u(An)},getTablaArmasComprada:function(a,b){for(var c=0;c<this.tablasArmas.length;c++)if(this.tablasArmas[c].getNombre()==a&&this.tablasArmas[c].getOpcion()==b)return this.tablasArmas[c];throw cz+": "+a+" ("+b+")"},removeTablaArmas:function(a,b){var c,d=this.getTablaArmasComprada(a,b);switch(d.getTipoTabla()){case jz:d.getOpciones()[0]==nz||d.getOpciones()[0]==oz||d.getOpciones()[0]==pz?this.removeArmaManejada(d.getOpcion()):d.getOpciones()[0]==qz&&this.removeTipoArmaManejada(d.getOpcion());break;case kz:for(c=0;c<d.getOpciones().length;c++){var e=d.getOpciones()[c];this.removeTipoArmaManejada(e)}break;case mz:for(c=0;c<d.getOpciones().length;c++){var f=d.getOpciones()[c];this.removeArmaManejada(f)}break;case lz:}var g=[];for(c=0;c<this.tablasArmas.length;c++)(this.tablasArmas[c].getNombre()!=d.getNombre()||this.tablasArmas[c].getOpcion()!=d.getOpcion())&&g.push(this.tablasArmas[c]);this.tablasArmas=g,u(An)},hasTablaArmas:function(a){for(var b=0;b<this.tablasArmas.length;b++)if(this.tablasArmas[b].getNombre()==a)return!0;return!1},hasTipoArmaManejada:function(a){for(var b=0;b<this.manejoTiposArmas.length;b++)if(this.manejoTiposArmas[b]==a)return!0;return!1},addTipoArmaManejada:function(a){this.hasTipoArmaManejada(a)||(this.manejoTiposArmas.push(a),u(An))},removeTipoArmaManejada:function(a){for(var b=[],c=0;c<this.manejoTiposArmas.length;c++)this.manejoTiposArmas[c]!=a&&b.push(a);this.manejoTiposArmas=b,u(An)},ajustarCambiosPDPorCambiosCategoria:function(a){var b,c=EB-FB,d=EB/2-FB/2;if(a.getNombre()==yD&&this.categoria.getNombre()!=yD)for(b=0;b<this.tablasArmas.length;b++)(this.tablasArmas[b].getCategoriaTabla()==dz||this.tablasArmas[b].getCategoriaTabla()==ez||this.tablasArmas[b].getCategoriaTabla()==fz)&&(this.PD_libres+=this.tablasArmas[b].tablaArmas.getCoste()/2,u(wn));else if(a.getNombre()!=yD&&this.categoria.getNombre()==yD)for(b=0;b<this.tablasArmas.length;b++)(this.tablasArmas[b].getCategoriaTabla()==dz||this.tablasArmas[b].getCategoriaTabla()==ez||this.tablasArmas[b].getCategoriaTabla()==fz)&&(this.PD_libres-this.tablasArmas[b].tablaArmas.getCoste()/2<0?(alert("Eliminada tabla de armas "+this.tablasArmas[b].getNombre()+" por PDs insuficientes"),this.removeTablaArmas(this.tablasArmas[b].getNombre(),this.tablasArmas[b].getOpcion())):(this.PD_libres-=this.tablasArmas[b].tablaArmas.getCoste()/2,u(wn)));else if(a.getNombre()==RD&&this.categoria.getNombre()!=RD){for(b=0;b<this.artesMarciales.length;b++)this.PD_libres+=0==b&&this.armaInicial==hx?d:c;u(wn)}else if(a.getNombre()!=RD&&this.categoria.getNombre()==RD)for(b=0;b<this.artesMarciales.length;b++)1==this.artesMarciales.length&&this.armaInicial==hx?this.PD_libres-d<0?(alert("Eliminada arte marcial "+this.artesMarciales[b].getNombre()+" por PDs insuficientes"),this.removeArteMarcial(this.artesMarciales[b].getNombre())):(this.PD_libres-=d,u(wn)):this.PD_libres-c<0?(alert("Eliminada arte marcial "+this.artesMarciales[b].getNombre()+" por PDs insuficientes"),this.removeArteMarcial(this.artesMarciales[b].getNombre())):(this.PD_libres-=c,u(wn))},updateKiInicial:function(a){this[er].setValorInicial(_b(this.getCaracteristica(Gk))),this[hr].setValorInicial(_b(this.getCaracteristica(Hk))),this[dr].setValorInicial(_b(this.getCaracteristica(Fk))),this[cr].setValorInicial(_b(this.getCaracteristica(Ek))),this[gr].setValorInicial(_b(this.getCaracteristica(Jk))),this[fr].setValorInicial(_b(this.getCaracteristica(Kk))),this[lr].setValorInicial(ac(this.getCaracteristica(Gk))),this[kr].setValorInicial(ac(this.getCaracteristica(Fk))),this[or].setValorInicial(ac(this.getCaracteristica(Hk))),this[jr].setValorInicial(ac(this.getCaracteristica(Ek))),this[nr].setValorInicial(ac(this.getCaracteristica(Jk))),this[mr].setValorInicial(ac(this.getCaracteristica(Kk))),a&&u(Bn)},addHabilidadKi:function(a,b,c){if(!this.hasHabilidadKi(a)){var d=new Ub(Wb(a),c,b);this.habilidadesKi.push(d),this.habilidadesKi[d.getNombre()]=d,d.getEfecto()(!0),u(Bn)}},removeHabilidadKi:function(a){if(this.hasHabilidadKi(a)){var b=!0;Hn&&(w(),b=!1);var c,d,e=this.getHabilidadKi(a),f=[];for(c=0;c<this.habilidadesKi.length;c++)this.habilidadesKi[c].getNombre()!=a?(f.push(this.habilidadesKi[c]),f[this.habilidadesKi[c].getNombre()]=this.habilidadesKi[c]):this.habilidadesKi[c].getEfecto()(!1);for(this.habilidadesKi=f,c=0;c<this.habilidadesKi.length;c++){var g=this.habilidadesKi[c].getRequisitos();for(d=0;d<g.length;d++)g[d]==e.getNombre()&&(this.addCMGastado(-1*this.habilidadesKi[c].getCosteCM()),this.removeHabilidadKi(this.habilidadesKi[c].getNombre()),c--)}b||v(),u(Bn)}},getHabilidadesKi:function(){return this.habilidadesKi},getTecnicasKi:function(){return this.tecnicasKi},getHabilidadKi:function(a){return this.habilidadesKi[a]},hasHabilidadKi:function(a){return this.habilidadesKi[a]!=c},addTecnicaKi:function(a){this.hasTecnicaKi(a.getNombre())||(this.tecnicasKi.push(new Vb(a)),this.numTecnicas["nivel"+a.getNivel()]++,u(Bn))},puedeComprarTecnicaKi:function(a){var b=!0;if(a.getCosteCM()>this.getCMTotal()-this.getCMGastado())b=!1;else if(this.hasFlag(Rl))if(this.hasTecnicaKi(a.getNombre()))b=!1;else{var c=a.getNivel();2==c?b=this.numTecnicas.nivel1>=2:3==c&&(b=this.numTecnicas.nivel2>=2)
}else b=!1;return b},removeTecnicaKi:function(a){this.hasTecnicaKi(a)&&(this.numTecnicas["nivel"+this.getTecnicaKi(a).getNivel()]--,this.tecnicasKi=n(this.tecnicasKi,o,a),u(Bn))},getTecnicaKi:function(a){for(var b=0;b<this.tecnicasKi.length;b++)if(this.tecnicasKi[b].getNombre()==a)return this.tecnicasKi[b];throw hu+": "+a},hasTecnicaKi:function(a){for(var b=0;b<this.tecnicasKi.length;b++)if(this.tecnicasKi[b].getNombre()==a)return!0;return!1},getCMTotal:function(){for(var a=SE.getBonos(Bq,Bq,Nq),b=0,c=0;c<a.length;c++)b+=a[c].getBonoParaNivel(this.nivel,SE);return b},getCMGastado:function(){return this.CMGastado},addCMGastado:function(a){this.CMGastado+=a,u(Bn)},maxPDsAtaqueDefensa:function(){return Math.floor(this.PD_totales/2)},gastoActualPDsAtaqueDefensa:function(){return this[Zq].getPDinvertidos()+this[_q].getPDinvertidos()+this[$q].getPDinvertidos()},getArmaInicial:function(){return this.armaInicial},updateZeonBase:function(a){var b=0;switch(this.getCaracteristica(Jk)){case 1:b=5;break;case 2:b=20;break;case 3:b=40;break;case 4:b=55;break;case 5:b=70;break;case 6:b=85;break;case 7:b=95;break;case 8:b=110;break;case 9:b=120;break;case 10:b=135;break;case 11:b=150;break;case 12:b=160;break;case 13:b=175;break;case 14:b=185;break;case 15:b=200;break;case 16:b=215;break;case 17:b=225;break;case 18:b=240;break;case 19:b=250;break;case 20:b=265}this[qr].setValorInicial(b),a&&u(Cn)},updateACTBase:function(a){var b=SE.getCaracteristica(Jk),c=0;4>=b?c=0:7>=b?c=5:11>=b?c=10:14>=b?c=15:15==b?c=20:17>=b?c=25:19>=b?c=30:20==b&&(c=35),this[rr].setValorInicial(c),a&&u(Cn)},getCVGastados:function(){return this.cv_gastados},setCVGastados:function(a){this.cv_gastados=a,u(Dn)},addCVGastados:function(a){this.setCVGastados(this.getCVGastados()+a)},hasDisciplina:function(a){for(var b=0;b<this.disciplinasPsiquicas.length;b++)if(this.disciplinasPsiquicas[b].getNombre()==a)return!0;return!1},addDisciplina:function(a){this.disciplinasPsiquicas.push(new rb(a)),u(Dn)},getDisciplinasPsiquicas:function(){return this.disciplinasPsiquicas},getAccesoDisciplinas:function(){return this.acceso_disciplinas},hasAccesoDisciplina:function(a){var b;if(this.hasFlag(El))if(this.hasFlag(Fl))b=!0;else{b=!1;for(var c=0;c<this.acceso_disciplinas.length;c++)this.acceso_disciplinas[c]==a&&(b=!0)}else b=!1;return b},addAccesoDisciplina:function(a){this.hasAccesoDisciplina(a)||this.acceso_disciplinas.push(a)},setAccesoDisciplinas:function(a){this.acceso_disciplinas=a},getPotencialPsiquicoBase:function(){return Gb(this.getCaracteristica(Kk))},getInnatosPsiquicos:function(){return this.innatosPsiquicos},setInnatosPsiquicos:function(a){this.innatosPsiquicos=a,u(Dn)},addInnatoPsiquico:function(a){this.setInnatosPsiquicos(this.innatosPsiquicos+a)},updateCVBase:function(){var a=0;a=this.hasFlag(El)?1:0,this[yr].setValorInicial(a),u(Dn)},removeDisciplina:function(a){var b,c=[];for(b=0;b<this.disciplinasPsiquicas.length;b++)this.disciplinasPsiquicas[b].getNombre()!=a.getNombre()&&c.push(this.disciplinasPsiquicas[b]);this.disciplinasPsiquicas=c;var d=[];for(b=0;b<this.poderesPsiquicosDominados.length;b++)this.poderesPsiquicosDominados[b].getDisciplina()!=a?d.push(this.poderesPsiquicosDominados[b]):(this.poderesPsiquicosDominados[b].getFortalecimiento()>0&&(this.cv_gastados-=this.poderesPsiquicosDominados[b].getFortalecimiento()),this.cv_gastados--);this.poderesPsiquicosDominados=d,u(Dn)},addPoderDominado:function(a,b){(this.hasDisciplina(a.getNombre())||a.isLibre())&&(this.poderesPsiquicosDominados.push(new sb(b,a)),u(Dn))},hasPoderDominado:function(a,b){for(var c=0;c<this.poderesPsiquicosDominados.length;c++)if(this.poderesPsiquicosDominados[c].getDisciplina()==a&&this.poderesPsiquicosDominados[c].getPoder().getNombre()==b)return!0;return!1},getPoderesDominadosDisciplina:function(a){for(var b=[],c=0;c<this.poderesPsiquicosDominados.length;c++)this.poderesPsiquicosDominados[c].getDisciplina()==a&&b.push(this.poderesPsiquicosDominados[c]);return b},maxNivelDominadoDisciplina:function(a){for(var b=0,c=0;c<this.poderesPsiquicosDominados.length;c++)this.poderesPsiquicosDominados[c].getDisciplina()==a&&this.poderesPsiquicosDominados[c].getPoder().getNivel()>b&&(b=this.poderesPsiquicosDominados[c].getPoder().getNivel());return b},removePoderDominado:function(a,b){for(var c=[],d=0;d<this.poderesPsiquicosDominados.length;d++)this.poderesPsiquicosDominados[d].getPoder()!=b||this.poderesPsiquicosDominados[d].getDisciplina()!=a?c.push(this.poderesPsiquicosDominados[d]):this.poderesPsiquicosDominados[d].getFortalecimiento()>0&&(this.cv_gastados-=this.poderesPsiquicosDominados[d].getFortalecimiento());this.poderesPsiquicosDominados=c,u(Dn)},fortalecerPoder:function(a,b,c){for(var d=0;d<this.poderesPsiquicosDominados.length;d++)if(this.poderesPsiquicosDominados[d]==b&&this.poderesPsiquicosDominados[d].getDisciplina()==a){this.poderesPsiquicosDominados[d].addFortalecimiento(c),u(Dn);break}},gastoActualPDsSecundarias:function(){for(var a=0,b=0;b<As.length;b++)for(var c=As[b],d=0;d<c.length;d++)a+=this[c[d]].getPDinvertidos();return a},updateBonosSecundarias:function(a){for(var b=0;b<As.length;b++)for(var c=As[b],d=0;d<c.length;d++){var f=G(c[d]),g=new y(sq,f.getNombre(),this.getBonoCaracteristica(f.getCaracteristica()),"",!1,Jq,e(f.getCaracteristica()));this.addBono(g,!0,!1)}a&&u(Gn)},setEspecializacionHabilidadSecundaria:function(a,b){this.getHabilidadDePersonaje(a).setEspecializacion(b),u(Gn)},getDinero:function(){return this.dinero},addDineroOro:function(a){this.dinero.addOro(a)},setFlag:function(a){this.hasFlag(a)||(this.flags.push(a),a==El&&0==this[yr].getValorInicial()&&(this[yr].setValorInicial(1),u(Dn)))},removeFlag:function(a){for(var b=0;b<this.flags.length;b++)if(this.flags[b]==a){if(this.flags[b]="",this.anularVentajasPorFlag(a),a==El)this[yr].setValorInicial(0),this.disciplinasPsiquicas=[],this.poderesPsiquicosDominados=[],this.innatosPsiquicos=0,this.cv_gastados=0,u(Dn);else if(a==Bl){u(Cn);var c=this[ms].getPDinvertidos();this[ms].setPDinvertidos(0),this.addPDLibres(c),this.nivelMagiaGastado=0,this.viasMagia=[],this.conjurosSueltos=[]}return}},hasFlag:function(a){for(var b=0;b<this.flags.length;b++)if(this.flags[b]==a)return!0;return!1},updateBonoyBases:function(){this.pv=this.pvBase(),this.updateMultiplosVida(!1),this.updateBonosTurnoCarac(!1),this.updateCapacidadesFisicas(!1),u(un),this.updateBonosResistenciasCarac(!1),u(zn),this.updateBonosPrimarias(!1),this.updateZeonBase(!1),this.updateACTBase(!1),u(An),u(Cn),u(Dn),this.updateKiInicial(!1),u(Bn),this.updateBonosSecundarias(!1),u(Gn)},updateBonosPrimarias:function(a){var b=new y(sq,Zq,this.getBonoCaracteristica(Fk),"",!1,Jq,Nk);this.addBono(b,!0,!1);var c=new y(sq,$q,this.getBonoCaracteristica(Fk),"",!1,Jq,Nk);this.addBono(c,!0,!1);var d=new y(sq,_q,this.getBonoCaracteristica(Gk),"",!1,Jq,Ok);this.addBono(d,!0,!1);var e=new y(sq,ar,this.getBonoCaracteristica(Ek),"",!1,Jq,Mk);this.addBono(e,!0,!1);var f=new y(sq,sr,this.getBonoCaracteristica(Fk),"",!1,Jq,Nk);this.addBono(f,!0,!1);var g=new y(sq,tr,this.getBonoCaracteristica(Jk),"",!1,Jq,Rk);this.addBono(g,!0,!1);var h=new y(sq,vr,this.getBonoCaracteristica(Jk),"",!1,Jq,Rk);this.addBono(h,!0,!1);var i=new y(sq,wr,this.getBonoCaracteristica(Jk),"",!1,Jq,Rk);this.addBono(i,!0,!1);var j=new y(sq,ur,this.getBonoCaracteristica(Kk),"",!1,Jq,Sk);this.addBono(j,!0,!1);var k=new y(sq,zr,this.getBonoCaracteristica(Fk),"",!1,Jq,Nk);this.addBono(k,!0,!1),a&&(u(An),u(Cn),u(Dn))},getCoste:function(a,b){var c=1;if(c=a==Br?this.categoria.multiploDeVida:b?this.categoria.getCosteHabilidadPrimaria(a):this.categoria.getCosteHabilidadSecundaria(a),0==c)return 0;for(var d=U(a),e=0;e<this.costesReducidos.length;e++){var f=this.costesReducidos[e];(f.getNombre()==a||f.getNombre()==d)&&(f.isAbsoluto()?c=f.getCoste():c-=f.getCoste())}return 1>c&&(c=1),c},maxPDsGrupoHabilidad:function(a){var b;switch(a){case Yq:b=this.categoria.limiteCombate;break;case pr:b=this.categoria.limiteSobrenatural;break;case xr:b=this.categoria.limitePsiquica;break;default:b=1e5}return this.PD_totales*b},gastoActualPDsGrupoHabilidad:function(a){var b,c,d=0;switch(a){case Yq:for(d=this[Zq].getPDinvertidos()+this[_q].getPDinvertidos()+this[$q].getPDinvertidos()+this[ar].getPDinvertidos()+this[lr].getPDinvertidos()+this[or].getPDinvertidos()+this[kr].getPDinvertidos()+this[jr].getPDinvertidos()+this[nr].getPDinvertidos()+this[mr].getPDinvertidos()+this[er].getPDinvertidos()+this[hr].getPDinvertidos()+this[dr].getPDinvertidos()+this[cr].getPDinvertidos()+this[gr].getPDinvertidos()+this[fr].getPDinvertidos(),c=0;c<this.tablasArmas.length;c++)b=this.tablasArmas[c],d+=b.getCoste(this);for(c=0;c<this.artesMarciales.length;c++)d+=pf(0==c);break;case pr:for(d=this[qr].getPDinvertidos()+this[rr].getPDinvertidos()+this[sr].getPDinvertidos()+this[tr].getPDinvertidos()+this[ur].getPDinvertidos()+this[vr].getPDinvertidos()+this[wr].getPDinvertidos(),c=0;c<this.tablasArmas.length;c++)b=this.tablasArmas[c],b.getCategoriaTabla()==gz&&(d+=b.getCoste(this));break;case xr:for(d=this[yr].getPDinvertidos()+this[zr].getPDinvertidos(),c=0;c<this.tablasArmas.length;c++)b=this.tablasArmas[c],b.getCategoriaTabla()==hz&&(d+=b.getCoste(this))}return d},getHabilidadDePersonaje:function(a){if(this[a]!=c)return this[a];throw xl+" "+a},updateNivelesPDHabilidades:function(){for(var a=0,b="",c=0;c<this.allHabilidades.length;c++){var d=this.getCoste(this.allHabilidades[c].getHabilidad().getNombre(),this.allHabilidades[c].getHabilidad().isPrincipal());if(0!=d){var e=this.allHabilidades[c].ajustarPDEnMultiplo(d);""!=e.mensaje&&(a+=e.pdDevueltos,b+=e.mensaje+"<br>")}}0!=a&&(this.PD_libres+=a,u(wn),u(An),u(Bn),u(Cn),u(Dn),u(Gn),alert(b))},updateNivelesPDHabilidad:function(a){var b=this.getCoste(this[a].getNombre(),this[a].isPrincipal());if(0!=b){var c=this[a].ajustarPDEnMultiplo(b);0!=c.pdsDevueltos&&(this.PD_libres+=c.pdsDevueltos,Lf(a),alert(c.mensaje))}},aumentaPDHabilidad:function(a,b){this[a].addPDinvertidos(b),Lf(a),this.addPDLibres(-1*b)},getPresencia:function(){return 30+5*(this.nivel-1)},getGnosis:function(){return this.gnosis},setGnosis:function(a){Mf(this.gnosis,SE),this.gnosis=a,Nf(a,SE)}};If.prototype={constructor:If,getTipo:function(){return this.tipo},setTipo:function(a){this.tipo=a},getVelocidad:function(){return this.velocidad},setVelocidad:function(){return this.velocidad},toString:function(){return this.tipo+" "+this.velocidad}};var YD="Natural",ZD="Ninguna";Jf.prototype={constructor:Jf,toString:function(){for(var a="[",b=0;b<this.TAs.length;b++)a+=this.TAs[b],b<this.TAs.length-1&&(a+=" ");return a+="]"},getNombre:function(){return this.nombre},getTAs:function(){return this.TAs},isBlanda:function(){return this.blanda},setTA:function(a,b){switch(a){case Wm:case Pm:this.TAs[0]=b;break;case Xm:case Qm:this.TAs[1]=b;break;case Ym:case Rm:this.TAs[2]=b;break;case Zm:case Sm:this.TAs[3]=b;break;case $m:case Tm:this.TAs[4]=b;break;case _m:case Um:this.TAs[5]=b;break;case an:case Vm:this.TAs[6]=b}},getTA:function(a){var b=0;switch(a){case Wm:case Pm:b=this.TAs[0];break;case Xm:case Qm:b=this.TAs[1];break;case Ym:case Rm:b=this.TAs[2];break;case Zm:case Sm:b=this.TAs[3];break;case $m:case Tm:b=this.TAs[4];break;case _m:case Um:b=this.TAs[5];break;case an:case Vm:b=this.TAs[6]}return b},isCero:function(){for(var a=!0,b=0;b<this.TAs.length;b++)if(0!=this.TAs[b]){a=!1;break}return a}};var $D="libre",_D="gastado",aE="fijo",bE="no",cE="PC";Kf.prototype={constructor:Kf,toString:function(){var a="";switch(this.estado){case $D:a=$D;break;case _D:case aE:a="+1 "+this.uso}return a},isLibre:function(){return this.estado==$D},isAnulable:function(){return this.estado==_D},gastadoEnCaracteristicas:function(){return this.uso!=cE&&this.uso!=bE},gastadoEnCaracteristica:function(a){return this.uso==a},getCaracteristica:function(){return this.gastadoEnCaracteristicas()?this.uso:""},getUso:function(){return this.uso},gasta:function(a){this.uso=a,this.estado=_D},libera:function(){this.uso=bE,this.estado=$D},fija:function(){this.estado=aE}};var dE="#divPersonales",eE="#divCaracteristicas",fE="#divCapacidades",gE="#divResistencias",hE="#divVentajas",iE="#divDesventajas",jE="#divCombate",kE="#divArtesMarciales",lE="#divKi",mE="#divSobrenatural",nE="#divPsiquica",oE="#divSecundarias",pE="#divDesarrollo",qE="#divElan",rE=!1,sE="Tipo",tE="explicacionMetodo",uE="dialogRepartoCaracteristicas",vE="Asigna los valores",wE=".explicacionRaza",xE=".explicacionVentaja",yE="BOTON_CREACION",zE="BOTON_RAZA",AE="BOTON_CATEGORIA",BE="BOTON_VENTAJAS",CE="BOTON_BONOS_NATURALES",DE="BOTON_ARMA_INICIAL",EE="BOTON_TABLAS_ARMAS",FE="BOTON_ARTES_MARCIALES",GE="BOTON_CV",HE="BOTON_CM",IE="BOTON_MAGIA",JE="BOTON_ELAN",KE="BOTON_FINALIZAR_CREACION",LE="BOTON_SUBIR_NIVEL",ME="BOTON_GUARDAR",NE="BOTON_CARGAR",OE="BOTON_LOG",PE="BOTON_LICENCIA",QE=[yE,zE,AE,BE,CE,DE,FE,EE,GE,HE,IE,JE,KE,LE],RE=function(){var a=b(window).height();try{b(".ui-dialog").dialog("option","height",.8*a)}catch(c){}};b(window).on("resize",function(){RE(),Jn=.8*b(window).height(),console.log("Ahora el alto es "+Jn)});var SE,TE="#dialogElegirCategoria",UE="explicacionCategoria",VE="Seleccionar categoría",WE="Artes Marciales Básicas",XE="Artes Marciales Avanzadas",YE="CATEGORIA_BASICA",ZE="CATEGORIA_AVANZADA",io="Conocimiento Marcial",$E="Habilidades del Ki",_E="Técnicas de Dominio",aF="Niveles de vía",bF="Vías de magia",cF="Conjuros sueltos",dF="Disciplinas dominadas",eF="CVs, Potencial Psíquico e Innatos",fF="CV Libres",gF="Innatos",hF="TagIdArteMarcial",iF="No puedes aprender más artes marciales. Mejora más tu ataque y defensa",jF="Log de cambios",kF="Agradecimientos y licencia de software",lF=21,mF="ESTADO_GENERACION_INICIADA",nF="ESTADO_GENERACION_NINGUNO",oF="ESTADO_GENERACION_PERSONAJE_HECHO",pF="ESTADO_GENERACION_SUBIENDO_NIVEL",qF="Seleccionar método de creación",rF="Seleccionar raza",sF="Comprar ventajas",tF="Elegir desventajas",uF="Elegir bonos naturales",vF="Elegir opciones",wF="Poderes Psíquicos",xF="Dominios del Ki",yF="Magia",zF="Crear Técnica de Dominio",AF="Reparte coste de ki",BF="El método tradicional y más recomendado para generar las tiradas es el de lanzar un D10 ocho veces y apuntar las características en una hoja de papel. Ignora cualquier resultado de 1, 2 ó 3 que saques y repítelo, lo que permitirá a tu personaje no tener en ningún momento puntuaciones demasiado bajas. Una vez que tengas las ocho, sustituye la menor por un 9 para asegurar así que, incluso en el improbable caso de que no tengas ninguna cifra elevada, el personaje será excepcional en al menos un campo. A continuación reparte las cifras como prefieras, definiendo exactamente lo que quieres. Este sistema de generación proporciona unas cifras por media elevadas, pero es natural teniendo en cuenta que los personajes suelen ser individuos excepcionales.",CF="Consiste en tirar dos D10 ocho veces, anotando sólo el resultado más alto de los dos obtenidos. Cuando se tengan las ocho cifras, el personaje las reparte libremente entre las características. Este método asegura una media alta, pero también permite obtener algunas cifras realmente bajas.",DF="Este método se utiliza en el caso de que los jugadores decidan interpretar personajes comunes, sin características demasiado excepcionales. Consiste en lanzar ocho veces un dado apuntando en orden las cifras obtenidas en las casillas de características. Cualquier tirada, por alta o baja que sea, deberá aceptarse.",EF="El último método consiste en tirar siete veces un D10 y sumar todos los resultados obtenidos. La cifra resultante, un número entre siete y setenta, puede ser dividida libremente entre las características, pero sin que en ningún caso se pueda superar el diez.",FF="Se reparten 55 puntos entre las características. Cualquier diez cuesta dos puntos en vez de uno. Pueden repartirse 45 puntos o 65, según el nivel de la partida.",GF="PC insuficientes",HF="Error: Metodo de generación desconocido",IF="Límite de desventajas alcanzado",JF="Límite de gasto del nivel previo alcanzando",KF="RANGOS_HABILIDAD",LF="TABLA_ARMAS",MF="ARTE_MARCIAL",NF="POTENCIAL_PSIQUICO",OF=50,PF=!1,QF="Error: nivel erróneo",RF=function(){"use strict";var a,b,c,d,e={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"	"},f=function(b){throw{name:"SyntaxError",message:b,at:a,text:c}},g=function(d){return d&&d!==b&&f("Expected '"+d+"' instead of '"+b+"'"),b=c.charAt(a),a+=1,b},h=function(){var a,c="";for("-"===b&&(c="-",g("-"));b>="0"&&"9">=b;)c+=b,g();if("."===b)for(c+=".";g()&&b>="0"&&"9">=b;)c+=b;if("e"===b||"E"===b)for(c+=b,g(),("-"===b||"+"===b)&&(c+=b,g());b>="0"&&"9">=b;)c+=b,g();return a=+c,isFinite(a)?a:void f("Bad number")},i=function(){var a,c,d,h="";if('"'===b)for(;g();){if('"'===b)return g(),h;if("\\"===b)if(g(),"u"===b){for(d=0,c=0;4>c&&(a=parseInt(g(),16),isFinite(a));c+=1)d=16*d+a;h+=String.fromCharCode(d)}else{if("string"!=typeof e[b])break;h+=e[b]}else h+=b}f("Bad string")},j=function(){for(;b&&" ">=b;)g()},k=function(){switch(b){case"t":return g("t"),g("r"),g("u"),g("e"),!0;case"f":return g("f"),g("a"),g("l"),g("s"),g("e"),!1;case"n":return g("n"),g("u"),g("l"),g("l"),null}f("Unexpected '"+b+"'")},l=function(){var a=[];if("["===b){if(g("["),j(),"]"===b)return g("]"),a;for(;b;){if(a.push(d()),j(),"]"===b)return g("]"),a;g(","),j()}}f("Bad array")},m=function(){var a,c={};if("{"===b){if(g("{"),j(),"}"===b)return g("}"),c;for(;b;){if(a=i(),j(),g(":"),Object.hasOwnProperty.call(c,a)&&f('Duplicate key "'+a+'"'),c[a]=d(),j(),"}"===b)return g("}"),c;g(","),j()}}f("Bad object")};return d=function(){switch(j(),b){case"{":return m();case"[":return l();case'"':return i();case"-":return h();default:return b>="0"&&"9">=b?h():k()}},function(e,g){var h;return c=e,a=0,b=" ",h=d(),j(),b&&f("Syntax error"),"function"==typeof g?function(a){var b,c;for(c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b=a[c],g.call(a,c,b))}(h):h}}();a.inicializar=function(){T(),_c(),Xe(),qf(),Ff(),Hg();var a={};if(location.search.substr(1).split("&").forEach(function(b){a[b.split("=")[0]]=b.split("=")[1]}),1==a.carga){var c=a.id;jQuery.ajax("http://helechaloscuro.net/cake/personajes/carga/"+c,{success:function(a){uk(a),Jn=.8*b(window).height()},dataType:"text",error:function(){}})}else{SE=new Hf,SE.setRaza(lf(tz)),SE.setCategoria(ED),Qf(SE);var d=!0;"undefined"!=typeof Storage&&localStorage.ultimosCambiosVistos==lF&&(d=!1),d&&Xh(),Jn=.8*b(window).height()}}}(window.animaUnico=window.animaUnico||{},jQuery);